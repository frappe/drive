{"version":3,"file":"CommentEditor-6a730229.js","sources":["../../../../frontend/src/components/DocEditor/components/CommentEditor.vue"],"sourcesContent":["<template>\n  <div\n    class=\"w-full\"\n    @keydown.ctrl.enter.capture.stop=\"\n      !disabled && !isEmpty && $emit('submit', editor)\n    \"\n    @keydown.meta.enter.capture.stop=\"\n      !disabled && !isEmpty && $emit('submit', editor)\n    \"\n    @keydown.esc.stop=\"$emit('cancel', editor)\"\n  >\n    <TextEditor\n      ref=\"textEditor\"\n      :autofocus=\"true\"\n      :editable=\"editable\"\n      :content=\"content\"\n      :mentions=\"allUsers.data\"\n      class=\"editor flex\"\n      :class=\"editable && 'border rounded'\"\n      :editor-class=\"[\n        'text-p-sm min-w-2 flex-grow',\n        editable && 'pl-2.5 py-1.5',\n      ]\"\n      :placeholder\n      :bubble-menu=\"[\n        'Bold',\n        'Italic',\n        'Strikethrough',\n        'Separator',\n        'Code',\n        'Blockquote',\n        'Separator',\n        ['Bullet List', 'Numbered List'],\n      ]\"\n      @change=\"\n        (val) => {\n          $emit('change')\n          editorContent = val\n        }\n      \"\n    >\n      <template #bottom=\"{ editor }\">\n        <div\n          v-if=\"editable\"\n          class=\"self-end me-1 flex-shrink-0 flex gap-1 mb-1.5\"\n        >\n          <Button\n            v-if=\"!isEmpty\"\n            :disabled\n            variant=\"ghost\"\n            class=\"!h-5 !w-5 !text-xs !rounded-sm\"\n            @click=\"$emit('submit', editor)\"\n          >\n            <template #icon>\n              <LucideMessageCircleReply class=\"size-3.5\" />\n            </template>\n          </Button>\n          <Button\n            v-if=\"!isEmpty\"\n            variant=\"ghost\"\n            class=\"!h-5 !w-5 !text-xs !rounded-sm\"\n            @click=\"$emit('cancel', editor)\"\n          >\n            <template #icon>\n              <LucideX class=\"w-3.5\" />\n            </template>\n          </Button>\n        </div>\n      </template>\n    </TextEditor>\n  </div>\n</template>\n<script setup>\nimport { TextEditor, Button } from \"frappe-ui\"\nimport { allUsers } from \"@/resources/permissions\"\nimport { computed, ref } from \"vue\"\n\nconst editorContent = defineModel({ type: String })\n\nconst textEditor = ref(\"textEditor\")\nconst editor = computed(() => {\n  return textEditor.value?.editor\n})\n\ndefineProps({\n  placeholder: String,\n  isEmpty: { type: Boolean, default: false },\n  disabled: { type: Boolean, default: false },\n  editable: { type: Boolean, default: true },\n  content: { type: String, default: \"\" },\n})\ndefineEmits([\"submit\", \"cancel\", \"change\"])\n</script>\n<style>\n.editor > div:first-child {\n  flex-grow: 1;\n}\n</style>\n"],"names":["editorContent","_useModel","__props","textEditor","ref","editor","computed","_createElementBlock","$emit","_cache","_withKeys","_withModifiers","$event","_createVNode","_unref","TextEditor","allUsers","_normalizeClass","val","_withCtx","_openBlock","_hoisted_1","_createBlock","Button","_component_LucideMessageCircleReply","_component_LucideX"],"mappings":"goCA6EA,MAAMA,EAAgBC,EAA4BC,EAAA,YAAA,EAE5CC,EAAaC,EAAI,YAAY,EAC7BC,EAASC,EAAS,IACfH,EAAW,OAAO,MAC1B,yCAjFCI,EAqEM,MAAA,CApEJ,MAAM,8CACoC,CAAAL,EAAA,UAAa,CAAAA,EAAA,SAAWM,EAAAA,eAAgBH,EAAM,KAAA,kDAG9C,CAAAH,EAAA,UAAa,CAAAA,EAAA,SAAWM,EAAAA,eAAgBH,EAAM,KAAA,gCAGvF,UAAOI,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,EAAAC,EAAAC,GAAWJ,EAAK,MAAA,SAAWH,EAAM,KAAA,EAAA,CAAA,MAAA,CAAA,EAAA,CAAA,KAAA,CAAA,KAEzCQ,EA0DaC,EAAAC,CAAA,EAAA,SAzDP,aAAJ,IAAIZ,EACH,UAAW,GACX,SAAUD,EAAQ,SAClB,QAASA,EAAO,QAChB,SAAUY,EAAQE,CAAA,EAAC,KACpB,MAAKC,EAAA,CAAC,cACEf,EAAQ,UAAA,gBAAA,CAAA,EACf,eAAY,+BAAmDA,EAAQ,UAAA,iBAIvE,YAAAA,EAAW,YACX,cAAa,4GASb,EACA,SAAMO,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAYS,GAAG,CAAiBV,EAAK,MAAA,QAAA,EAAqBR,EAAA,MAAgBkB,MAOtE,OAAMC,EACf,CAyBM,CA1Ba,OAAAd,KAAM,CAEjBH,EAAQ,UADhBkB,IAAAb,EAyBM,MAzBNc,EAyBM,CApBKnB,EAAO,sBADhBoB,EAUSR,EAAAS,CAAA,EAAA,OARN,SAAArB,EAAQ,SACT,QAAQ,QACR,MAAM,iCACL,QAAKU,GAAEJ,EAAK,MAAA,SAAWH,CAAM,IAEnB,OACT,IAA6C,CAA7CQ,EAA6CW,EAAA,CAAnB,MAAM,UAAU,CAAA,oCAIrCtB,EAAO,sBADhBoB,EASSR,EAAAS,CAAA,EAAA,OAPP,QAAQ,QACR,MAAM,iCACL,QAAKX,GAAEJ,EAAK,MAAA,SAAWH,CAAM,IAEnB,OACT,IAAyB,CAAzBQ,EAAyBY,EAAA,CAAhB,MAAM,OAAO,CAAA"}