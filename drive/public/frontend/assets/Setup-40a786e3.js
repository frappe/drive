import{z as _,b as C,d as B,f as x,A as m,g as r,h as t,i as c,k as s,l,j as w,c as p,n as y,w as v,q as V,o as a,v as $,B as S,x as h}from"./index-ab38d1de.js";const q={class:"flex h-screen w-full overflow-hidden sm:bg-surface-menu-bar"},D={class:"w-full overflow-auto"},N={class:"relative h-full"},T={class:"relative z-10 mx-auto pt-8 sm:w-max sm:pt-20"},j={class:"mx-auto w-full bg-surface-white px-4 py-8 sm:mt-6 sm:w-112 sm:rounded-2xl sm:px-6 sm:py-6 sm:shadow-2xl"},z={key:0,class:"flex justify-center py-8"},W={key:1,class:"flex flex-col py-5 gap-3"},J={key:2,class:"flex flex-col text-md gap-2"},A={key:0},E={key:1},I={class:"flex justify-between mt-3"},U={__name:"Setup",setup(P){const b=_(),n=C(null),f=B(()=>b.state.user.id),o=x({url:"drive.api.product.get_domain_teams",auto:!0,params:{domain:f.value.split("@").slice(-1)[0]},onSuccess(i){i===!1&&m.submit({personal:1},{onSuccess:g})}}),g=i=>{i?window.location.replace("/drive"):window.location.reload()},k=x({url:"drive.api.product.request_invite",onSuccess:()=>{window.location.replace("/drive/teams")}});return(i,e)=>{const u=V("Button");return a(),r("div",q,[t("div",D,[t("div",N,[t("div",T,[t("div",{class:"flex flex-col items-center",onDblclick:e[0]||(e[0]=d=>i.window.location.href="/f-login")},[c($,{class:"inline-block h-12 w-12 rounded-md"})],32),t("div",j,[e[12]||(e[12]=t("div",{class:"mb-7.5 text-center"},[t("p",{class:"mb-2 text-2xl font-semibold leading-6 text-ink-gray-9"}," Welcome to Drive "),t("p",{class:"break-words text-base font-normal leading-[21px] text-ink-gray-7"}," We're glad you're here. ")],-1)),s(o).loading?(a(),r("div",z,[...e[5]||(e[5]=[t("div",{class:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-600"},null,-1)])])):s(o).data?s(o).data.length?(a(),r("div",J,[e[11]||(e[11]=t("p",null,[l(" We noticed that you are on a "),t("strong",null,"corporate domain"),l(". ")],-1)),s(o).data.length?(a(),r("p",A,[e[7]||(e[7]=l(" Do you want to create a personal account, or request to join the team (",-1)),t("strong",null,w(s(o).data[0].title),1),e[8]||(e[8]=l(") associated with your domain? ",-1))])):(a(),r("p",E," Do you want to create a personal account, or create a team with your domain? ")),typeof n.value=="string"?(a(),p(s(h),{key:2,modelValue:n.value,"onUpdate:modelValue":e[1]||(e[1]=d=>n.value=d),label:"Team Name",class:"py-2",type:"text",required:""},null,8,["modelValue"])):y("",!0),t("div",I,[c(u,{variant:"subtle",class:"w-100",onClick:e[2]||(e[2]=d=>s(m).submit())},{default:v(()=>[...e[9]||(e[9]=[l(" Create Personal ",-1)])]),_:1}),s(o).data.length?(a(),p(u,{key:0,variant:"solid",onClick:e[3]||(e[3]=d=>(s(k).submit({team:s(o).data[0].name}),i.$router.replace({path:"/drive/teams"})))},{default:v(()=>[l(" Join "+w(s(o).data[0].title),1)]),_:1})):(a(),p(u,{key:1,variant:"solid",onClick:e[4]||(e[4]=d=>typeof n.value=="string"?s(m).submit({team_name:n.value,email:f.value}):n.value="")},{default:v(()=>[...e[10]||(e[10]=[l(" Create Team ",-1)])]),_:1}))])])):y("",!0):(a(),r("div",W,[c(S,{class:"size-5 self-center"}),e[6]||(e[6]=t("div",{class:"text-sm text-center"}," Just a minute... ",-1))]))])])])])])}}};export{U as default};
//# sourceMappingURL=Setup-40a786e3.js.map
