{"version":3,"file":"Recents-740b30cb.js","sources":["../../../../frontend/src/pages/Recents.vue"],"sourcesContent":["<template>\n  <GenericPage\n    :grouper=\"groupByTime\"\n    :get-entities=\"getRecents\"\n    :show-sort=\"false\"\n    :empty=\"{\n      icon: LucideClock,\n      title: 'No recent files',\n      description: 'Try opening something to see it here.',\n    }\"\n  />\n</template>\n\n<script setup>\nimport GenericPage from \"@/components/GenericPage.vue\"\nimport { getRecents } from \"@/resources/files\"\nimport LucideClock from \"~icons/lucide/clock\"\n// Broken - list view\n\nfunction groupByTime(entities) {\n  const today = new Date()\n  const grouped = {\n    Today: [],\n    \"Earlier this week\": [],\n    \"Earlier this month\": [],\n    \"Earlier this year\": [],\n    \"Older than a year\": [],\n  }\n  entities.forEach((file) => {\n    const modifiedDate = new Date(file.accessed)\n    const yearDiff = today.getFullYear() - modifiedDate.getFullYear()\n    const monthDiff = today.getMonth() - modifiedDate.getMonth() + yearDiff * 12 // Adjust for year difference\n    const dayDiff = Math.floor((today - modifiedDate) / (1000 * 60 * 60 * 24))\n    if (dayDiff === 0) {\n      grouped[\"Today\"].push(file)\n    } else if (dayDiff <= 7) {\n      grouped[\"Earlier this week\"].push(file)\n    } else if (monthDiff === 0) {\n      grouped[\"Earlier this month\"].push(file)\n    } else if (yearDiff === 0) {\n      grouped[\"Earlier this year\"].push(file)\n    } else {\n      grouped[\"Older than a year\"].push(file)\n    }\n  })\n  return grouped\n}\n</script>\n"],"names":["groupByTime","entities","today","grouped","file","modifiedDate","yearDiff","monthDiff","dayDiff","_createBlock","GenericPage","_unref","getRecents","LucideClock"],"mappings":"4PAmBA,SAASA,EAAYC,EAAU,CAC7B,MAAMC,EAAQ,IAAI,KACZC,EAAU,CACd,MAAO,CAAE,EACT,oBAAqB,CAAE,EACvB,qBAAsB,CAAE,EACxB,oBAAqB,CAAE,EACvB,oBAAqB,CAAE,CACzB,EACA,OAAAF,EAAS,QAASG,GAAS,CACzB,MAAMC,EAAe,IAAI,KAAKD,EAAK,QAAQ,EACrCE,EAAWJ,EAAM,YAAW,EAAKG,EAAa,YAAY,EAC1DE,EAAYL,EAAM,SAAQ,EAAKG,EAAa,SAAQ,EAAKC,EAAW,GACpEE,EAAU,KAAK,OAAON,EAAQG,IAAiB,IAAO,GAAK,GAAK,GAAG,EACrEG,IAAY,EACdL,EAAQ,MAAS,KAAKC,CAAI,EACjBI,GAAW,EACpBL,EAAQ,mBAAmB,EAAE,KAAKC,CAAI,EAC7BG,IAAc,EACvBJ,EAAQ,oBAAoB,EAAE,KAAKC,CAAI,EAC9BE,IAAa,EACtBH,EAAQ,mBAAmB,EAAE,KAAKC,CAAI,EAEtCD,EAAQ,mBAAmB,EAAE,KAAKC,CAAI,CAE5C,CAAG,EACMD,CACT,mBA7CEM,EASEC,EAAA,CARC,QAASV,EACT,eAAcW,EAAUC,CAAA,EACxB,YAAW,GACX,MAAK,MAAgBD,EAAWE,CAAA"}