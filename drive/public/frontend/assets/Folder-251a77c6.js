import{_ as u}from"./GenericPage-84b050fc.js";import{z as l,f as i,aD as d,aE as p,d as f,ay as _,E as y,c as N,k as a,aF as g,az as C,aA as F,o as h,aG as S}from"./index-875d8ccd.js";import"./ListView-325659f5.js";import"./ErrorPage-cd219075.js";import"./folder-open-dot-39279c8d.js";const x={__name:"Folder",props:{entityName:String,slug:String},setup(n){const s=l(),t=n;s.commit("setCurrentFolder",{name:t.entityName});const o=i({...d,url:"drive.api.list.files",makeParams:e=>({...e,entity_name:t.entityName}),cache:["folder",t.entityName]});p(o,["folder",t.entityName]);const m=e=>{g.currentRoute.value.params.entityName===e.name&&(document.title="Folder - "+e.title,C(e),F(e.title))},c=f(()=>t.entityName),r=i({url:"drive.api.permissions.get_entity_with_permissions",transform(e){return _([e])[0]},onSuccess:m});return s.commit("setCurrentResource",r),y(c,e=>r.fetch({entity_name:e}),{immediate:!0}),(e,v)=>(h(),N(u,{verify:a(r),"get-entities":a(o),empty:{icon:a(S),title:"No files added yet"}},null,8,["verify","get-entities","empty"]))}};export{x as default};
//# sourceMappingURL=Folder-251a77c6.js.map
