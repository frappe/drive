import{al as k,o as n,g as d,r as w,h as p,j as T,k as s,c as v,m as L,aB as E,n as x,b as O,d as y,bk as D,bl as R,bm as A,aI as _,aV as K,bn as B,F as z,p as H,aJ as N,a as V,i as $,w as W,R as q,_ as F,l as P,bg as X,bo as J,bp as Z,E as I,b7 as Q}from"./index-5693bb51.js";const Y={class:"flex h-full w-full flex-col items-center justify-center text-base"},ee={class:"text-xl font-medium text-ink-gray-8 mt-6"},te={class:"mt-1 text-base text-ink-gray-5"},se={__name:"ListEmptyState",setup(l){const t=k("list");return(e,o)=>(n(),d("div",Y,[w(e.$slots,"default",{},()=>[p("div",ee,T(s(t).options.emptyState.title),1),p("div",te,T(s(t).options.emptyState.description),1),s(t).options.emptyState.button?(n(),v(s(E),L({key:0},s(t).options.emptyState.button,{class:"mt-4"}),null,16)):x("",!0)])]))}};function M(l,t=!0){let e=t?"14px ":"",o=l.map(r=>{let i=r.width||1;return typeof i=="number"?i+"fr":i}).join(" ");return e+o}const G={left:"justify-start",start:"justify-start",center:"justify-center",middle:"justify-center",right:"justify-end",end:"justify-end"},oe={class:"truncate"},le={__name:"ListHeaderItem",props:{item:{type:Object,required:!0},debounce:{type:Number,default:1e3}},emits:["columnWidthUpdated"],setup(l,{emit:t}){const e=l,o=t,r=O(null),i=O(null),f=y(()=>{if(typeof e.item.width=="string"){const u=parseInt(e.item.width);if(e.item.width.includes("rem"))return u*16;if(e.item.width.includes("px"))return u}return i.value.offsetWidth}),C=u=>{const m=u.clientX,c=f.value,b=h=>{document.body.classList.add("select-none"),document.body.classList.add("cursor-col-resize"),r.value.style.backgroundColor="rgb(199 199 199)";let g=c+(h.clientX-m);e.item.width=`${g<50?50:g}px`,S(e.item.width)},a=()=>{document.body.classList.remove("select-none"),document.body.classList.remove("cursor-col-resize"),r.value.style.backgroundColor="",window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",a)};window.addEventListener("mousemove",b),window.addEventListener("mouseup",a)},S=D(u=>{e.item.width=u,o("columnWidthUpdated")},e.debounce),j=k("list");return(u,m)=>(n(),d("div",{ref_key:"columnRef",ref:i,class:_(["group relative flex items-center",l.item.align?s(G)[l.item.align]:"justify-between"])},[p("div",{class:_(["flex items-center space-x-2 truncate text-sm text-ink-gray-5",u.$attrs.class])},[w(u.$slots,"prefix",R(A({item:l.item}))),w(u.$slots,"default",{},()=>[p("div",oe,T(l.item.label),1)]),w(u.$slots,"suffix",R(A({item:l.item})))],2),s(j).options.resizeColumn?w(u.$slots,"resizer",R(L({key:0},{item:l.item})),()=>[p("div",{class:"flex h-4 absolute -right-2 w-2 cursor-col-resize justify-center",onMousedown:C},[p("div",{ref_key:"resizer",ref:r,class:"h-full w-[2px] rounded-full transition-all duration-300 ease-in-out group-hover:bg-gray-400"},null,512)],32)]):x("",!0)],2))}},ne={__name:"ListHeader",emits:["columnWidthUpdated"],setup(l,{emit:t}){const e=t,o=k("list");return(r,i)=>(n(),d("div",{class:"mb-2 grid items-center space-x-4 rounded bg-surface-gray-2 p-2",style:N({gridTemplateColumns:s(M)(s(o).columns,s(o).options.selectable)})},[s(o).options.selectable?(n(),v(B,{key:0,class:"cursor-pointer duration-300",modelValue:s(o).allRowsSelected,onClick:K(s(o).toggleAllRows,["stop"])},null,8,["modelValue","onClick"])):x("",!0),w(r.$slots,"default",{},()=>[(n(!0),d(z,null,H(s(o).columns,f=>(n(),v(le,{key:f.key,item:f,onColumnWidthUpdated:C=>e("columnWidthUpdated",f)},null,8,["item","onColumnWidthUpdated"]))),128))])],4))}},re={class:"truncate text-base"},ie={__name:"ListRowItem",props:{column:{type:Object,default:{}},row:{type:Object,default:{}},item:{type:[String,Number,Object],default:""},align:{type:String,default:"left"}},setup(l){const t=l,e=y(()=>t.column?.getLabel?t.column?.getLabel({row:t.row}):r(t.item).label||""),o=y(()=>i.value.options.showTooltip?t.column.getTooltip?t.column.getTooltip(t.row):r(t.item).label:"");function r(f){return f&&typeof f=="object"?f:{label:f}}const i=k("list");return(f,C)=>(n(),d("div",{class:_(["flex items-center space-x-2",s(G)[l.align]])},[w(f.$slots,"prefix",{},()=>[l.column.prefix?(n(),v(V(typeof l.column.prefix=="function"?l.column.prefix({row:l.row}):l.column.prefix),{key:0})):x("",!0)]),$(s(q),R(A(s(i).options.showTooltip?{text:o.value}:{text:""})),{default:W(()=>[w(f.$slots,"default",R(A({label:e.value})),()=>[p("div",re,T(e.value),1)])]),_:3},16),w(f.$slots,"suffix")],2))}},U={__name:"ListRow",props:{row:{type:Object,required:!0}},setup(l){const t=l,e=k("list"),o=y(()=>e.value.rows?.length?e.value.rows[e.value.rows.length-1][e.value.rowKey]===t.row[e.value.rowKey]:!1),r=y(()=>e.value.selections.has(t.row[e.value.rowKey])),i=y(()=>e.value.options.enableActive&&e.value.activeRow.value===t.row.name),f=y(()=>e.value.options.getRowRoute||e.value.options.onRowClick),C=y(()=>typeof e.value.options.rowHeight=="number"?`${e.value.options.rowHeight}px`:e.value.options.rowHeight),S=y(()=>{if(!r.value)return"rounded";const u=[...e.value.selections];let m=e.value.rows[0]?.group?e.value.rows.map(c=>c.rows):[e.value.rows];for(let c of m){let b=c.findIndex(g=>g==t.row);if(b===-1)continue;let a=!u.includes(c[b+1]?.name),h=!u.includes(c[b-1]?.name);return(a?"rounded-b ":"")+(h?"rounded-t":"")}}),j=(u,m)=>{e.value.options.onRowClick&&e.value.options.onRowClick(u,m),e.value.activeRow.value===u.name?e.value.activeRow.value=null:e.value.activeRow.value=u.name};return(u,m)=>(n(),v(V(s(e).options.getRowRoute?"router-link":"div"),L({class:[[S.value,r.value||i.value?"bg-surface-gray-2":"",f.value?"cursor-pointer":"",f.value?r.value||i.value?"hover:bg-surface-gray-3":"hover:bg-surface-menu-bar":""],"flex flex-col transition-all duration-300 ease-in-out"]},{to:s(e).options.getRowRoute?s(e).options.getRowRoute(l.row):void 0,onClick:c=>j(l.row,c)}),{default:W(()=>[(n(),v(V(s(e).options.getRowRoute?"template":"button"),{class:"[all:unset] hover:[all:unset]"},{default:W(()=>[p("div",{class:"grid items-center space-x-4 px-2",style:N({height:C.value,gridTemplateColumns:s(M)(s(e).columns,s(e).options.selectable)})},[s(e).options.selectable?(n(),d("div",{key:0,class:"w-fit pr-2 py-3 flex",onClick:m[1]||(m[1]=K(()=>{},["stop","prevent"])),onDblclick:m[2]||(m[2]=K(()=>{},["stop"]))},[$(B,{modelValue:r.value,class:"cursor-pointer duration-300",onClick:m[0]||(m[0]=K(c=>s(e).toggleRow(l.row[s(e).rowKey]),["stop"]))},null,8,["modelValue"])],32)):x("",!0),(n(!0),d(z,null,H(s(e).columns,(c,b)=>(n(),d("div",{key:c.key,class:_([s(G)[c.align],b==0?"text-ink-gray-9":"text-ink-gray-7"])},[w(u.$slots,"default",L({ref_for:!0},{idx:b,column:c,item:l.row[c.key],isActive:i.value}),()=>[s(e).slots.cell?(n(),v(V(s(e).slots.cell),L({key:0,ref_for:!0},{column:c,row:l.row,item:l.row[c.key],align:c.align}),null,16)):(n(),v(ie,{key:1,column:c,row:l.row,item:l.row[c.key],align:c.align},null,8,["column","row","item","align"]))])],2))),128))],4),o.value?x("",!0):(n(),d("div",{key:0,class:_(["h-px border-t",S.value==="rounded"||S.value?.includes?.("rounded-b")?"mx-2 border-outline-gray-1":"border-t-[--surface-gray-2]"])},null,2))]),_:3}))]),_:3},16,["class"]))}},ae={class:"h-full overflow-y-auto"},ue={__name:"ListRows",setup(l){const t=k("list");return(e,o)=>(n(),d("div",ae,[w(e.$slots,"default",{},()=>[(n(!0),d(z,null,H(s(t).rows,r=>(n(),v(U,{key:r[s(t).rowKey],row:r},null,8,["row"]))),128))])]))}},ce={},de={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16"};function fe(l,t){return n(),d("svg",de,[...t[0]||(t[0]=[p("path",{fill:"currentColor",d:"M4.293 5.28h7.413a.5.5 0 0 1 .41.787l-3.707 5.295a.5.5 0 0 1-.82 0L3.884 6.067a.5.5 0 0 1 .41-.787Z"},null,-1)])])}const pe=F(ce,[["render",fe]]),me={class:"flex items-center"},we={class:"w-full py-1.5 pr-2"},ve={key:1,class:"text-base font-medium leading-6"},ge={__name:"ListGroupHeader",props:{group:{type:Object,required:!0}},setup(l){const t=l,e=k("list");function o(){t.group.collapsed==null&&(t.group.collapsed=!1),t.group.collapsed=!t.group.collapsed}return(r,i)=>(n(),d(z,null,[p("div",me,[p("button",{onClick:o,class:"ml-[3px] mr-[11px] rounded p-1 hover:bg-surface-gray-2"},[$(pe,{class:_(["h-4 w-4 text-ink-gray-6 transition-transform duration-200",[l.group.collapsed?"-rotate-90":""]])},null,8,["class"])]),w(r.$slots,"default",{},()=>[p("div",we,[s(e).slots["group-header"]?(n(),v(V(s(e).slots["group-header"]),R(L({key:0},{group:l.group})),null,16)):(n(),d("span",ve,T(l.group.group),1))])])]),i[0]||(i[0]=p("div",{class:"mx-2 h-px border-t border-outline-gray-modals"},null,-1))],64))}},ye={key:0,class:"mb-5 mt-2"},he={__name:"ListGroupRows",props:{group:{type:Object,required:!0}},setup(l){const t=k("list");return(e,o)=>l.group.collapsed?x("",!0):(n(),d("div",ye,[w(e.$slots,"default",{},()=>[(n(!0),d(z,null,H(l.group.rows,r=>(n(),v(U,{key:r[s(t).rowKey],row:r},null,8,["row"]))),128))])]))}},be={class:"h-full overflow-y-auto"},xe={__name:"ListGroups",setup(l){const t=k("list");return(e,o)=>(n(),d("div",be,[(n(!0),d(z,null,H(s(t).rows,r=>(n(),d("div",{key:r.group},[w(e.$slots,"default",{},()=>[$(ge,{group:r},{default:W(()=>[e.$slots["group-header"]?w(e.$slots,"group-header",L({key:0,ref_for:!0},{group:r})):x("",!0)]),_:2},1032,["group"]),$(he,{group:r},null,8,["group"])])]))),128))]))}},ke={key:0,class:"absolute inset-x-0 bottom-6 mx-auto w-max text-base"},Re={class:"flex flex-1 justify-between border-r border-outline-gray-2 text-ink-gray-9"},$e={class:"flex items-center space-x-3"},_e={class:"mr-3"},Ce={class:"flex items-center space-x-1"},Se=Object.assign({inheritAttrs:!1},{__name:"ListSelectBanner",setup(l){const t=k("list");let e=y(()=>t.value.options.selectionText(t.value.selections.size));return(o,r)=>(n(),v(X,{"enter-active-class":"duration-300 ease-out","enter-from-class":"transform opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-300 ease-in","leave-from-class":"opacity-100","leave-to-class":"transform opacity-0"},{default:W(()=>[s(t).selections.size?(n(),d("div",ke,[p("div",{class:_(["flex min-w-[596px] items-center space-x-3 rounded-lg bg-surface-white px-4 py-2 shadow-2xl",o.$attrs.class])},[w(o.$slots,"default",R(A({selections:s(t).selections,allRowsSelected:s(t).allRowsSelected,selectAll:()=>s(t).toggleAllRows(!0),unselectAll:()=>s(t).toggleAllRows(!1)})),()=>[p("div",Re,[p("div",$e,[$(B,{modelValue:!0,disabled:!0,class:"text-ink-gray-9"}),p("div",null,T(s(e)),1)]),p("div",_e,[w(o.$slots,"actions",R(A({selections:s(t).selections,allRowsSelected:s(t).allRowsSelected,selectAll:()=>s(t).toggleAllRows(!0),unselectAll:()=>s(t).toggleAllRows(!1)})))])]),p("div",Ce,[$(s(E),{class:_(["w- text-ink-gray-7",s(t).allRowsSelected?"cursor-not-allowed":""]),disabled:s(t).allRowsSelected,variant:"ghost",onClick:r[0]||(r[0]=i=>s(t).toggleAllRows(!0))},{default:W(()=>[...r[2]||(r[2]=[P(" Select all ",-1)])]),_:1},8,["disabled","class"]),$(s(E),{icon:"x",variant:"ghost",onClick:r[1]||(r[1]=i=>s(t).toggleAllRows(!1))})])])],2)])):x("",!0)]),_:3}))}}),je={class:"relative flex w-full flex-1 flex-col overflow-x-auto"},Ae=Object.assign({inheritAttrs:!1},{__name:"ListView",props:{columns:{type:Array,default:[]},rows:{type:Array,default:[]},rowKey:{type:String,required:!0},options:{type:Object,default:()=>({getRowRoute:null,onRowClick:null,showTooltip:!0,selectable:!0,resizeColumn:!1,rowHeight:40,emptyState:{title:"No Data",description:"No data available"}})}},emits:["update:selections","update:active-row"],setup(l,{expose:t,emit:e}){const o=l,r=J();let i=Z(new Set),f=O(null);const C=e;I(i,a=>{i.size&&(f.value=null),C("update:selections",a)}),I(f,a=>{C("update:active-row",a)});let S=y(()=>{function a(g){return g===void 0?!0:g}function h(g){return g===void 0?!1:g}return{getRowRoute:o.options.getRowRoute||null,onRowClick:o.options.onRowClick||null,showTooltip:a(o.options.showTooltip),selectionText:o.options.selectionText||(g=>g===1?"1 row selected":`${g} rows selected`),enableActive:h(o.options.enableActive),selectable:a(o.options.selectable),resizeColumn:h(o.options.resizeColumn),rowHeight:o.options.rowHeight||40,emptyState:o.options.emptyState}});const j=y(()=>o.rows.length?m.value?i.size===o.rows.reduce((a,h)=>a+h.rows.length,0):i.size===o.rows.length:!1),u=y(()=>S.value.selectable);let m=y(()=>o.rows.every(a=>a.group&&a.rows&&Array.isArray(a.rows)));function c(a){i.delete(a)||i.add(a)}function b(a){if(!a||j.value){i.clear();return}if(m.value){o.rows.forEach(h=>{h.rows.forEach(g=>i.add(g[o.rowKey]))});return}o.rows.forEach(h=>i.add(h[o.rowKey]))}return Q("list",y(()=>({rowKey:o.rowKey,rows:o.rows,columns:o.columns,options:S.value,selections:i,activeRow:f,allRowsSelected:j.value,slots:r,toggleRow:c,toggleAllRows:b}))),t({selections:i,allRowsSelected:j,toggleRow:c,toggleAllRows:b}),(a,h)=>(n(),d("div",je,[p("div",{class:_(["flex w-max min-w-full flex-col overflow-y-hidden",a.$attrs.class]),style:N(a.$attrs.style)},[w(a.$slots,"default",R(A({showGroupedRows:s(m),selectable:u.value})),()=>[$(ne),o.rows.length?(n(),d(z,{key:0},[s(m)?(n(),v(xe,{key:0})):(n(),v(ue,{key:1}))],64)):(n(),v(se,{key:1})),u.value?(n(),v(Se,{key:2})):x("",!0)])],6)]))}});export{Ae as _,ie as a,U as b,ne as c,se as d,ge as e,he as f};
//# sourceMappingURL=ListView-3caa45c5.js.map
