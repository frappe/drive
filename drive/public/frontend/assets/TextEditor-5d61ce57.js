import{cB as oi,_ as ie,cL as Ls,cM as Ds,cN as Bs,q as We,o as j,c as _e,w as Se,h as G,al as Qe,g as X,F as Ge,p as tt,j as Te,cO as Ps,i as fe,ce as Us,a as bt,n as be,am as yt,aI as ve,m as ai,aW as ci,bG as it,an as st,cP as Fs,cQ as $s,cR as Hs,ao as li,b as Ue,cS as zs,d as Le,aJ as It,E as De,e as tr,cT as Vs,cU as Ks,cV as Gs,cW as qs,cX as Ws,cY as Ys,cZ as Zs,c_ as js,c$ as Xs,d0 as Qs,d1 as Js,d2 as eo,d3 as to,d4 as no,d5 as ro,d6 as io,d7 as so,d8 as oo,d9 as ao,da as co,db as lo,dc as uo,dd as fo,de as ho,df as po,dg as go,dh as mo,di as bo,dj as _o,ak as yn,b7 as di,r as xn,k as oe,dk as yo,dl as ui,dm as nt,dn as zt,dp as Vt,dq as nr,dr as vo,ds as Eo,dt as Sr,du as Cr,ab as Ht,aV as wo,b2 as So,b9 as Co,ac as rn,J as vn,bp as sn,dv as Tr,dw as To,cA as Be,dx as rt,bw as En,dy as fi,dz as hi,dA as Ao,dB as pi,dC as No,a4 as gi,aF as xo,aO as cn,z as Ro,aQ as Xe,aj as mi,f as Kt,t as on,bk as ko,bh as Ar,aT as Mo,l as Gt,aB as Tt,X as Nr,K as xr,dD as Oo,bA as bi,a$ as Io,H as _i,W as Lo,dE as Rr,av as At,dF as Do,dG as Bo,aS as Rn,cD as kr,I as qt,ci as Po}from"./index-875d8ccd.js";import{O as rr,f as yi,g as lt,e as vi,c as Ce,w as pe,a as wn,t as Ne,b as Sn,r as Rt,d as ir,B as Mr,h as Uo,i as sr,j as Fo,y as ue,k as qe,l as $o,m as et,n as ln,s as kt,u as or,D as Ei,o as Or,p as Ho,q as Ir,v as wi,S as Si,U as Ci,Y as Fe,x as zo,z as He,A as Vo,C as Ko,E as Go,F as qo,G as Ti,H as Wo,I as Yo,J as wt,K as Ai,L as Zo,M as jo,N as Xo,P as Ni,Q as kn,R as Kn,T as Gn,V as Qo,W as Jo,X as ea,Z as ta,_ as Wt,$ as Mt,a0 as Lr,a1 as na,a2 as Cn,a3 as ar,a4 as ra,a5 as cr,a6 as Lt,a7 as ia,a8 as xi,a9 as sa,aa as oa,ab as aa,ac as ca,ad as la,ae as Ye,af as Dt,ag as Dr,ah as lr,ai as da,aj as ua,ak as fa,al as ha,am as pa,an as ga,ao as ma,ap as Ri,aq as ba,ar as $e,as as Bt,at as ki,au as Mi,av as Mn,aw as _a,ax as ya,ay as va,az as Br,aA as Ea}from"./Document-fe524da0.js";import{g as Yt}from"./ErrorPage-cd219075.js";function wa(e){const t=e.regex,r=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),i="decltype\\(auto\\)",c="[a-zA-Z_]\\w*::",d="<[^<>]+>",a="(?!struct)("+i+"|"+t.optional(c)+"[a-zA-Z_]\\w*"+t.optional(d)+")",s={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},o="\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)",f={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+o+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},g={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},u={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(f,{className:"string"}),{className:"string",begin:/<.*?>/},r,e.C_BLOCK_COMMENT_MODE]},h={className:"title",begin:t.optional(c)+e.IDENT_RE,relevance:0},m=t.optional(c)+e.IDENT_RE+"\\s*\\(",_=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],w=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],M=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],R=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],y={type:w,keyword:_,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:M},v={className:"function.dispatch",relevance:0,keywords:{_hint:R},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},A=[v,u,s,r,e.C_BLOCK_COMMENT_MODE,g,f],C={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:y,contains:A.concat([{begin:/\(/,end:/\)/,keywords:y,contains:A.concat(["self"]),relevance:0}]),relevance:0},k={className:"function",begin:"("+a+"[\\*&\\s]+)+"+m,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:y,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:i,keywords:y,relevance:0},{begin:m,returnBegin:!0,contains:[h],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[f,g]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:y,relevance:0,contains:[r,e.C_BLOCK_COMMENT_MODE,f,g,s,{begin:/\(/,end:/\)/,keywords:y,relevance:0,contains:["self",r,e.C_BLOCK_COMMENT_MODE,f,g,s]}]},s,r,e.C_BLOCK_COMMENT_MODE,u]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:y,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(C,k,v,A,[u,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:y,contains:["self",s]},{begin:e.IDENT_RE+"::",keywords:y},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function Sa(e){const t={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},r=wa(e),i=r.keywords;return i.type=[...i.type,...t.type],i.literal=[...i.literal,...t.literal],i.built_in=[...i.built_in,...t.built_in],i._hints=t._hints,r.name="Arduino",r.aliases=["ino"],r.supersetOf="cpp",r}function Ca(e){const t=e.regex,r={},i={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[r]}]};Object.assign(r,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},i]});const c={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},d=e.inherit(e.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),a={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},s={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,r,c]};c.contains.push(s);const o={match:/\\"/},f={className:"string",begin:/'/,end:/'/},g={match:/\\'/},u={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,r]},h=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],m=e.SHEBANG({binary:`(${h.join("|")})`,relevance:10}),_={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},w=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],M=["true","false"],R={match:/(\/[a-z._-]+)+/},B=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],b=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],y=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],v=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:w,literal:M,built_in:[...B,...b,"set","shopt",...y,...v]},contains:[m,e.SHEBANG(),_,u,d,a,R,s,o,f,g,r]}}function Ta(e){const t=e.regex,r=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),i="decltype\\(auto\\)",c="[a-zA-Z_]\\w*::",d="<[^<>]+>",a="("+i+"|"+t.optional(c)+"[a-zA-Z_]\\w*"+t.optional(d)+")",s={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},o="\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)",f={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+o+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},g={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},u={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(f,{className:"string"}),{className:"string",begin:/<.*?>/},r,e.C_BLOCK_COMMENT_MODE]},h={className:"title",begin:t.optional(c)+e.IDENT_RE,relevance:0},m=t.optional(c)+e.IDENT_RE+"\\s*\\(",M={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},R=[u,s,r,e.C_BLOCK_COMMENT_MODE,g,f],B={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:M,contains:R.concat([{begin:/\(/,end:/\)/,keywords:M,contains:R.concat(["self"]),relevance:0}]),relevance:0},b={begin:"("+a+"[\\*&\\s]+)+"+m,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:M,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:i,keywords:M,relevance:0},{begin:m,returnBegin:!0,contains:[e.inherit(h,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:M,relevance:0,contains:[r,e.C_BLOCK_COMMENT_MODE,f,g,s,{begin:/\(/,end:/\)/,keywords:M,relevance:0,contains:["self",r,e.C_BLOCK_COMMENT_MODE,f,g,s]}]},s,r,e.C_BLOCK_COMMENT_MODE,u]};return{name:"C",aliases:["h"],keywords:M,disableAutodetect:!0,illegal:"</",contains:[].concat(B,b,R,[u,{begin:e.IDENT_RE+"::",keywords:M},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},e.TITLE_MODE]}]),exports:{preprocessor:u,strings:f,keywords:M}}}function Aa(e){const t=e.regex,r=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),i="decltype\\(auto\\)",c="[a-zA-Z_]\\w*::",d="<[^<>]+>",a="(?!struct)("+i+"|"+t.optional(c)+"[a-zA-Z_]\\w*"+t.optional(d)+")",s={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},o="\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)",f={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+o+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},g={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},u={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(f,{className:"string"}),{className:"string",begin:/<.*?>/},r,e.C_BLOCK_COMMENT_MODE]},h={className:"title",begin:t.optional(c)+e.IDENT_RE,relevance:0},m=t.optional(c)+e.IDENT_RE+"\\s*\\(",_=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],w=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],M=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],R=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],y={type:w,keyword:_,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:M},v={className:"function.dispatch",relevance:0,keywords:{_hint:R},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},A=[v,u,s,r,e.C_BLOCK_COMMENT_MODE,g,f],C={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:y,contains:A.concat([{begin:/\(/,end:/\)/,keywords:y,contains:A.concat(["self"]),relevance:0}]),relevance:0},k={className:"function",begin:"("+a+"[\\*&\\s]+)+"+m,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:y,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:i,keywords:y,relevance:0},{begin:m,returnBegin:!0,contains:[h],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[f,g]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:y,relevance:0,contains:[r,e.C_BLOCK_COMMENT_MODE,f,g,s,{begin:/\(/,end:/\)/,keywords:y,relevance:0,contains:["self",r,e.C_BLOCK_COMMENT_MODE,f,g,s]}]},s,r,e.C_BLOCK_COMMENT_MODE,u]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:y,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(C,k,v,A,[u,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:y,contains:["self",s]},{begin:e.IDENT_RE+"::",keywords:y},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function Na(e){const t=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],r=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],i=["default","false","null","true"],c=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],d=["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"],a={keyword:c.concat(d),built_in:t,literal:i},s=e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),o={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},f={className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},g={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},u=e.inherit(g,{illegal:/\n/}),h={className:"subst",begin:/\{/,end:/\}/,keywords:a},m=e.inherit(h,{illegal:/\n/}),_={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},e.BACKSLASH_ESCAPE,m]},w={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},h]},M=e.inherit(w,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},m]});h.contains=[w,_,g,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,o,e.C_BLOCK_COMMENT_MODE],m.contains=[M,_,u,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,o,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const R={variants:[f,w,_,g,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},B={begin:"<",end:">",contains:[{beginKeywords:"in out"},s]},b=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",y={begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:a,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},R,o,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},s,B,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[s,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[s,B,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+b+"\\s+)+"+e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:a,contains:[{beginKeywords:r.join(" "),relevance:0},{begin:e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[e.TITLE_MODE,B],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,relevance:0,contains:[R,o,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},y]}}const xa=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),Ra=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],ka=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],Ma=[...Ra,...ka],Oa=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),Ia=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),La=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),Da=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function Ba(e){const t=e.regex,r=xa(e),i={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},c="and or not only",d=/@-?\w[\w]*(-\w+)*/,a="[a-zA-Z-][a-zA-Z0-9_-]*",s=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[r.BLOCK_COMMENT,i,r.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+a,relevance:0},r.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+Ia.join("|")+")"},{begin:":(:)?("+La.join("|")+")"}]},r.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Da.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[r.BLOCK_COMMENT,r.HEXCOLOR,r.IMPORTANT,r.CSS_NUMBER_MODE,...s,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...s,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},r.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:d},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:c,attribute:Oa.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...s,r.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+Ma.join("|")+")\\b"}]}}function Pa(e){const t=e.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:t.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:t.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function Ua(e){const d={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:d,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:d,illegal:/["']/}]}]}}function Fa(e){const t=e.regex,r=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[e.HASH_COMMENT_MODE,e.QUOTE_STRING_MODE,e.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:t.concat(r,t.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function $a(e){const t=e.regex,r={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:e.NUMBER_RE}]},i=e.COMMENT();i.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const c={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},d={className:"literal",begin:/\bon|off|true|false|yes|no\b/},a={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},s={begin:/\[/,end:/\]/,contains:[i,d,c,a,r,"self"],relevance:0},o=/[A-Za-z0-9_-]+/,f=/"(\\"|[^"])*"/,g=/'[^']*'/,u=t.either(o,f,g),h=t.concat(u,"(\\s*\\.\\s*",u,")*",t.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[i,{className:"section",begin:/\[+/,end:/\]+/},{begin:h,className:"attr",starts:{end:/$/,contains:[i,s,d,c,a,r]}}]}}var gt="[0-9](_*[0-9])*",Zt=`\\.(${gt})`,jt="[0-9a-fA-F](_*[0-9a-fA-F])*",Pr={className:"number",variants:[{begin:`(\\b(${gt})((${Zt})|\\.)?|(${Zt}))[eE][+-]?(${gt})[fFdD]?\\b`},{begin:`\\b(${gt})((${Zt})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${Zt})[fFdD]?\\b`},{begin:`\\b(${gt})[fFdD]\\b`},{begin:`\\b0[xX]((${jt})\\.?|(${jt})?\\.(${jt}))[pP][+-]?(${gt})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${jt})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function Oi(e,t,r){return r===-1?"":e.replace(t,i=>Oi(e,t,r-1))}function Ha(e){const t=e.regex,r="[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*",i=r+Oi("(?:<"+r+"~~~(?:\\s*,\\s*"+r+"~~~)*>)?",/~~~/g,2),o={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},f={className:"meta",begin:"@"+r,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},g={className:"params",begin:/\(/,end:/\)/,keywords:o,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:o,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[t.concat(/(?!else)/,r),/\s+/,r,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,r],className:{1:"keyword",3:"title.class"},contains:[g,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+i+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:o,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:o,relevance:0,contains:[f,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,Pr,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},Pr,f]}}const Ur="[A-Za-z$_][0-9A-Za-z$_]*",za=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],Va=["true","false","null","undefined","NaN","Infinity"],Ii=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Li=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Di=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Ka=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],Ga=[].concat(Di,Ii,Li);function qa(e){const t=e.regex,r=($,{after:W})=>{const te="</"+$[0].slice(1);return $.input.indexOf(te,W)!==-1},i=Ur,c={begin:"<>",end:"</>"},d=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:($,W)=>{const te=$[0].length+$.index,re=$.input[te];if(re==="<"||re===","){W.ignoreMatch();return}re===">"&&(r($,{after:te})||W.ignoreMatch());let ae;const se=$.input.substring(te);if(ae=se.match(/^\s*=/)){W.ignoreMatch();return}if((ae=se.match(/^\s+extends\s+/))&&ae.index===0){W.ignoreMatch();return}}},s={$pattern:Ur,keyword:za,literal:Va,built_in:Ga,"variable.language":Ka},o="[0-9](_?[0-9])*",f=`\\.(${o})`,g="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",u={className:"number",variants:[{begin:`(\\b(${g})((${f})|\\.)?|(${f}))[eE][+-]?(${o})\\b`},{begin:`\\b(${g})\\b((${f})\\b|\\.)?|(${f})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},h={className:"subst",begin:"\\$\\{",end:"\\}",keywords:s,contains:[]},m={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,h],subLanguage:"xml"}},_={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,h],subLanguage:"css"}},w={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,h],subLanguage:"graphql"}},M={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,h]},B={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:i+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},b=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,m,_,w,M,{match:/\$\d+/},u];h.contains=b.concat({begin:/\{/,end:/\}/,keywords:s,contains:["self"].concat(b)});const y=[].concat(B,h.contains),v=y.concat([{begin:/(\s*)\(/,end:/\)/,keywords:s,contains:["self"].concat(y)}]),A={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:v},C={variants:[{match:[/class/,/\s+/,i,/\s+/,/extends/,/\s+/,t.concat(i,"(",t.concat(/\./,i),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,i],scope:{1:"keyword",3:"title.class"}}]},k={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Ii,...Li]}},F={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},x={variants:[{match:[/function/,/\s+/,i,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[A],illegal:/%/},S={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function T($){return t.concat("(?!",$.join("|"),")")}const D={match:t.concat(/\b/,T([...Di,"super","import"].map($=>`${$}\\s*\\(`)),i,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},K={begin:t.concat(/\./,t.lookahead(t.concat(i,/(?![0-9A-Za-z$_(])/))),end:i,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},Z={match:[/get|set/,/\s+/,i,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},A]},O="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",U={match:[/const|var|let/,/\s+/,i,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(O)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[A]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:s,exports:{PARAMS_CONTAINS:v,CLASS_REFERENCE:k},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),F,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,m,_,w,M,B,{match:/\$\d+/},u,k,{scope:"attr",match:i+t.lookahead(":"),relevance:0},U,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[B,e.REGEXP_MODE,{className:"function",begin:O,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:v}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:c.begin,end:c.end},{match:d},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},x,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[A,e.inherit(e.TITLE_MODE,{begin:i,className:"title.function"})]},{match:/\.\.\./,relevance:0},K,{match:"\\$"+i,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[A]},D,S,C,Z,{match:/\$[(.]/}]}}function Wa(e){const t={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},r={match:/[{}[\],:]/,className:"punctuation",relevance:0},i=["true","false","null"],c={scope:"literal",beginKeywords:i.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:i},contains:[t,r,e.QUOTE_STRING_MODE,c,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var mt="[0-9](_*[0-9])*",Xt=`\\.(${mt})`,Qt="[0-9a-fA-F](_*[0-9a-fA-F])*",Ya={className:"number",variants:[{begin:`(\\b(${mt})((${Xt})|\\.)?|(${Xt}))[eE][+-]?(${mt})[fFdD]?\\b`},{begin:`\\b(${mt})((${Xt})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${Xt})[fFdD]?\\b`},{begin:`\\b(${mt})[fFdD]\\b`},{begin:`\\b0[xX]((${Qt})\\.?|(${Qt})?\\.(${Qt}))[pP][+-]?(${mt})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Qt})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function Za(e){const t={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},r={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},i={className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"@"},c={className:"subst",begin:/\$\{/,end:/\}/,contains:[e.C_NUMBER_MODE]},d={className:"variable",begin:"\\$"+e.UNDERSCORE_IDENT_RE},a={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[d,c]},{begin:"'",end:"'",illegal:/\n/,contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,d,c]}]};c.contains.push(a);const s={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+e.UNDERSCORE_IDENT_RE+")?"},o={className:"meta",begin:"@"+e.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[e.inherit(a,{className:"string"}),"self"]}]},f=Ya,g=e.COMMENT("/\\*","\\*/",{contains:[e.C_BLOCK_COMMENT_MODE]}),u={variants:[{className:"type",begin:e.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},h=u;return h.variants[1].contains=[u],u.variants[1].contains=[h],{name:"Kotlin",aliases:["kt","kts"],keywords:t,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,g,r,i,s,o,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:t,relevance:5,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[u,e.C_LINE_COMMENT_MODE,g],relevance:0},e.C_LINE_COMMENT_MODE,g,s,o,a,e.C_NUMBER_MODE]},g]},{begin:[/class|interface|trait/,/\s+/,e.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},e.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},s,o]},a,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},f]}}const ja=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),Xa=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Qa=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],Ja=[...Xa,...Qa],ec=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),Bi=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),Pi=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),tc=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),nc=Bi.concat(Pi).sort().reverse();function rc(e){const t=ja(e),r=nc,i="and or not only",c="[\\w-]+",d="("+c+"|@\\{"+c+"\\})",a=[],s=[],o=function(b){return{className:"string",begin:"~?"+b+".*?"+b}},f=function(b,y,v){return{className:b,begin:y,relevance:v}},g={$pattern:/[a-z-]+/,keyword:i,attribute:ec.join(" ")},u={begin:"\\(",end:"\\)",contains:s,keywords:g,relevance:0};s.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,o("'"),o('"'),t.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},t.HEXCOLOR,u,f("variable","@@?"+c,10),f("variable","@\\{"+c+"\\}"),f("built_in","~?`[^`]*?`"),{className:"attribute",begin:c+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},t.IMPORTANT,{beginKeywords:"and not"},t.FUNCTION_DISPATCH);const h=s.concat({begin:/\{/,end:/\}/,contains:a}),m={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(s)},_={begin:d+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+tc.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:s}}]},w={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:g,returnEnd:!0,contains:s,relevance:0}},M={className:"variable",variants:[{begin:"@"+c+"\\s*:",relevance:15},{begin:"@"+c}],starts:{end:"[;}]",returnEnd:!0,contains:h}},R={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:d,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,m,f("keyword","all\\b"),f("variable","@\\{"+c+"\\}"),{begin:"\\b("+Ja.join("|")+")\\b",className:"selector-tag"},t.CSS_NUMBER_MODE,f("selector-tag",d,0),f("selector-id","#"+d),f("selector-class","\\."+d,0),f("selector-tag","&",0),t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+Bi.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+Pi.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:h},{begin:"!important"},t.FUNCTION_DISPATCH]},B={begin:c+`:(:)?(${r.join("|")})`,returnBegin:!0,contains:[R]};return a.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,w,M,B,_,R,m,t.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:a}}function ic(e){const t="\\[=*\\[",r="\\]=*\\]",i={begin:t,end:r,contains:["self"]},c=[e.COMMENT("--(?!"+t+")","$"),e.COMMENT("--"+t,r,{contains:[i],relevance:10})];return{name:"Lua",aliases:["pluto"],keywords:{$pattern:e.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:c.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[e.inherit(e.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:c}].concat(c)},e.C_NUMBER_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"string",begin:t,end:r,contains:[i],relevance:5}])}}function sc(e){const t={className:"variable",variants:[{begin:"\\$\\("+e.UNDERSCORE_IDENT_RE+"\\)",contains:[e.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},r={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,t]},i={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[t,r]},c={begin:"^"+e.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},d={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},a={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[t]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[e.HASH_COMMENT_MODE,t,r,i,c,d,a]}}function oc(e){const t=e.regex,r={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},i={begin:"^[-\\*]{3,}",end:"$"},c={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},d={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},a={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},s=/[A-Za-z][A-Za-z0-9+.-]*/,o={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:t.concat(/\[.+?\]\(/,s,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},f={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},g={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},u=e.inherit(f,{contains:[]}),h=e.inherit(g,{contains:[]});f.contains.push(h),g.contains.push(u);let m=[r,o];return[f,g,u,h].forEach(R=>{R.contains=R.contains.concat(m)}),m=m.concat(f,g),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:m},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:m}]}]},r,d,f,g,{className:"quote",begin:"^>\\s+",contains:m,end:"$"},c,i,o,a,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function ac(e){const t={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},r=/[a-zA-Z@][a-zA-Z0-9_]*/,s={"variable.language":["this","super"],$pattern:r,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},o={$pattern:r,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:s,illegal:"</",contains:[t,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+o.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:o,contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"\\."+e.UNDERSCORE_IDENT_RE,relevance:0}]}}function cc(e){const t=e.regex,r=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","class","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","field","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","method","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],i=/[dualxmsipngr]{0,12}/,c={$pattern:/[\w.]+/,keyword:r.join(" ")},d={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:c},a={begin:/->\{/,end:/\}/},s={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},o={scope:"variable",variants:[{begin:/\$\d/},{begin:t.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[s]},f={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},g=[e.BACKSLASH_ESCAPE,d,o],u=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],h=(w,M,R="\\1")=>{const B=R==="\\1"?R:t.concat(R,M);return t.concat(t.concat("(?:",w,")"),M,/(?:\\.|[^\\\/])*?/,B,/(?:\\.|[^\\\/])*?/,R,i)},m=(w,M,R)=>t.concat(t.concat("(?:",w,")"),M,/(?:\\.|[^\\\/])*?/,R,i),_=[o,e.HASH_COMMENT_MODE,e.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),a,{className:"string",contains:g,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},f,{begin:"(\\/\\/|"+e.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[e.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:h("s|tr|y",t.either(...u,{capture:!0}))},{begin:h("s|tr|y","\\(","\\)")},{begin:h("s|tr|y","\\[","\\]")},{begin:h("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:m("(?:m|qr)?",/\//,/\//)},{begin:m("m|qr",t.either(...u,{capture:!0}),/\1/)},{begin:m("m|qr",/\(/,/\)/)},{begin:m("m|qr",/\[/,/\]/)},{begin:m("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,s]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,s,f]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return d.contains=_,a.contains=_,{name:"Perl",aliases:["pl","pm"],keywords:c,contains:_}}function lc(e){const t=e.regex,r=/(?![A-Za-z0-9])(?![$])/,i=t.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,r),c=t.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,r),d=t.concat(/[A-Z]+/,r),a={scope:"variable",match:"\\$+"+i},s={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},o={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},f=e.inherit(e.APOS_STRING_MODE,{illegal:null}),g=e.inherit(e.QUOTE_STRING_MODE,{illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(o)}),u={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:e.QUOTE_STRING_MODE.contains.concat(o),"on:begin":(K,Z)=>{Z.data._beginMatch=K[1]||K[2]},"on:end":(K,Z)=>{Z.data._beginMatch!==K[1]&&Z.ignoreMatch()}},h=e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),m=`[ 	
]`,_={scope:"string",variants:[g,f,u,h]},w={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},M=["false","null","true"],R=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],B=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],y={keyword:R,literal:(K=>{const Z=[];return K.forEach(O=>{Z.push(O),O.toLowerCase()===O?Z.push(O.toUpperCase()):Z.push(O.toLowerCase())}),Z})(M),built_in:B},v=K=>K.map(Z=>Z.replace(/\|\d+$/,"")),A={variants:[{match:[/new/,t.concat(m,"+"),t.concat("(?!",v(B).join("\\b|"),"\\b)"),c],scope:{1:"keyword",4:"title.class"}}]},C=t.concat(i,"\\b(?!\\()"),k={variants:[{match:[t.concat(/::/,t.lookahead(/(?!class\b)/)),C],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[c,t.concat(/::/,t.lookahead(/(?!class\b)/)),C],scope:{1:"title.class",3:"variable.constant"}},{match:[c,t.concat("::",t.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[c,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},F={scope:"attr",match:t.concat(i,t.lookahead(":"),t.lookahead(/(?!::)/))},x={relevance:0,begin:/\(/,end:/\)/,keywords:y,contains:[F,a,k,e.C_BLOCK_COMMENT_MODE,_,w,A]},S={relevance:0,match:[/\b/,t.concat("(?!fn\\b|function\\b|",v(R).join("\\b|"),"|",v(B).join("\\b|"),"\\b)"),i,t.concat(m,"*"),t.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[x]};x.contains.push(S);const T=[F,k,e.C_BLOCK_COMMENT_MODE,_,w,A],D={begin:t.concat(/#\[\s*\\?/,t.either(c,d)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:M,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:M,keyword:["new","array"]},contains:["self",...T]},...T,{scope:"meta",variants:[{match:c},{match:d}]}]};return{case_insensitive:!1,keywords:y,contains:[D,e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},s,{scope:"variable.language",match:/\$this\b/},a,S,k,{match:[/const/,/\s/,i],scope:{1:"keyword",3:"variable.constant"}},A,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:y,contains:["self",D,a,k,e.C_BLOCK_COMMENT_MODE,_,w]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},_,w]}}function dc(e){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},e.inherit(e.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function uc(e){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function fc(e){const t=e.regex,r=/[\p{XID_Start}_]\p{XID_Continue}*/u,i=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],s={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:i,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},o={className:"meta",begin:/^(>>>|\.\.\.) /},f={className:"subst",begin:/\{/,end:/\}/,keywords:s,illegal:/#/},g={begin:/\{\{/,relevance:0},u={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,o],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,o],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,o,g,f]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,o,g,f]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,g,f]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,g,f]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},h="[0-9](_?[0-9])*",m=`(\\b(${h}))?\\.(${h})|\\b(${h})\\.`,_=`\\b|${i.join("|")}`,w={className:"number",relevance:0,variants:[{begin:`(\\b(${h})|(${m}))[eE][+-]?(${h})[jJ]?(?=${_})`},{begin:`(${m})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${_})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${_})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${_})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${_})`},{begin:`\\b(${h})[jJ](?=${_})`}]},M={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:s,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},R={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:["self",o,w,u,e.HASH_COMMENT_MODE]}]};return f.contains=[u,w,o],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:s,illegal:/(<\/|\?)|=>/,contains:[o,w,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},u,M,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,r],scope:{1:"keyword",3:"title.function"},contains:[R]},{variants:[{match:[/\bclass/,/\s+/,r,/\s*/,/\(\s*/,r,/\s*\)/]},{match:[/\bclass/,/\s+/,r]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[w,R,u]}]}}function hc(e){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function pc(e){const t=e.regex,r=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,i=t.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),c=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,d=t.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:r,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[e.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:t.lookahead(t.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:r},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),e.HASH_COMMENT_MODE,{scope:"string",contains:[e.BACKSLASH_ESCAPE],variants:[e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[c,i]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,i]},{scope:{1:"punctuation",2:"number"},match:[d,i]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,i]}]},{scope:{3:"operator"},match:[r,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:c},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:d},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function gc(e){const t=e.regex,r="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",i=t.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),c=t.concat(i,/(::\w+)*/),a={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},s={className:"doctag",begin:"@[A-Za-z]+"},o={begin:"#<",end:">"},f=[e.COMMENT("#","$",{contains:[s]}),e.COMMENT("^=begin","^=end",{contains:[s],relevance:10}),e.COMMENT("^__END__",e.MATCH_NOTHING_RE)],g={className:"subst",begin:/#\{/,end:/\}/,keywords:a},u={className:"string",contains:[e.BACKSLASH_ESCAPE,g],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:t.concat(/<<[-~]?'?/,t.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[e.BACKSLASH_ESCAPE,g]})]}]},h="[1-9](_?[0-9])*|0",m="[0-9](_?[0-9])*",_={className:"number",relevance:0,variants:[{begin:`\\b(${h})(\\.(${m}))?([eE][+-]?(${m})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},w={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:a}]},A=[u,{variants:[{match:[/class\s+/,c,/\s+<\s+/,c]},{match:[/\b(class|module)\s+/,c]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:a},{match:[/(include|extend)\s+/,c],scope:{2:"title.class"},keywords:a},{relevance:0,match:[c,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:i,scope:"title.class"},{match:[/def/,/\s+/,r],scope:{1:"keyword",3:"title.function"},contains:[w]},{begin:e.IDENT_RE+"::"},{className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[u,{begin:r}],relevance:0},_,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:a},{begin:"("+e.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[e.BACKSLASH_ESCAPE,g],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(o,f),relevance:0}].concat(o,f);g.contains=A,w.contains=A;const C="[>?]>",k="[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]",F="(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>",x=[{begin:/^\s*=>/,starts:{end:"$",contains:A}},{className:"meta.prompt",begin:"^("+C+"|"+k+"|"+F+")(?=[ ])",starts:{end:"$",keywords:a,contains:A}}];return f.unshift(o),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:a,illegal:/\/\*/,contains:[e.SHEBANG({binary:"ruby"})].concat(x).concat(f).concat(A)}}function mc(e){const t=e.regex,r=/(r#)?/,i=t.concat(r,e.UNDERSCORE_IDENT_RE),c=t.concat(r,e.IDENT_RE),d={className:"title.function.invoke",relevance:0,begin:t.concat(/\b/,/(?!let|for|while|if|else|match\b)/,c,t.lookahead(/\s*\(/))},a="([ui](8|16|32|64|128|size)|f(32|64))?",s=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],o=["true","false","Some","None","Ok","Err"],f=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],g=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:e.IDENT_RE+"!?",type:g,keyword:s,literal:o,built_in:f},illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:["self"]}),e.inherit(e.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+a},{begin:"\\b0o([0-7_]+)"+a},{begin:"\\b0x([A-Fa-f0-9_]+)"+a},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+a}],relevance:0},{begin:[/fn/,/\s+/,i],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,i],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,i,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,i],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,i],className:{1:"keyword",3:"title.class"}},{begin:e.IDENT_RE+"::",keywords:{keyword:"Self",built_in:f,type:g}},{className:"punctuation",begin:"->"},d]}}const bc=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),_c=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],yc=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],vc=[..._c,...yc],Ec=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),wc=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),Sc=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),Cc=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function Tc(e){const t=bc(e),r=Sc,i=wc,c="@[a-z-]+",d="and or not only",s={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,t.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+vc.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+i.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+r.join("|")+")"},s,{begin:/\(/,end:/\)/,contains:[t.CSS_NUMBER_MODE]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Cc.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[t.BLOCK_COMMENT,s,t.HEXCOLOR,t.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.IMPORTANT,t.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:c,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:d,attribute:Ec.join(" ")},contains:[{begin:c,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},s,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.HEXCOLOR,t.CSS_NUMBER_MODE]},t.FUNCTION_DISPATCH]}}function Ac(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function Nc(e){const t=e.regex,r=e.COMMENT("--","$"),i={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},c={begin:/"/,end:/"/,contains:[{match:/""/}]},d=["true","false","unknown"],a=["double precision","large object","with timezone","without timezone"],s=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],o=["add","asc","collation","desc","final","first","last","view"],f=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],g=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],u=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],h=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],m=g,_=[...f,...o].filter(v=>!g.includes(v)),w={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},M={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},R={match:t.concat(/\b/,t.either(...m),/\s*\(/),relevance:0,keywords:{built_in:m}};function B(v){return t.concat(/\b/,t.either(...v.map(A=>A.replace(/\s+/,"\\s+"))),/\b/)}const b={scope:"keyword",match:B(h),relevance:0};function y(v,{exceptions:A,when:C}={}){const k=C;return A=A||[],v.map(F=>F.match(/\|\d+$/)||A.includes(F)?F:k(F)?`${F}|0`:F)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:y(_,{when:v=>v.length<3}),literal:d,type:s,built_in:u},contains:[{scope:"type",match:B(a)},b,R,w,i,c,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,r,M]}}function Ui(e){return e?typeof e=="string"?e:e.source:null}function Nt(e){return ce("(?=",e,")")}function ce(...e){return e.map(r=>Ui(r)).join("")}function xc(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function we(...e){return"("+(xc(e).capture?"":"?:")+e.map(i=>Ui(i)).join("|")+")"}const dr=e=>ce(/\b/,e,/\w$/.test(e)?/\b/:/\B/),Rc=["Protocol","Type"].map(dr),Fr=["init","self"].map(dr),kc=["Any","Self"],On=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],$r=["false","nil","true"],Mc=["assignment","associativity","higherThan","left","lowerThan","none","right"],Oc=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],Hr=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],Fi=we(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),$i=we(Fi,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),In=ce(Fi,$i,"*"),Hi=we(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),dn=we(Hi,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),Pe=ce(Hi,dn,"*"),Jt=ce(/[A-Z]/,dn,"*"),Ic=["attached","autoclosure",ce(/convention\(/,we("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",ce(/objc\(/,Pe,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],Lc=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function Dc(e){const t={match:/\s+/,relevance:0},r=e.COMMENT("/\\*","\\*/",{contains:["self"]}),i=[e.C_LINE_COMMENT_MODE,r],c={match:[/\./,we(...Rc,...Fr)],className:{2:"keyword"}},d={match:ce(/\./,we(...On)),relevance:0},a=On.filter(P=>typeof P=="string").concat(["_|0"]),s=On.filter(P=>typeof P!="string").concat(kc).map(dr),o={variants:[{className:"keyword",match:we(...s,...Fr)}]},f={$pattern:we(/\b\w+/,/#\w+/),keyword:a.concat(Oc),literal:$r},g=[c,d,o],u={match:ce(/\./,we(...Hr)),relevance:0},h={className:"built_in",match:ce(/\b/,we(...Hr),/(?=\()/)},m=[u,h],_={match:/->/,relevance:0},w={className:"operator",relevance:0,variants:[{match:In},{match:`\\.(\\.|${$i})+`}]},M=[_,w],R="([0-9]_*)+",B="([0-9a-fA-F]_*)+",b={className:"number",relevance:0,variants:[{match:`\\b(${R})(\\.(${R}))?([eE][+-]?(${R}))?\\b`},{match:`\\b0x(${B})(\\.(${B}))?([pP][+-]?(${R}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},y=(P="")=>({className:"subst",variants:[{match:ce(/\\/,P,/[0\\tnr"']/)},{match:ce(/\\/,P,/u\{[0-9a-fA-F]{1,8}\}/)}]}),v=(P="")=>({className:"subst",match:ce(/\\/,P,/[\t ]*(?:[\r\n]|\r\n)/)}),A=(P="")=>({className:"subst",label:"interpol",begin:ce(/\\/,P,/\(/),end:/\)/}),C=(P="")=>({begin:ce(P,/"""/),end:ce(/"""/,P),contains:[y(P),v(P),A(P)]}),k=(P="")=>({begin:ce(P,/"/),end:ce(/"/,P),contains:[y(P),A(P)]}),F={className:"string",variants:[C(),C("#"),C("##"),C("###"),k(),k("#"),k("##"),k("###")]},x=[e.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[e.BACKSLASH_ESCAPE]}],S={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:x},T=P=>{const q=ce(P,/\//),V=ce(/\//,P);return{begin:q,end:V,contains:[...x,{scope:"comment",begin:`#(?!.*${V})`,end:/$/}]}},D={scope:"regexp",variants:[T("###"),T("##"),T("#"),S]},K={match:ce(/`/,Pe,/`/)},Z={className:"variable",match:/\$\d+/},O={className:"variable",match:`\\$${dn}+`},U=[K,Z,O],$={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:Lc,contains:[...M,b,F]}]}},W={scope:"keyword",match:ce(/@/,we(...Ic),Nt(we(/\(/,/\s+/)))},te={scope:"meta",match:ce(/@/,Pe)},re=[$,W,te],ae={match:Nt(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:ce(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,dn,"+")},{className:"type",match:Jt,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:ce(/\s+&\s+/,Nt(Jt)),relevance:0}]},se={begin:/</,end:/>/,keywords:f,contains:[...i,...g,...re,_,ae]};ae.contains.push(se);const ne={match:ce(Pe,/\s*:/),keywords:"_|0",relevance:0},de={begin:/\(/,end:/\)/,relevance:0,keywords:f,contains:["self",ne,...i,D,...g,...m,...M,b,F,...U,...re,ae]},Ee={begin:/</,end:/>/,keywords:"repeat each",contains:[...i,ae]},Ae={begin:we(Nt(ce(Pe,/\s*:/)),Nt(ce(Pe,/\s+/,Pe,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:Pe}]},Me={begin:/\(/,end:/\)/,keywords:f,contains:[Ae,...i,...g,...M,b,F,...re,ae,de],endsParent:!0,illegal:/["']/},Oe={match:[/(func|macro)/,/\s+/,we(K.match,Pe,In)],className:{1:"keyword",3:"title.function"},contains:[Ee,Me,t],illegal:[/\[/,/%/]},Ie={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[Ee,Me,t],illegal:/\[|%/},Ve={match:[/operator/,/\s+/,In],className:{1:"keyword",3:"title"}},ke={begin:[/precedencegroup/,/\s+/,Jt],className:{1:"keyword",3:"title"},contains:[ae],keywords:[...Mc,...$r],end:/}/},he={match:[/class\b/,/\s+/,/func\b/,/\s+/,/\b[A-Za-z_][A-Za-z0-9_]*\b/],scope:{1:"keyword",3:"keyword",5:"title.function"}},ye={match:[/class\b/,/\s+/,/var\b/],scope:{1:"keyword",3:"keyword"}},L={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,Pe,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:f,contains:[Ee,...g,{begin:/:/,end:/\{/,keywords:f,contains:[{scope:"title.class.inherited",match:Jt},...g],relevance:0}]};for(const P of F.variants){const q=P.contains.find(E=>E.label==="interpol");q.keywords=f;const V=[...g,...m,...M,b,F,...U];q.contains=[...V,{begin:/\(/,end:/\)/,contains:["self",...V]}]}return{name:"Swift",keywords:f,contains:[...i,Oe,Ie,he,ye,L,Ve,ke,{beginKeywords:"import",end:/$/,contains:[...i],relevance:0},D,...g,...m,...M,b,F,...U,...re,ae,de]}}const un="[A-Za-z$_][0-9A-Za-z$_]*",zi=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],Vi=["true","false","null","undefined","NaN","Infinity"],Ki=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Gi=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],qi=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Wi=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],Yi=[].concat(qi,Ki,Gi);function Bc(e){const t=e.regex,r=($,{after:W})=>{const te="</"+$[0].slice(1);return $.input.indexOf(te,W)!==-1},i=un,c={begin:"<>",end:"</>"},d=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:($,W)=>{const te=$[0].length+$.index,re=$.input[te];if(re==="<"||re===","){W.ignoreMatch();return}re===">"&&(r($,{after:te})||W.ignoreMatch());let ae;const se=$.input.substring(te);if(ae=se.match(/^\s*=/)){W.ignoreMatch();return}if((ae=se.match(/^\s+extends\s+/))&&ae.index===0){W.ignoreMatch();return}}},s={$pattern:un,keyword:zi,literal:Vi,built_in:Yi,"variable.language":Wi},o="[0-9](_?[0-9])*",f=`\\.(${o})`,g="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",u={className:"number",variants:[{begin:`(\\b(${g})((${f})|\\.)?|(${f}))[eE][+-]?(${o})\\b`},{begin:`\\b(${g})\\b((${f})\\b|\\.)?|(${f})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},h={className:"subst",begin:"\\$\\{",end:"\\}",keywords:s,contains:[]},m={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,h],subLanguage:"xml"}},_={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,h],subLanguage:"css"}},w={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,h],subLanguage:"graphql"}},M={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,h]},B={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:i+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},b=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,m,_,w,M,{match:/\$\d+/},u];h.contains=b.concat({begin:/\{/,end:/\}/,keywords:s,contains:["self"].concat(b)});const y=[].concat(B,h.contains),v=y.concat([{begin:/(\s*)\(/,end:/\)/,keywords:s,contains:["self"].concat(y)}]),A={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:v},C={variants:[{match:[/class/,/\s+/,i,/\s+/,/extends/,/\s+/,t.concat(i,"(",t.concat(/\./,i),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,i],scope:{1:"keyword",3:"title.class"}}]},k={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Ki,...Gi]}},F={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},x={variants:[{match:[/function/,/\s+/,i,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[A],illegal:/%/},S={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function T($){return t.concat("(?!",$.join("|"),")")}const D={match:t.concat(/\b/,T([...qi,"super","import"].map($=>`${$}\\s*\\(`)),i,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},K={begin:t.concat(/\./,t.lookahead(t.concat(i,/(?![0-9A-Za-z$_(])/))),end:i,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},Z={match:[/get|set/,/\s+/,i,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},A]},O="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",U={match:[/const|var|let/,/\s+/,i,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(O)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[A]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:s,exports:{PARAMS_CONTAINS:v,CLASS_REFERENCE:k},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),F,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,m,_,w,M,B,{match:/\$\d+/},u,k,{scope:"attr",match:i+t.lookahead(":"),relevance:0},U,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[B,e.REGEXP_MODE,{className:"function",begin:O,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:v}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:c.begin,end:c.end},{match:d},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},x,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[A,e.inherit(e.TITLE_MODE,{begin:i,className:"title.function"})]},{match:/\.\.\./,relevance:0},K,{match:"\\$"+i,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[A]},D,S,C,Z,{match:/\$[(.]/}]}}function Pc(e){const t=e.regex,r=Bc(e),i=un,c=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],d={begin:[/namespace/,/\s+/,e.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},a={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:c},contains:[r.exports.CLASS_REFERENCE]},s={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},o=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],f={$pattern:un,keyword:zi.concat(o),literal:Vi,built_in:Yi.concat(c),"variable.language":Wi},g={className:"meta",begin:"@"+i},u=(w,M,R)=>{const B=w.contains.findIndex(b=>b.label===M);if(B===-1)throw new Error("can not find mode to replace");w.contains.splice(B,1,R)};Object.assign(r.keywords,f),r.exports.PARAMS_CONTAINS.push(g);const h=r.contains.find(w=>w.scope==="attr"),m=Object.assign({},h,{match:t.concat(i,t.lookahead(/\s*\?:/))});r.exports.PARAMS_CONTAINS.push([r.exports.CLASS_REFERENCE,h,m]),r.contains=r.contains.concat([g,d,a,m]),u(r,"shebang",e.SHEBANG()),u(r,"use_strict",s);const _=r.contains.find(w=>w.label==="func.def");return _.relevance=0,Object.assign(r,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),r}function Uc(e){const t=e.regex,r={className:"string",begin:/"(""|[^/n])"C\b/},i={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},c=/\d{1,2}\/\d{1,2}\/\d{4}/,d=/\d{4}-\d{1,2}-\d{1,2}/,a=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,s=/\d{1,2}(:\d{1,2}){1,2}/,o={className:"literal",variants:[{begin:t.concat(/# */,t.either(d,c),/ *#/)},{begin:t.concat(/# */,s,/ *#/)},{begin:t.concat(/# */,a,/ *#/)},{begin:t.concat(/# */,t.either(d,c),/ +/,t.either(a,s),/ *#/)}]},f={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},g={className:"label",begin:/^\w+:/},u=e.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),h=e.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[r,i,o,f,g,u,h,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[h]}]}}function Fc(e){e.regex;const t=e.COMMENT(/\(;/,/;\)/);t.contains.push("self");const r=e.COMMENT(/;;/,/$/),i=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],c={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},d={className:"variable",begin:/\$[\w_]+/},a={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},s={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},o={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},f={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:i},contains:[r,t,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},d,a,c,e.QUOTE_STRING_MODE,o,f,s]}}function $c(e){const t=e.regex,r=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),i=/[\p{L}0-9._:-]+/u,c={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},d={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},a=e.inherit(d,{begin:/\(/,end:/\)/}),s=e.inherit(e.APOS_STRING_MODE,{className:"string"}),o=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),f={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:i,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[c]},{begin:/'/,end:/'/,contains:[c]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[d,o,s,a,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[d,a,o,s]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},c,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[o]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[f],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[f],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(r,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:r,relevance:0,starts:f}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(r,/>/))),contains:[{className:"name",begin:r,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function Hc(e){const t="true false yes no null",r="[\\w#;/?:@&=+$,.~*'()[\\]]+",i={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},c={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},d={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},a={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,c]},s=e.inherit(a,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),o="[0-9]{4}(-[0-9][0-9]){0,2}",f="([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?",g="(\\.[0-9]*)?",u="([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?",h={className:"number",begin:"\\b"+o+f+g+u+"\\b"},m={end:",",endsWithParent:!0,excludeEnd:!0,keywords:t,relevance:0},_={begin:/\{/,end:/\}/,contains:[m],illegal:"\\n",relevance:0},w={begin:"\\[",end:"\\]",contains:[m],illegal:"\\n",relevance:0},M=[i,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+r},{className:"type",begin:"!<"+r+">"},{className:"type",begin:"!"+r},{className:"type",begin:"!!"+r},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:t,keywords:{literal:t}},h,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},_,w,d,a],R=[...M];return R.pop(),R.push(s),m.contains=R,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:M}}const zc={arduino:Sa,bash:Ca,c:Ta,cpp:Aa,csharp:Na,css:Ba,diff:Pa,go:Ua,graphql:Fa,ini:$a,java:Ha,javascript:qa,json:Wa,kotlin:Za,less:rc,lua:ic,makefile:sc,markdown:oc,objectivec:ac,perl:cc,php:lc,"php-template":dc,plaintext:uc,python:fc,"python-repl":hc,r:pc,ruby:gc,rust:mc,scss:Tc,shell:Ac,sql:Nc,swift:Dc,typescript:Pc,vbnet:Uc,wasm:Fc,xml:$c,yaml:Hc};function Zi(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{const r=e[t],i=typeof r;(i==="object"||i==="function")&&!Object.isFrozen(r)&&Zi(r)}),e}class zr{constructor(t){t.data===void 0&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function ji(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function Je(e,...t){const r=Object.create(null);for(const i in e)r[i]=e[i];return t.forEach(function(i){for(const c in i)r[c]=i[c]}),r}const Vc="</span>",Vr=e=>!!e.scope,Kc=(e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const r=e.split(".");return[`${t}${r.shift()}`,...r.map((i,c)=>`${i}${"_".repeat(c+1)}`)].join(" ")}return`${t}${e}`};class Gc{constructor(t,r){this.buffer="",this.classPrefix=r.classPrefix,t.walk(this)}addText(t){this.buffer+=ji(t)}openNode(t){if(!Vr(t))return;const r=Kc(t.scope,{prefix:this.classPrefix});this.span(r)}closeNode(t){Vr(t)&&(this.buffer+=Vc)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}const Kr=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class ur{constructor(){this.rootNode=Kr(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const r=Kr({scope:t});this.add(r),this.stack.push(r)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,r){return typeof r=="string"?t.addText(r):r.children&&(t.openNode(r),r.children.forEach(i=>this._walk(t,i)),t.closeNode(r)),t}static _collapse(t){typeof t!="string"&&t.children&&(t.children.every(r=>typeof r=="string")?t.children=[t.children.join("")]:t.children.forEach(r=>{ur._collapse(r)}))}}class qc extends ur{constructor(t){super(),this.options=t}addText(t){t!==""&&this.add(t)}startScope(t){this.openNode(t)}endScope(){this.closeNode()}__addSublanguage(t,r){const i=t.root;r&&(i.scope=`language:${r}`),this.add(i)}toHTML(){return new Gc(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function Pt(e){return e?typeof e=="string"?e:e.source:null}function Xi(e){return dt("(?=",e,")")}function Wc(e){return dt("(?:",e,")*")}function Yc(e){return dt("(?:",e,")?")}function dt(...e){return e.map(r=>Pt(r)).join("")}function Zc(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function fr(...e){return"("+(Zc(e).capture?"":"?:")+e.map(i=>Pt(i)).join("|")+")"}function Qi(e){return new RegExp(e.toString()+"|").exec("").length-1}function jc(e,t){const r=e&&e.exec(t);return r&&r.index===0}const Xc=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function hr(e,{joinWith:t}){let r=0;return e.map(i=>{r+=1;const c=r;let d=Pt(i),a="";for(;d.length>0;){const s=Xc.exec(d);if(!s){a+=d;break}a+=d.substring(0,s.index),d=d.substring(s.index+s[0].length),s[0][0]==="\\"&&s[1]?a+="\\"+String(Number(s[1])+c):(a+=s[0],s[0]==="("&&r++)}return a}).map(i=>`(${i})`).join(t)}const Qc=/\b\B/,Ji="[a-zA-Z]\\w*",pr="[a-zA-Z_]\\w*",es="\\b\\d+(\\.\\d+)?",ts="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",ns="\\b(0b[01]+)",Jc="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",el=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=dt(t,/.*\b/,e.binary,/\b.*/)),Je({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(r,i)=>{r.index!==0&&i.ignoreMatch()}},e)},Ut={begin:"\\\\[\\s\\S]",relevance:0},tl={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[Ut]},nl={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[Ut]},rl={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},Tn=function(e,t,r={}){const i=Je({scope:"comment",begin:e,end:t,contains:[]},r);i.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const c=fr("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return i.contains.push({begin:dt(/[ ]+/,"(",c,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),i},il=Tn("//","$"),sl=Tn("/\\*","\\*/"),ol=Tn("#","$"),al={scope:"number",begin:es,relevance:0},cl={scope:"number",begin:ts,relevance:0},ll={scope:"number",begin:ns,relevance:0},dl={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[Ut,{begin:/\[/,end:/\]/,relevance:0,contains:[Ut]}]},ul={scope:"title",begin:Ji,relevance:0},fl={scope:"title",begin:pr,relevance:0},hl={begin:"\\.\\s*"+pr,relevance:0},pl=function(e){return Object.assign(e,{"on:begin":(t,r)=>{r.data._beginMatch=t[1]},"on:end":(t,r)=>{r.data._beginMatch!==t[1]&&r.ignoreMatch()}})};var en=Object.freeze({__proto__:null,APOS_STRING_MODE:tl,BACKSLASH_ESCAPE:Ut,BINARY_NUMBER_MODE:ll,BINARY_NUMBER_RE:ns,COMMENT:Tn,C_BLOCK_COMMENT_MODE:sl,C_LINE_COMMENT_MODE:il,C_NUMBER_MODE:cl,C_NUMBER_RE:ts,END_SAME_AS_BEGIN:pl,HASH_COMMENT_MODE:ol,IDENT_RE:Ji,MATCH_NOTHING_RE:Qc,METHOD_GUARD:hl,NUMBER_MODE:al,NUMBER_RE:es,PHRASAL_WORDS_MODE:rl,QUOTE_STRING_MODE:nl,REGEXP_MODE:dl,RE_STARTERS_RE:Jc,SHEBANG:el,TITLE_MODE:ul,UNDERSCORE_IDENT_RE:pr,UNDERSCORE_TITLE_MODE:fl});function gl(e,t){e.input[e.index-1]==="."&&t.ignoreMatch()}function ml(e,t){e.className!==void 0&&(e.scope=e.className,delete e.className)}function bl(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=gl,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function _l(e,t){Array.isArray(e.illegal)&&(e.illegal=fr(...e.illegal))}function yl(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function vl(e,t){e.relevance===void 0&&(e.relevance=1)}const El=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const r=Object.assign({},e);Object.keys(e).forEach(i=>{delete e[i]}),e.keywords=r.keywords,e.begin=dt(r.beforeMatch,Xi(r.begin)),e.starts={relevance:0,contains:[Object.assign(r,{endsParent:!0})]},e.relevance=0,delete r.beforeMatch},wl=["of","and","for","in","not","or","if","then","parent","list","value"],Sl="keyword";function rs(e,t,r=Sl){const i=Object.create(null);return typeof e=="string"?c(r,e.split(" ")):Array.isArray(e)?c(r,e):Object.keys(e).forEach(function(d){Object.assign(i,rs(e[d],t,d))}),i;function c(d,a){t&&(a=a.map(s=>s.toLowerCase())),a.forEach(function(s){const o=s.split("|");i[o[0]]=[d,Cl(o[0],o[1])]})}}function Cl(e,t){return t?Number(t):Tl(e)?0:1}function Tl(e){return wl.includes(e.toLowerCase())}const Gr={},ot=e=>{console.error(e)},qr=(e,...t)=>{console.log(`WARN: ${e}`,...t)},pt=(e,t)=>{Gr[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),Gr[`${e}/${t}`]=!0)},fn=new Error;function is(e,t,{key:r}){let i=0;const c=e[r],d={},a={};for(let s=1;s<=t.length;s++)a[s+i]=c[s],d[s+i]=!0,i+=Qi(t[s-1]);e[r]=a,e[r]._emit=d,e[r]._multi=!0}function Al(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw ot("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),fn;if(typeof e.beginScope!="object"||e.beginScope===null)throw ot("beginScope must be object"),fn;is(e,e.begin,{key:"beginScope"}),e.begin=hr(e.begin,{joinWith:""})}}function Nl(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw ot("skip, excludeEnd, returnEnd not compatible with endScope: {}"),fn;if(typeof e.endScope!="object"||e.endScope===null)throw ot("endScope must be object"),fn;is(e,e.end,{key:"endScope"}),e.end=hr(e.end,{joinWith:""})}}function xl(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function Rl(e){xl(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),Al(e),Nl(e)}function kl(e){function t(a,s){return new RegExp(Pt(a),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(s?"g":""))}class r{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(s,o){o.position=this.position++,this.matchIndexes[this.matchAt]=o,this.regexes.push([o,s]),this.matchAt+=Qi(s)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const s=this.regexes.map(o=>o[1]);this.matcherRe=t(hr(s,{joinWith:"|"}),!0),this.lastIndex=0}exec(s){this.matcherRe.lastIndex=this.lastIndex;const o=this.matcherRe.exec(s);if(!o)return null;const f=o.findIndex((u,h)=>h>0&&u!==void 0),g=this.matchIndexes[f];return o.splice(0,f),Object.assign(o,g)}}class i{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(s){if(this.multiRegexes[s])return this.multiRegexes[s];const o=new r;return this.rules.slice(s).forEach(([f,g])=>o.addRule(f,g)),o.compile(),this.multiRegexes[s]=o,o}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(s,o){this.rules.push([s,o]),o.type==="begin"&&this.count++}exec(s){const o=this.getMatcher(this.regexIndex);o.lastIndex=this.lastIndex;let f=o.exec(s);if(this.resumingScanAtSamePosition()&&!(f&&f.index===this.lastIndex)){const g=this.getMatcher(0);g.lastIndex=this.lastIndex+1,f=g.exec(s)}return f&&(this.regexIndex+=f.position+1,this.regexIndex===this.count&&this.considerAll()),f}}function c(a){const s=new i;return a.contains.forEach(o=>s.addRule(o.begin,{rule:o,type:"begin"})),a.terminatorEnd&&s.addRule(a.terminatorEnd,{type:"end"}),a.illegal&&s.addRule(a.illegal,{type:"illegal"}),s}function d(a,s){const o=a;if(a.isCompiled)return o;[ml,yl,Rl,El].forEach(g=>g(a,s)),e.compilerExtensions.forEach(g=>g(a,s)),a.__beforeBegin=null,[bl,_l,vl].forEach(g=>g(a,s)),a.isCompiled=!0;let f=null;return typeof a.keywords=="object"&&a.keywords.$pattern&&(a.keywords=Object.assign({},a.keywords),f=a.keywords.$pattern,delete a.keywords.$pattern),f=f||/\w+/,a.keywords&&(a.keywords=rs(a.keywords,e.case_insensitive)),o.keywordPatternRe=t(f,!0),s&&(a.begin||(a.begin=/\B|\b/),o.beginRe=t(o.begin),!a.end&&!a.endsWithParent&&(a.end=/\B|\b/),a.end&&(o.endRe=t(o.end)),o.terminatorEnd=Pt(o.end)||"",a.endsWithParent&&s.terminatorEnd&&(o.terminatorEnd+=(a.end?"|":"")+s.terminatorEnd)),a.illegal&&(o.illegalRe=t(a.illegal)),a.contains||(a.contains=[]),a.contains=[].concat(...a.contains.map(function(g){return Ml(g==="self"?a:g)})),a.contains.forEach(function(g){d(g,o)}),a.starts&&d(a.starts,s),o.matcher=c(o),o}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=Je(e.classNameAliases||{}),d(e)}function ss(e){return e?e.endsWithParent||ss(e.starts):!1}function Ml(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return Je(e,{variants:null},t)})),e.cachedVariants?e.cachedVariants:ss(e)?Je(e,{starts:e.starts?Je(e.starts):null}):Object.isFrozen(e)?Je(e):e}var Ol="11.11.1";class Il extends Error{constructor(t,r){super(t),this.name="HTMLInjectionError",this.html=r}}const Ln=ji,Wr=Je,Yr=Symbol("nomatch"),Ll=7,os=function(e){const t=Object.create(null),r=Object.create(null),i=[];let c=!0;const d="Could not find the language '{}', did you forget to load/include a language module?",a={disableAutodetect:!0,name:"Plain text",contains:[]};let s={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:qc};function o(O){return s.noHighlightRe.test(O)}function f(O){let U=O.className+" ";U+=O.parentNode?O.parentNode.className:"";const $=s.languageDetectRe.exec(U);if($){const W=k($[1]);return W||(qr(d.replace("{}",$[1])),qr("Falling back to no-highlight mode for this block.",O)),W?$[1]:"no-highlight"}return U.split(/\s+/).find(W=>o(W)||k(W))}function g(O,U,$){let W="",te="";typeof U=="object"?(W=O,$=U.ignoreIllegals,te=U.language):(pt("10.7.0","highlight(lang, code, ...args) has been deprecated."),pt("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),te=O,W=U),$===void 0&&($=!0);const re={code:W,language:te};K("before:highlight",re);const ae=re.result?re.result:u(re.language,re.code,$);return ae.code=re.code,K("after:highlight",ae),ae}function u(O,U,$,W){const te=Object.create(null);function re(z,Y){return z.keywords[Y]}function ae(){if(!V.keywords){n.addText(l);return}let z=0;V.keywordPatternRe.lastIndex=0;let Y=V.keywordPatternRe.exec(l),J="";for(;Y;){J+=l.substring(z,Y.index);const Q=L.case_insensitive?Y[0].toLowerCase():Y[0],ee=re(V,Q);if(ee){const[le,Ke]=ee;if(n.addText(J),J="",te[Q]=(te[Q]||0)+1,te[Q]<=Ll&&(p+=Ke),le.startsWith("_"))J+=Y[0];else{const Ze=L.classNameAliases[le]||le;de(Y[0],Ze)}}else J+=Y[0];z=V.keywordPatternRe.lastIndex,Y=V.keywordPatternRe.exec(l)}J+=l.substring(z),n.addText(J)}function se(){if(l==="")return;let z=null;if(typeof V.subLanguage=="string"){if(!t[V.subLanguage]){n.addText(l);return}z=u(V.subLanguage,l,!0,E[V.subLanguage]),E[V.subLanguage]=z._top}else z=m(l,V.subLanguage.length?V.subLanguage:null);V.relevance>0&&(p+=z.relevance),n.__addSublanguage(z._emitter,z.language)}function ne(){V.subLanguage!=null?se():ae(),l=""}function de(z,Y){z!==""&&(n.startScope(Y),n.addText(z),n.endScope())}function Ee(z,Y){let J=1;const Q=Y.length-1;for(;J<=Q;){if(!z._emit[J]){J++;continue}const ee=L.classNameAliases[z[J]]||z[J],le=Y[J];ee?de(le,ee):(l=le,ae(),l=""),J++}}function Ae(z,Y){return z.scope&&typeof z.scope=="string"&&n.openNode(L.classNameAliases[z.scope]||z.scope),z.beginScope&&(z.beginScope._wrap?(de(l,L.classNameAliases[z.beginScope._wrap]||z.beginScope._wrap),l=""):z.beginScope._multi&&(Ee(z.beginScope,Y),l="")),V=Object.create(z,{parent:{value:V}}),V}function Me(z,Y,J){let Q=jc(z.endRe,J);if(Q){if(z["on:end"]){const ee=new zr(z);z["on:end"](Y,ee),ee.isMatchIgnored&&(Q=!1)}if(Q){for(;z.endsParent&&z.parent;)z=z.parent;return z}}if(z.endsWithParent)return Me(z.parent,Y,J)}function Oe(z){return V.matcher.regexIndex===0?(l+=z[0],1):(H=!0,0)}function Ie(z){const Y=z[0],J=z.rule,Q=new zr(J),ee=[J.__beforeBegin,J["on:begin"]];for(const le of ee)if(le&&(le(z,Q),Q.isMatchIgnored))return Oe(Y);return J.skip?l+=Y:(J.excludeBegin&&(l+=Y),ne(),!J.returnBegin&&!J.excludeBegin&&(l=Y)),Ae(J,z),J.returnBegin?0:Y.length}function Ve(z){const Y=z[0],J=U.substring(z.index),Q=Me(V,z,J);if(!Q)return Yr;const ee=V;V.endScope&&V.endScope._wrap?(ne(),de(Y,V.endScope._wrap)):V.endScope&&V.endScope._multi?(ne(),Ee(V.endScope,z)):ee.skip?l+=Y:(ee.returnEnd||ee.excludeEnd||(l+=Y),ne(),ee.excludeEnd&&(l=Y));do V.scope&&n.closeNode(),!V.skip&&!V.subLanguage&&(p+=V.relevance),V=V.parent;while(V!==Q.parent);return Q.starts&&Ae(Q.starts,z),ee.returnEnd?0:Y.length}function ke(){const z=[];for(let Y=V;Y!==L;Y=Y.parent)Y.scope&&z.unshift(Y.scope);z.forEach(Y=>n.openNode(Y))}let he={};function ye(z,Y){const J=Y&&Y[0];if(l+=z,J==null)return ne(),0;if(he.type==="begin"&&Y.type==="end"&&he.index===Y.index&&J===""){if(l+=U.slice(Y.index,Y.index+1),!c){const Q=new Error(`0 width match regex (${O})`);throw Q.languageName=O,Q.badRule=he.rule,Q}return 1}if(he=Y,Y.type==="begin")return Ie(Y);if(Y.type==="illegal"&&!$){const Q=new Error('Illegal lexeme "'+J+'" for mode "'+(V.scope||"<unnamed>")+'"');throw Q.mode=V,Q}else if(Y.type==="end"){const Q=Ve(Y);if(Q!==Yr)return Q}if(Y.type==="illegal"&&J==="")return l+=`
`,1;if(I>1e5&&I>Y.index*3)throw new Error("potential infinite loop, way more iterations than matches");return l+=J,J.length}const L=k(O);if(!L)throw ot(d.replace("{}",O)),new Error('Unknown language: "'+O+'"');const P=kl(L);let q="",V=W||P;const E={},n=new s.__emitter(s);ke();let l="",p=0,N=0,I=0,H=!1;try{if(L.__emitTokens)L.__emitTokens(U,n);else{for(V.matcher.considerAll();;){I++,H?H=!1:V.matcher.considerAll(),V.matcher.lastIndex=N;const z=V.matcher.exec(U);if(!z)break;const Y=U.substring(N,z.index),J=ye(Y,z);N=z.index+J}ye(U.substring(N))}return n.finalize(),q=n.toHTML(),{language:O,value:q,relevance:p,illegal:!1,_emitter:n,_top:V}}catch(z){if(z.message&&z.message.includes("Illegal"))return{language:O,value:Ln(U),illegal:!0,relevance:0,_illegalBy:{message:z.message,index:N,context:U.slice(N-100,N+100),mode:z.mode,resultSoFar:q},_emitter:n};if(c)return{language:O,value:Ln(U),illegal:!1,relevance:0,errorRaised:z,_emitter:n,_top:V};throw z}}function h(O){const U={value:Ln(O),illegal:!1,relevance:0,_top:a,_emitter:new s.__emitter(s)};return U._emitter.addText(O),U}function m(O,U){U=U||s.languages||Object.keys(t);const $=h(O),W=U.filter(k).filter(x).map(ne=>u(ne,O,!1));W.unshift($);const te=W.sort((ne,de)=>{if(ne.relevance!==de.relevance)return de.relevance-ne.relevance;if(ne.language&&de.language){if(k(ne.language).supersetOf===de.language)return 1;if(k(de.language).supersetOf===ne.language)return-1}return 0}),[re,ae]=te,se=re;return se.secondBest=ae,se}function _(O,U,$){const W=U&&r[U]||$;O.classList.add("hljs"),O.classList.add(`language-${W}`)}function w(O){let U=null;const $=f(O);if(o($))return;if(K("before:highlightElement",{el:O,language:$}),O.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",O);return}if(O.children.length>0&&(s.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(O)),s.throwUnescapedHTML))throw new Il("One of your code blocks includes unescaped HTML.",O.innerHTML);U=O;const W=U.textContent,te=$?g(W,{language:$,ignoreIllegals:!0}):m(W);O.innerHTML=te.value,O.dataset.highlighted="yes",_(O,$,te.language),O.result={language:te.language,re:te.relevance,relevance:te.relevance},te.secondBest&&(O.secondBest={language:te.secondBest.language,relevance:te.secondBest.relevance}),K("after:highlightElement",{el:O,result:te,text:W})}function M(O){s=Wr(s,O)}const R=()=>{y(),pt("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function B(){y(),pt("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let b=!1;function y(){function O(){y()}if(document.readyState==="loading"){b||window.addEventListener("DOMContentLoaded",O,!1),b=!0;return}document.querySelectorAll(s.cssSelector).forEach(w)}function v(O,U){let $=null;try{$=U(e)}catch(W){if(ot("Language definition for '{}' could not be registered.".replace("{}",O)),c)ot(W);else throw W;$=a}$.name||($.name=O),t[O]=$,$.rawDefinition=U.bind(null,e),$.aliases&&F($.aliases,{languageName:O})}function A(O){delete t[O];for(const U of Object.keys(r))r[U]===O&&delete r[U]}function C(){return Object.keys(t)}function k(O){return O=(O||"").toLowerCase(),t[O]||t[r[O]]}function F(O,{languageName:U}){typeof O=="string"&&(O=[O]),O.forEach($=>{r[$.toLowerCase()]=U})}function x(O){const U=k(O);return U&&!U.disableAutodetect}function S(O){O["before:highlightBlock"]&&!O["before:highlightElement"]&&(O["before:highlightElement"]=U=>{O["before:highlightBlock"](Object.assign({block:U.el},U))}),O["after:highlightBlock"]&&!O["after:highlightElement"]&&(O["after:highlightElement"]=U=>{O["after:highlightBlock"](Object.assign({block:U.el},U))})}function T(O){S(O),i.push(O)}function D(O){const U=i.indexOf(O);U!==-1&&i.splice(U,1)}function K(O,U){const $=O;i.forEach(function(W){W[$]&&W[$](U)})}function Z(O){return pt("10.7.0","highlightBlock will be removed entirely in v12.0"),pt("10.7.0","Please use highlightElement now."),w(O)}Object.assign(e,{highlight:g,highlightAuto:m,highlightAll:y,highlightElement:w,highlightBlock:Z,configure:M,initHighlighting:R,initHighlightingOnLoad:B,registerLanguage:v,unregisterLanguage:A,listLanguages:C,getLanguage:k,registerAliases:F,autoDetection:x,inherit:Wr,addPlugin:T,removePlugin:D}),e.debugMode=function(){c=!1},e.safeMode=function(){c=!0},e.versionString=Ol,e.regex={concat:dt,lookahead:Xi,either:fr,optional:Yc,anyNumberOfTimes:Wc};for(const O in en)typeof en[O]=="object"&&Zi(en[O]);return Object.assign(e,en),e},St=os({});St.newInstance=()=>os({});var Dl=St;St.HighlightJS=St;St.default=St;const Bl=oi(Dl),Zr={},Pl="hljs-";function Ul(e){const t=Bl.newInstance();return e&&d(e),{highlight:r,highlightAuto:i,listLanguages:c,register:d,registerAlias:a,registered:s};function r(o,f,g){const u=g||Zr,h=typeof u.prefix=="string"?u.prefix:Pl;if(!t.getLanguage(o))throw new Error("Unknown language: `"+o+"` is not registered");t.configure({__emitter:Fl,classPrefix:h});const m=t.highlight(f,{ignoreIllegals:!0,language:o});if(m.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:m.errorRaised});const _=m._emitter.root,w=_.data;return w.language=m.language,w.relevance=m.relevance,_}function i(o,f){const u=(f||Zr).subset||c();let h=-1,m=0,_;for(;++h<u.length;){const w=u[h];if(!t.getLanguage(w))continue;const M=r(w,o,f);M.data&&M.data.relevance!==void 0&&M.data.relevance>m&&(m=M.data.relevance,_=M)}return _||{type:"root",children:[],data:{language:void 0,relevance:m}}}function c(){return t.listLanguages()}function d(o,f){if(typeof o=="string")t.registerLanguage(o,f);else{let g;for(g in o)Object.hasOwn(o,g)&&t.registerLanguage(g,o[g])}}function a(o,f){if(typeof o=="string")t.registerAliases(typeof f=="string"?f:[...f],{languageName:o});else{let g;for(g in o)if(Object.hasOwn(o,g)){const u=o[g];t.registerAliases(typeof u=="string"?u:[...u],{languageName:g})}}}function s(o){return!!t.getLanguage(o)}}class Fl{constructor(t){this.options=t,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(t){if(t==="")return;const r=this.stack[this.stack.length-1],i=r.children[r.children.length-1];i&&i.type==="text"?i.value+=t:r.children.push({type:"text",value:t})}startScope(t){this.openNode(String(t))}endScope(){this.closeNode()}__addSublanguage(t,r){const i=this.stack[this.stack.length-1],c=t.root.children;r?i.children.push({type:"element",tagName:"span",properties:{className:[r]},children:c}):i.children.push(...c)}openNode(t){const r=this,i=t.split(".").map(function(a,s){return s?a+"_".repeat(s):r.options.classPrefix+a}),c=this.stack[this.stack.length-1],d={type:"element",tagName:"span",properties:{className:i},children:[]};c.children.push(d),this.stack.push(d)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}const $l={components:{NodeViewWrapper:Ls,NodeViewContent:Ds},props:Bs,computed:{selectedLanguage:{get(){return this.node.attrs.language},set(e){this.updateAttributes({language:e})}},languages(){return this.extension.options.lowlight.listLanguages().map(t=>({label:t,value:t})).concat([{label:"html",value:"xml"}]).sort((t,r)=>t.label.localeCompare(r.label))}}},Hl={class:"code-block-container"},zl=["value"];function Vl(e,t,r,i,c,d){const a=We("node-view-content"),s=We("node-view-wrapper");return j(),_e(s,null,{default:Se(()=>[G("div",Hl,[Qe(G("select",{class:"language-selector form-select py-0",contenteditable:"false","onUpdate:modelValue":t[0]||(t[0]=o=>d.selectedLanguage=o)},[t[1]||(t[1]=G("option",{value:null},"auto",-1)),t[2]||(t[2]=G("option",{disabled:""},"—",-1)),(j(!0),X(Ge,null,tt(d.languages,(o,f)=>(j(),X("option",{value:o.value,key:o.value},Te(o.label),9,zl))),128))],512),[[Ps,d.selectedLanguage]]),G("pre",null,[G("code",null,[fe(a)])])])]),_:1})}const Kl=ie($l,[["render",Vl]]),Gl={name:"TipTapMenu",props:["buttons"],inject:["editor"],components:{Popover:Us},methods:{onButtonClick(e){e.action(this.editor)}}},ql={class:"inline-flex bg-surface-white px-1 py-1"},Wl={class:"inline-flex items-center gap-1"},Yl={key:0,class:"h-4 w-[2px] border-l"},Zl={key:1,class:"shrink-0"},jl=["onClick","set"],Xl={key:1},Ql={class:"p-1.5 mt-2 rounded-lg bg-surface-modal shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none"},Jl=["onClick"],ed={key:1,class:"whitespace-nowrap text-ink-gray-7"},td=["onClick","title"],nd={key:1,class:"inline-block h-4 min-w-[1rem] text-sm leading-4"};function rd(e,t,r,i,c,d){const a=We("Popover");return j(),X("div",ql,[G("div",Wl,[(j(!0),X(Ge,null,tt(r.buttons,s=>(j(),X(Ge,{key:s.label},[s.type==="separator"?(j(),X("div",Yl)):s.map?(j(),X("div",Zl,[fe(a,null,{target:Se(({togglePopover:o})=>[G("button",{class:"rounded px-2 py-1 text-base font-medium text-ink-gray-8 transition-colors hover:bg-surface-gray-2",onClick:o,set:e.activeBtn=s.find(f=>f.isActive(d.editor))||s[0]},[e.activeBtn.icon?(j(),_e(bt(e.activeBtn.icon),{key:0,class:"h-4 w-4"})):(j(),X("span",Xl,Te(e.activeBtn.label),1))],8,jl)]),body:Se(({close:o})=>[G("ul",Ql,[(j(!0),X(Ge,null,tt(s,f=>Qe((j(),X("li",null,[G("button",{class:"w-full h-7 rounded px-2 text-base flex items-center gap-2 hover:bg-surface-gray-3",onClick:()=>{d.onButtonClick(f),o()}},[f.icon?(j(),_e(bt(f.icon),{key:0,class:"size-4 flex-shrink-0 text-ink-gray-6"})):be("",!0),f.label?(j(),X("span",ed,Te(f.label),1)):be("",!0)],8,Jl)],512)),[[yt,f.isDisabled?!f.isDisabled(d.editor):!0]])),256))])]),_:2},1024)])):(j(),_e(bt(s.component||"div"),ai({key:2,ref_for:!0},{editor:d.editor}),{default:Se(o=>[G("button",{class:ve(["flex rounded p-1 text-ink-gray-8 transition-colors",[s.isActive(d.editor)||o?.isActive?"bg-surface-gray-3":"hover:bg-surface-gray-2",s.class]]),onClick:f=>o?.onClick?o.onClick(s):d.onButtonClick(s),title:s.label},[s.icon?(j(),_e(bt(s.icon),{key:0,class:"h-4 w-4"})):(j(),X("span",nd,Te(s.text),1))],10,td)]),_:2},1040))],64))),128))])])}const as=ie(Gl,[["render",rd]]),id={},sd={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"};function od(e,t){return j(),X("svg",sd,[...t[0]||(t[0]=[G("path",{fill:"none",d:"M0 0H24V24H0z"},null,-1),G("path",{d:"M13 20h-2v-7H4v7H2V4h2v7h7V4h2v16zm8-12v12h-2v-9.796l-2 .536V8.67L19.5 8H21z",fill:"currentColor"},null,-1)])])}const ad=ie(id,[["render",od]]),cd={},ld={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"};function dd(e,t){return j(),X("svg",ld,[...t[0]||(t[0]=[G("path",{fill:"none",d:"M0 0H24V24H0z"},null,-1),G("path",{d:"M4 4v7h7V4h2v16h-2v-7H4v7H2V4h2zm14.5 4c2.071 0 3.75 1.679 3.75 3.75 0 .857-.288 1.648-.772 2.28l-.148.18L18.034 18H22v2h-7v-1.556l4.82-5.546c.268-.307.43-.709.43-1.148 0-.966-.784-1.75-1.75-1.75-.918 0-1.671.707-1.744 1.606l-.006.144h-2C14.75 9.679 16.429 8 18.5 8z",fill:"currentColor"},null,-1)])])}const ud=ie(cd,[["render",dd]]),fd={},hd={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"};function pd(e,t){return j(),X("svg",hd,[...t[0]||(t[0]=[G("path",{fill:"none",d:"M0 0H24V24H0z"},null,-1),G("path",{d:"M22 8l-.002 2-2.505 2.883c1.59.435 2.757 1.89 2.757 3.617 0 2.071-1.679 3.75-3.75 3.75-1.826 0-3.347-1.305-3.682-3.033l1.964-.382c.156.806.866 1.415 1.718 1.415.966 0 1.75-.784 1.75-1.75s-.784-1.75-1.75-1.75c-.286 0-.556.069-.794.19l-1.307-1.547L19.35 10H15V8h7zM4 4v7h7V4h2v16h-2v-7H4v7H2V4h2z",fill:"currentColor"},null,-1)])])}const gd=ie(fd,[["render",pd]]),md={},bd={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"};function _d(e,t){return j(),X("svg",bd,[...t[0]||(t[0]=[G("path",{fill:"none",d:"M0 0H24V24H0z"},null,-1),G("path",{d:"M13 20h-2v-7H4v7H2V4h2v7h7V4h2v16zm9-12v8h1.5v2H22v2h-2v-2h-5.5v-1.34l5-8.66H22zm-2 3.133L17.19 16H20v-4.867z",fill:"currentColor"},null,-1)])])}const yd=ie(md,[["render",_d]]),vd={},Ed={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"};function wd(e,t){return j(),X("svg",Ed,[...t[0]||(t[0]=[G("path",{fill:"none",d:"M0 0H24V24H0z"},null,-1),G("path",{d:"M22 8v2h-4.323l-.464 2.636c.33-.089.678-.136 1.037-.136 2.21 0 4 1.79 4 4s-1.79 4-4 4c-1.827 0-3.367-1.224-3.846-2.897l1.923-.551c.24.836 1.01 1.448 1.923 1.448 1.105 0 2-.895 2-2s-.895-2-2-2c-.63 0-1.193.292-1.56.748l-1.81-.904L16 8h6zM4 4v7h7V4h2v16h-2v-7H4v7H2V4h2z",fill:"currentColor"},null,-1)])])}const Sd=ie(vd,[["render",wd]]),Cd={},Td={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"};function Ad(e,t){return j(),X("svg",Td,[...t[0]||(t[0]=[G("path",{fill:"none",d:"M0 0H24V24H0z"},null,-1),G("path",{d:"M21.097 8l-2.598 4.5c2.21 0 4.001 1.79 4.001 4s-1.79 4-4 4-4-1.79-4-4c0-.736.199-1.426.546-2.019L18.788 8h2.309zM4 4v7h7V4h2v16h-2v-7H4v7H2V4h2zm14.5 10.5c-1.105 0-2 .895-2 2s.895 2 2 2 2-.895 2-2-.895-2-2-2z",fill:"currentColor"},null,-1)])])}const Nd=ie(Cd,[["render",Ad]]),xd={},Rd={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"};function kd(e,t){return j(),X("svg",Rd,[...t[0]||(t[0]=[G("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),G("path",{d:"M13 6v15h-2V6H5V4h14v2z",fill:"currentColor"},null,-1)])])}const Md=ie(xd,[["render",kd]]),Od={},Id={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"};function Ld(e,t){return j(),X("svg",Id,[...t[0]||(t[0]=[G("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),G("path",{d:"M8 11h4.5a2.5 2.5 0 1 0 0-5H8v5zm10 4.5a4.5 4.5 0 0 1-4.5 4.5H6V4h6.5a4.5 4.5 0 0 1 3.256 7.606A4.498 4.498 0 0 1 18 15.5zM8 13v5h5.5a2.5 2.5 0 1 0 0-5H8z",fill:"currentColor"},null,-1)])])}const Dd=ie(Od,[["render",Ld]]),Bd={},Pd={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"};function Ud(e,t){return j(),X("svg",Pd,[...t[0]||(t[0]=[G("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),G("path",{d:"M15 20H7v-2h2.927l2.116-12H9V4h8v2h-2.927l-2.116 12H15z",fill:"currentColor"},null,-1)])])}const Fd=ie(Bd,[["render",Ud]]),$d={},Hd={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"};function zd(e,t){return j(),X("svg",Hd,[...t[0]||(t[0]=[G("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),G("path",{d:"M8 3v9a4 4 0 1 0 8 0V3h2v9a6 6 0 1 1-12 0V3h2zM4 20h16v2H4v-2z",fill:"currentColor"},null,-1)])])}const Vd=ie($d,[["render",zd]]),Kd={},Gd={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"};function qd(e,t){return j(),X("svg",Gd,[...t[0]||(t[0]=[G("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),G("path",{d:"M17.154 14c.23.516.346 1.09.346 1.72 0 1.342-.524 2.392-1.571 3.147C14.88 19.622 13.433 20 11.586 20c-1.64 0-3.263-.381-4.87-1.144V16.6c1.52.877 3.075 1.316 4.666 1.316 2.551 0 3.83-.732 3.839-2.197a2.21 2.21 0 0 0-.648-1.603l-.12-.117H3v-2h18v2h-3.846zm-4.078-3H7.629a4.086 4.086 0 0 1-.481-.522C6.716 9.92 6.5 9.246 6.5 8.452c0-1.236.466-2.287 1.397-3.153C8.83 4.433 10.271 4 12.222 4c1.471 0 2.879.328 4.222.984v2.152c-1.2-.687-2.515-1.03-3.946-1.03-2.48 0-3.719.782-3.719 2.346 0 .42.218.786.654 1.099.436.313.974.562 1.613.75.62.18 1.297.414 2.03.699z",fill:"currentColor"},null,-1)])])}const Wd=ie(Kd,[["render",qd]]),Yd={},Zd={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"};function jd(e,t){return j(),X("svg",Zd,[...t[0]||(t[0]=[G("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),G("path",{d:"M3 4h18v2H3V4zm2 15h14v2H5v-2zm-2-5h18v2H3v-2zm2-5h14v2H5V9z",fill:"currentColor"},null,-1)])])}const Xd=ie(Yd,[["render",jd]]),Qd={},Jd={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"};function eu(e,t){return j(),X("svg",Jd,[...t[0]||(t[0]=[G("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),G("path",{d:"M3 4h18v2H3V4zm0 15h14v2H3v-2zm0-5h18v2H3v-2zm0-5h14v2H3V9z",fill:"currentColor"},null,-1)])])}const tu=ie(Qd,[["render",eu]]),nu={},ru={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"};function iu(e,t){return j(),X("svg",ru,[...t[0]||(t[0]=[G("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),G("path",{d:"M3 4h18v2H3V4zm4 15h14v2H7v-2zm-4-5h18v2H3v-2zm4-5h14v2H7V9z",fill:"currentColor"},null,-1)])])}const su=ie(nu,[["render",iu]]),ou={},au={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"};function cu(e,t){return j(),X("svg",au,[...t[0]||(t[0]=[G("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),G("path",{d:"M15.246 14H8.754l-1.6 4H5l6-15h2l6 15h-2.154l-1.6-4zm-.8-2L12 5.885 9.554 12h4.892zM3 20h18v2H3v-2z",fill:"currentColor"},null,-1)])])}const lu=ie(ou,[["render",cu]]),du={},uu={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"};function fu(e,t){return j(),X("svg",uu,[...t[0]||(t[0]=[G("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),G("path",{d:"M8 4h13v2H8V4zM5 3v3h1v1H3V6h1V4H3V3h2zM3 14v-2.5h2V11H3v-1h3v2.5H4v.5h2v1H3zm2 5.5H3v-1h2V18H3v-1h3v4H3v-1h2v-.5zM8 11h13v2H8v-2zm0 7h13v2H8v-2z",fill:"currentColor"},null,-1)])])}const hu=ie(du,[["render",fu]]),pu={},gu={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"};function mu(e,t){return j(),X("svg",gu,[...t[0]||(t[0]=[G("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),G("path",{d:"M8 4h13v2H8V4zM4.5 6.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 7a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 6.9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zM8 11h13v2H8v-2zm0 7h13v2H8v-2z",fill:"currentColor"},null,-1)])])}const bu=ie(pu,[["render",mu]]),_u={},yu={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-list-checks-icon lucide-list-checks"};function vu(e,t){return j(),X("svg",yu,[...t[0]||(t[0]=[ci('<path d="m3 17 2 2 4-4"></path><path d="m3 7 2 2 4-4"></path><path d="M13 6h8"></path><path d="M13 12h8"></path><path d="M13 18h8"></path>',5)])])}const Eu=ie(_u,[["render",vu]]),wu={},Su={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"};function Cu(e,t){return j(),X("svg",Su,[...t[0]||(t[0]=[G("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),G("path",{d:"M19.417 6.679C20.447 7.773 21 9 21 10.989c0 3.5-2.457 6.637-6.03 8.188l-.893-1.378c3.335-1.804 3.987-4.145 4.247-5.621-.537.278-1.24.375-1.929.311-1.804-.167-3.226-1.648-3.226-3.489a3.5 3.5 0 0 1 3.5-3.5c1.073 0 2.099.49 2.748 1.179zm-10 0C10.447 7.773 11 9 11 10.989c0 3.5-2.457 6.637-6.03 8.188l-.893-1.378c3.335-1.804 3.987-4.145 4.247-5.621-.537.278-1.24.375-1.929.311C4.591 12.322 3.17 10.841 3.17 9a3.5 3.5 0 0 1 3.5-3.5c1.073 0 2.099.49 2.748 1.179z",fill:"currentColor"},null,-1)])])}const Tu=ie(wu,[["render",Cu]]),Au={},Nu={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"};function xu(e,t){return j(),X("svg",Nu,[...t[0]||(t[0]=[G("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),G("path",{d:"M16.95 8.464l1.414-1.414 4.95 4.95-4.95 4.95-1.414-1.414L20.485 12 16.95 8.464zm-9.9 0L3.515 12l3.535 3.536-1.414 1.414L.686 12l4.95-4.95L7.05 8.464z",fill:"currentColor"},null,-1)])])}const Ru=ie(Au,[["render",xu]]),ku={},Mu={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"};function Ou(e,t){return j(),X("svg",Mu,[...t[0]||(t[0]=[G("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),G("path",{d:"M18.364 15.536L16.95 14.12l1.414-1.414a5 5 0 1 0-7.071-7.071L9.879 7.05 8.464 5.636 9.88 4.222a7 7 0 0 1 9.9 9.9l-1.415 1.414zm-2.828 2.828l-1.415 1.414a7 7 0 0 1-9.9-9.9l1.415-1.414L7.05 9.88l-1.414 1.414a5 5 0 1 0 7.071 7.071l1.414-1.414 1.415 1.414zm-.708-10.607l1.415 1.415-7.071 7.07-1.415-1.414 7.071-7.07z",fill:"currentColor"},null,-1)])])}const Iu=ie(ku,[["render",Ou]]),Lu={},Du={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"};function Bu(e,t){return j(),X("svg",Du,[...t[0]||(t[0]=[G("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),G("path",{d:"M21 15v3h3v2h-3v3h-2v-3h-3v-2h3v-3h2zm.008-12c.548 0 .992.445.992.993V13h-2V5H4v13.999L14 9l3 3v2.829l-3-3L6.827 19H14v2H2.992A.993.993 0 0 1 2 20.007V3.993A1 1 0 0 1 2.992 3h18.016zM8 7a2 2 0 1 1 0 4 2 2 0 0 1 0-4z",fill:"currentColor"},null,-1)])])}const Pu=ie(Lu,[["render",Bu]]),Uu={},Fu={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"};function $u(e,t){return j(),X("svg",Fu,[...t[0]||(t[0]=[G("path",{fill:"none",d:"M0 0H24V24H0z"},null,-1),G("path",{d:"M16 4c.552 0 1 .448 1 1v4.2l5.213-3.65c.226-.158.538-.103.697.124.058.084.09.184.09.286v12.08c0 .276-.224.5-.5.5-.103 0-.203-.032-.287-.09L17 14.8V19c0 .552-.448 1-1 1H2c-.552 0-1-.448-1-1V5c0-.552.448-1 1-1h14zm-1 2H3v12h12V6zM8 8h2v3h3v2H9.999L10 16H8l-.001-3H5v-2h3V8zm13 .841l-4 2.8v.718l4 2.8V8.84z",fill:"currentColor"},null,-1)])])}const Hu=ie(Uu,[["render",$u]]),zu={},Vu={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"};function Ku(e,t){return j(),X("svg",Vu,[...t[0]||(t[0]=[G("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),G("path",{d:"M5.828 7l2.536 2.536L6.95 10.95 2 6l4.95-4.95 1.414 1.414L5.828 5H13a8 8 0 1 1 0 16H4v-2h9a6 6 0 1 0 0-12H5.828z",fill:"currentColor"},null,-1)])])}const Gu=ie(zu,[["render",Ku]]),qu={},Wu={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"};function Yu(e,t){return j(),X("svg",Wu,[...t[0]||(t[0]=[G("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),G("path",{d:"M18.172 7H11a6 6 0 1 0 0 12h9v2h-9a8 8 0 1 1 0-16h7.172l-2.536-2.536L17.05 1.05 22 6l-4.95 4.95-1.414-1.414L18.172 7z",fill:"currentColor"},null,-1)])])}const Zu=ie(qu,[["render",Yu]]),ju={},Xu={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"};function Qu(e,t){return j(),X("svg",Xu,[...t[0]||(t[0]=[G("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),G("path",{d:"M2 11h2v2H2v-2zm4 0h12v2H6v-2zm14 0h2v2h-2v-2z",fill:"currentColor"},null,-1)])])}const Ju=ie(ju,[["render",Qu]]),ef={},tf={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"};function nf(e,t){return j(),X("svg",tf,[...t[0]||(t[0]=[G("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),G("path",{d:"M13 10v4h6v-4h-6zm-2 0H5v4h6v-4zm2 9h6v-3h-6v3zm-2 0v-3H5v3h6zm2-14v3h6V5h-6zm-2 0H5v3h6V5zM4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z",fill:"currentColor"},null,-1)])])}const rf=ie(ef,[["render",nf]]),sf={Paragraph:{label:"Paragraph",icon:Md,action:e=>e.chain().focus().setParagraph().run(),isActive:e=>e.isActive("paragraph")},"Heading 1":{label:"Heading 1",text:"H1",icon:ad,action:e=>e.chain().focus().toggleHeading({level:1}).run(),isActive:e=>e.isActive("heading",{level:1})},"Heading 2":{label:"Heading 2",text:"H2",icon:ud,action:e=>e.chain().focus().toggleHeading({level:2}).run(),isActive:e=>e.isActive("heading",{level:2})},"Heading 3":{label:"Heading 3",text:"H3",icon:gd,action:e=>e.chain().focus().toggleHeading({level:3}).run(),isActive:e=>e.isActive("heading",{level:3})},"Heading 4":{label:"Heading 4",text:"H4",icon:yd,action:e=>e.chain().focus().toggleHeading({level:4}).run(),isActive:e=>e.isActive("heading",{level:4})},"Heading 5":{label:"Heading 5",text:"H5",icon:Sd,action:e=>e.chain().focus().toggleHeading({level:5}).run(),isActive:e=>e.isActive("heading",{level:5})},"Heading 6":{label:"Heading 6",text:"H6",icon:Nd,action:e=>e.chain().focus().toggleHeading({level:6}).run(),isActive:e=>e.isActive("heading",{level:6})},Bold:{label:"Bold",icon:Dd,action:e=>e.chain().focus().toggleBold().run(),isActive:e=>e.isActive("bold")},Italic:{label:"Italic",icon:Fd,action:e=>e.chain().focus().toggleItalic().run(),isActive:e=>e.isActive("italic")},Underline:{label:"Underline",icon:Vd,action:e=>e.chain().focus().toggleUnderline().run(),isActive:e=>e.isActive("underline")},Strikethrough:{label:"Strikethrough",icon:Wd,action:e=>e.chain().focus().toggleStrike().run(),isActive:e=>e.isActive("strike")},"Bullet List":{label:"Bullet List",icon:bu,action:e=>e.chain().focus().toggleBulletList().run(),isActive:e=>e.isActive("bulletList")},"Numbered List":{label:"Numbered List",icon:hu,action:e=>e.chain().focus().toggleOrderedList().run(),isActive:e=>e.isActive("orderedList")},"Task List":{label:"Task List",icon:Eu,action:e=>e.chain().focus().toggleTaskList().run(),isActive:e=>e.isActive("taskList")},"Align Center":{label:"Align Center",icon:Xd,action:e=>e.chain().focus().setTextAlign("center").run(),isActive:e=>e.isActive({textAlign:"center"})},"Align Left":{label:"Align Left",icon:tu,action:e=>e.chain().focus().setTextAlign("left").run(),isActive:e=>e.isActive({textAlign:"left"})},"Align Right":{label:"Align Right",icon:su,action:e=>e.chain().focus().setTextAlign("right").run(),isActive:e=>e.isActive({textAlign:"right"})},FontColor:{label:"Font Color",icon:lu,isActive:e=>e.isActive("textStyle")||e.isActive("highlight"),component:it(()=>st(()=>import("./FontColor-fc2ec4b5.js"),["assets/FontColor-fc2ec4b5.js","assets/index-875d8ccd.js","assets/index-b1218197.css"]))},Blockquote:{label:"Blockquote",icon:Tu,action:e=>e.chain().focus().toggleBlockquote().run(),isActive:e=>e.isActive("blockquote")},Code:{label:"Code",icon:Ru,action:e=>e.chain().focus().toggleCodeBlock().run(),isActive:e=>e.isActive("codeBlock")},"Horizontal Rule":{label:"Horizontal Rule",icon:Ju,action:e=>e.chain().focus().setHorizontalRule().run(),isActive:e=>!1},Link:{label:"Link",icon:Iu,isActive:e=>e.isActive("link"),component:it(()=>st(()=>import("./InsertLink-9c4edf16.js"),["assets/InsertLink-9c4edf16.js","assets/index-875d8ccd.js","assets/index-b1218197.css"]))},Image:{label:"Image",icon:Pu,isActive:e=>!1,component:it(()=>st(()=>import("./InsertImage-6336940a.js"),["assets/InsertImage-6336940a.js","assets/index-875d8ccd.js","assets/index-b1218197.css"]))},Video:{label:"Video",icon:Hu,isActive:e=>!1,component:it(()=>st(()=>import("./InsertVideo-637af6be.js"),["assets/InsertVideo-637af6be.js","assets/index-875d8ccd.js","assets/index-b1218197.css"]))},Iframe:{label:"Embed",icon:Fs,isActive:e=>e.isActive("iframe"),component:it(()=>st(()=>import("./InsertIframe-7d7a4914.js"),["assets/InsertIframe-7d7a4914.js","assets/index-875d8ccd.js","assets/index-b1218197.css"]))},Undo:{label:"Undo",icon:Gu,action:e=>e.chain().focus().undo().run(),isActive:e=>!1},Redo:{label:"Redo",icon:Zu,action:e=>e.chain().focus().redo().run(),isActive:e=>!1},InsertTable:{label:"Insert Table",icon:rf,action:e=>e.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run(),isActive:e=>!1},AddColumnBefore:{label:"Add Column Before",action:e=>e.chain().focus().addColumnBefore().run(),isActive:e=>!1,isDisabled:e=>!e.can().addColumnBefore()},AddColumnAfter:{label:"Add Column After",action:e=>e.chain().focus().addColumnAfter().run(),isActive:e=>!1,isDisabled:e=>!e.can().addColumnAfter()},DeleteColumn:{label:"Delete Column",action:e=>e.chain().focus().deleteColumn().run(),isActive:e=>!1,isDisabled:e=>!e.can().deleteColumn()},AddRowBefore:{label:"Add Row Before",action:e=>e.chain().focus().addRowBefore().run(),isActive:e=>!1,isDisabled:e=>!e.can().addRowBefore()},AddRowAfter:{label:"Add Row After",action:e=>e.chain().focus().addRowAfter().run(),isActive:e=>!1,isDisabled:e=>!e.can().addRowAfter()},DeleteRow:{label:"Delete Row",action:e=>e.chain().focus().deleteRow().run(),isActive:e=>!1,isDisabled:e=>!e.can().deleteRow()},DeleteTable:{label:"Delete Table",action:e=>e.chain().focus().deleteTable().run(),isActive:e=>!1,isDisabled:e=>!e.can().deleteTable()},MergeCells:{label:"Merge Cells",action:e=>e.chain().focus().mergeCells().run(),isActive:e=>!1,isDisabled:e=>!e.can().mergeCells()},SplitCell:{label:"Split Cell",action:e=>e.chain().focus().splitCell().run(),isActive:e=>!1,isDisabled:e=>!e.can().splitCell()},ToggleHeaderColumn:{label:"Toggle Header Column",action:e=>e.chain().focus().toggleHeaderColumn().run(),isActive:e=>!1,isDisabled:e=>!e.can().toggleHeaderColumn()},ToggleHeaderRow:{label:"Toggle Header Row",action:e=>e.chain().focus().toggleHeaderRow().run(),isActive:e=>!1,isDisabled:e=>!e.can().toggleHeaderRow()},ToggleHeaderCell:{label:"Toggle Header Cell",action:e=>e.chain().focus().toggleHeaderCell().run(),isActive:e=>!1,isDisabled:e=>!e.can().toggleHeaderCell()},Separator:{type:"separator"}};function An(e){return e instanceof Array?e.map(An):typeof e=="object"?e:sf[e]}const of={name:"TextEditorFixedMenu",props:["buttons"],components:{Menu:as},inject:["editor"],computed:{fixedMenuButtons(){if(!this.buttons)return!1;let e;return Array.isArray(this.buttons)?e=this.buttons:e=[["Heading 1","Heading 2","Heading 3","Heading 4","Heading 5","Heading 6"],"Paragraph","Separator","Bold","Italic","Separator","Bullet List","Numbered List","Task List","Separator","Align Left","Align Center","Align Right","FontColor","Separator","Image","Video","Iframe","Link","Blockquote","Code","Horizontal Rule",["InsertTable","AddColumnBefore","AddColumnAfter","DeleteColumn","AddRowBefore","AddRowAfter","DeleteRow","MergeCells","SplitCell","ToggleHeaderColumn","ToggleHeaderRow","ToggleHeaderCell","DeleteTable"],"Separator","Undo","Redo"],e.map(An)}}};function af(e,t,r,i,c,d){const a=We("Menu");return d.fixedMenuButtons?(j(),_e(a,{key:0,buttons:d.fixedMenuButtons},null,8,["buttons"])):be("",!0)}const cs=ie(of,[["render",af]]),cf={name:"TextEditorBubbleMenu",props:["buttons","options"],components:{BubbleMenu:$s,Menu:as},inject:["editor"],computed:{bubbleMenuButtons(){if(!this.buttons)return!1;let e;return Array.isArray(this.buttons)?e=this.buttons:e=["Paragraph","Heading 2","Heading 3","Separator","Bold","Italic","Strikethrough","FontColor","Link","Separator","Bullet List","Numbered List","Task List","Separator","Align Left","Align Center","Align Right","Separator","Image","Video","Blockquote","Code",["InsertTable","AddColumnBefore","AddColumnAfter","DeleteColumn","AddRowBefore","AddRowAfter","DeleteRow","MergeCells","SplitCell","ToggleHeaderColumn","ToggleHeaderRow","ToggleHeaderCell","DeleteTable"]],e.map(An)}}};function lf(e,t,r,i,c,d){const a=We("Menu"),s=We("BubbleMenu");return d.bubbleMenuButtons?(j(),_e(s,ai({key:0,class:"bubble-menu rounded-md shadow-sm","tippy-options":{duration:100},editor:d.editor},r.options),{default:Se(()=>[fe(a,{class:"rounded-md border-gray-100 shadow-lg",buttons:d.bubbleMenuButtons},null,8,["buttons"])]),_:1},16,["editor"])):be("",!0)}const df=ie(cf,[["render",lf]]),uf={name:"TextEditorFloatingMenu",props:["buttons"],components:{FloatingMenu:Hs},inject:["editor"],computed:{floatingMenuButtons(){if(!this.buttons)return!1;let e;return Array.isArray(this.buttons)?e=this.buttons:e=["Paragraph","Heading 2","Heading 3","Bullet List","Numbered List","Task List","Blockquote","Code","Horizontal Rule"],e.map(An)}}},ff=["onClick","title"],hf={key:1,class:"inline-block h-4 min-w-[1rem] text-sm leading-4"};function pf(e,t,r,i,c,d){const a=We("FloatingMenu");return d.floatingMenuButtons?(j(),_e(a,{key:0,"tippy-options":{duration:100},editor:d.editor,class:"flex"},{default:Se(()=>[(j(!0),X(Ge,null,tt(d.floatingMenuButtons,s=>(j(),X("button",{key:s.label,class:ve(["flex rounded p-1 text-ink-gray-8 transition-colors",s.isActive(d.editor)?"bg-surface-gray-2":"hover:bg-surface-gray-2"]),onClick:()=>s.action(d.editor),title:s.label},[s.icon?(j(),_e(bt(s.icon),{key:0,class:"h-4 w-4"})):(j(),X("span",hf,Te(s.text),1))],10,ff))),128))]),_:1},8,["editor"])):be("",!0)}const gf=ie(uf,[["render",pf]]),mf=li({inheritAttrs:!1,__name:"TextEditor",props:{content:{default:null},placeholder:{type:[String,Function],default:""},editorClass:{default:""},editable:{type:Boolean,default:!0},autofocus:{type:Boolean,default:!1},bubbleMenu:{type:[Boolean,Array],default:!1},bubbleMenuOptions:{default:()=>({})},fixedMenu:{type:[Boolean,Array],default:!1},floatingMenu:{type:[Boolean,Array],default:!1},extensions:{default:()=>[]},starterkitOptions:{default:()=>({})},mentions:{default:null},tags:{default:()=>[]},uploadFunction:{}},emits:["change","focus","blur","transaction"],setup(e,{expose:t,emit:r}){const i=Ul(zc);function c(h){return ui().upload(h)}const d=e,a=r,s=Ue(null),o=zs(),f=Le(()=>ve(o.class)),g=Le(()=>It(o.style)),u=Le(()=>({attributes:{class:ve(["prose prose-table:table-fixed prose-td:p-2 prose-th:p-2 prose-td:border prose-th:border prose-td:border-outline-gray-2 prose-th:border-outline-gray-2 prose-td:relative prose-th:relative prose-th:bg-surface-gray-2",d.editorClass])}}));return De(()=>d.content,h=>{s.value&&s.value.getHTML()!==h&&s.value.commands.setContent(h)}),De(()=>d.editable,h=>{s.value&&s.value.setEditable(h)}),De(u,h=>{s.value&&s.value.setOptions({editorProps:h})},{deep:!0}),tr(()=>{s.value=new Vs({content:d.content||null,editorProps:u.value,editable:d.editable,autofocus:d.autofocus,extensions:[Ks.configure({...d.starterkitOptions,codeBlock:!1,heading:!1}),Gs.configure({...typeof d.starterkitOptions?.heading=="object"&&d.starterkitOptions.heading!==null?d.starterkitOptions.heading:{}}),qs.configure({resizable:!0}),Ws,Ys.configure({nested:!0}),Zs,js,Xs,Qs,Js.configure({types:["heading","paragraph"]}),eo,to,no,ro.extend({addNodeView(){return io(Kl)}}).configure({lowlight:i}),so.configure({uploadFunction:d.uploadFunction||c}),oo.configure({uploadFunction:d.uploadFunction||c}),ao,co.configure({uploadFunction:d.uploadFunction||c}),lo,uo.configure({openOnClick:!1}),fo.configure({placeholder:typeof d.placeholder=="function"?d.placeholder:()=>d.placeholder}),d.mentions&&ho.configure(Array.isArray(d.mentions)?{mentions:d.mentions}:{mentions:d.mentions.mentions,component:d.mentions.component}),po,go,mo,bo.configure({tags:()=>d.tags}),_o.configure({enabled:!0,showConfirmation:!0,uploadFunction:d.uploadFunction||c}),...d.extensions||[]],onUpdate:({editor:h})=>{a("change",h.getHTML())},onTransaction:({editor:h})=>{a("transaction",h)},onFocus:({editor:h,event:m})=>{a("focus",m)},onBlur:({editor:h,event:m})=>{a("blur",m)}})}),yn(()=>{s.value&&(s.value.destroy(),s.value=null)}),di("editor",Le(()=>s.value)),t({editor:s}),(h,m)=>s.value?(j(),X("div",{key:0,class:ve(["relative w-full",f.value]),style:It(g.value)},[fe(df,{buttons:e.bubbleMenu,options:e.bubbleMenuOptions},null,8,["buttons","options"]),fe(cs,{class:"w-full overflow-x-auto rounded-t-lg border border-outline-gray-modals",buttons:e.fixedMenu},null,8,["buttons"]),fe(gf,{buttons:e.floatingMenu},null,8,["buttons"]),xn(h.$slots,"top",{editor:s.value}),xn(h.$slots,"editor",{editor:s.value},()=>[fe(oe(yo),{editor:s.value},null,8,["editor"])]),xn(h.$slots,"bottom",{editor:s.value})],6)):be("",!0)}}),bf=e=>class{constructor(r){this._=r}destroy(){e(this._)}},_f=bf(clearTimeout),gr=(e,t)=>new _f(setTimeout(t,e)),Dn=3e4;class yf extends rr{constructor(t){super(),this.doc=t,this.clientID=t.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{const r=lt();this.getLocalState()!==null&&Dn/2<=r-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());const i=[];this.meta.forEach((c,d)=>{d!==this.clientID&&Dn<=r-c.lastUpdated&&this.states.has(d)&&i.push(d)}),i.length>0&&qn(this,i,"timeout")},yi(Dn/10)),t.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(t){const r=this.clientID,i=this.meta.get(r),c=i===void 0?0:i.clock+1,d=this.states.get(r);t===null?this.states.delete(r):this.states.set(r,t),this.meta.set(r,{clock:c,lastUpdated:lt()});const a=[],s=[],o=[],f=[];t===null?f.push(r):d==null?t!=null&&a.push(r):(s.push(r),vi(d,t)||o.push(r)),(a.length>0||o.length>0||f.length>0)&&this.emit("change",[{added:a,updated:o,removed:f},"local"]),this.emit("update",[{added:a,updated:s,removed:f},"local"])}setLocalStateField(t,r){const i=this.getLocalState();i!==null&&this.setLocalState({...i,[t]:r})}getStates(){return this.states}}const qn=(e,t,r)=>{const i=[];for(let c=0;c<t.length;c++){const d=t[c];if(e.states.has(d)){if(e.states.delete(d),d===e.clientID){const a=e.meta.get(d);e.meta.set(d,{clock:a.clock+1,lastUpdated:lt()})}i.push(d)}}i.length>0&&(e.emit("change",[{added:[],updated:[],removed:i},r]),e.emit("update",[{added:[],updated:[],removed:i},r]))},hn=(e,t,r=e.states)=>{const i=t.length,c=Ce();pe(c,i);for(let d=0;d<i;d++){const a=t[d],s=r.get(a)||null,o=e.meta.get(a).clock;pe(c,a),pe(c,o),wn(c,JSON.stringify(s))}return Ne(c)},vf=(e,t,r)=>{const i=Sn(t),c=lt(),d=[],a=[],s=[],o=[],f=Rt(i);for(let g=0;g<f;g++){const u=Rt(i);let h=Rt(i);const m=JSON.parse(ir(i)),_=e.meta.get(u),w=e.states.get(u),M=_===void 0?0:_.clock;(M<h||M===h&&m===null&&e.states.has(u))&&(m===null?u===e.clientID&&e.getLocalState()!=null?h++:e.states.delete(u):e.states.set(u,m),e.meta.set(u,{clock:h,lastUpdated:c}),_===void 0&&m!==null?d.push(u):_!==void 0&&m===null?o.push(u):m!==null&&(vi(m,w)||s.push(u),a.push(u)))}(d.length>0||s.length>0||o.length>0)&&e.emit("change",[{added:d,updated:s,removed:o},r]),(d.length>0||a.length>0||o.length>0)&&e.emit("update",[{added:d,updated:a,removed:o},r])},ls=()=>{let e=!0;return(t,r)=>{if(e){e=!1;try{t()}finally{e=!0}}else r!==void 0&&r()}},Ef=/[\uD800-\uDBFF]/,wf=/[\uDC00-\uDFFF]/,Sf=(e,t)=>{let r=0,i=0;for(;r<e.length&&r<t.length&&e[r]===t[r];)r++;for(r>0&&Ef.test(e[r-1])&&r--;i+r<e.length&&i+r<t.length&&e[e.length-i-1]===t[t.length-i-1];)i++;return i>0&&wf.test(e[e.length-i])&&i--,{index:r,remove:e.length-r-i,insert:t.slice(r,t.length-i)}},Cf=Sf,ze=(e,t)=>e>>>t|e<<32-t,Tf=e=>ze(e,2)^ze(e,13)^ze(e,22),Af=e=>ze(e,6)^ze(e,11)^ze(e,25),Nf=e=>ze(e,7)^ze(e,18)^e>>>3,xf=e=>ze(e,17)^ze(e,19)^e>>>10,Rf=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),kf=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);class Mf{constructor(){const t=new ArrayBuffer(320);this._H=new Uint32Array(t,0,8),this._H.set(kf),this._W=new Uint32Array(t,64,64)}_updateHash(){const t=this._H,r=this._W;for(let u=16;u<64;u++)r[u]=xf(r[u-2])+r[u-7]+Nf(r[u-15])+r[u-16];let i=t[0],c=t[1],d=t[2],a=t[3],s=t[4],o=t[5],f=t[6],g=t[7];for(let u=0,h,m;u<64;u++)h=g+Af(s)+(s&o^~s&f)+Rf[u]+r[u]>>>0,m=Tf(i)+(i&c^i&d^c&d)>>>0,g=f,f=o,o=s,s=a+h>>>0,a=d,d=c,c=i,i=h+m>>>0;t[0]+=i,t[1]+=c,t[2]+=d,t[3]+=a,t[4]+=s,t[5]+=o,t[6]+=f,t[7]+=g}digest(t){let r=0;for(;r+56<=t.length;){let a=0;for(;a<16&&r+3<t.length;a++)this._W[a]=t[r++]<<24|t[r++]<<16|t[r++]<<8|t[r++];if(r%64!==0){for(this._W.fill(0,a,16);r<t.length;)this._W[a]|=t[r]<<(3-r%4)*8,r++;this._W[a]|=Mr<<(3-r%4)*8}this._updateHash()}const i=r%64!==0;this._W.fill(0,0,16);let c=0;for(;r<t.length;c++)for(let a=3;a>=0&&r<t.length;a--)this._W[c]|=t[r++]<<a*8;i||(this._W[c-(r%4===0?0:1)]|=Mr<<(3-r%4)*8),this._W[14]=t.byteLength/Uo,this._W[15]=t.byteLength*8,this._updateHash();const d=new Uint8Array(32);for(let a=0;a<this._H.length;a++)for(let s=0;s<4;s++)d[a*4+s]=this._H[a]>>>(3-s)*8;return d}}const Of=e=>new Mf().digest(e),If=e=>{for(let r=6;r<e.length;r++)e[r%6]=e[r%6]^e[r];return e.slice(0,6)},Lf=e=>sr(If(Of(Fo(e)))),pn=(e,t)=>t===void 0?!e.deleted:t.sv.has(e.id.client)&&t.sv.get(e.id.client)>e.id.clock&&!Vo(t.ds,e.id),Df=[{light:"#ecd44433",dark:"#ecd444"}],Bf=(e,t,r)=>{if(!e.has(r)){if(e.size<t.length){const i=Ni();e.forEach(c=>i.add(c)),t=t.filter(c=>!i.has(c))}e.set(r,Xo(t))}return e.get(r)},Pf=(e,{colors:t=Df,colorMapping:r=new Map,permanentUserData:i=null,onFirstRender:c=()=>{},mapping:d}={})=>{let a=!1;const s=new Ff(e,d),o=new nt({props:{editable:f=>{const g=ue.getState(f);return g.snapshot==null&&g.prevSnapshot==null}},key:ue,state:{init:(f,g)=>({type:e,doc:e.doc,binding:s,snapshot:null,prevSnapshot:null,isChangeOrigin:!1,isUndoRedoOperation:!1,addToHistory:!0,colors:t,colorMapping:r,permanentUserData:i}),apply:(f,g)=>{const u=f.getMeta(ue);if(u!==void 0){g=Object.assign({},g);for(const h in u)g[h]=u[h]}return g.addToHistory=f.getMeta("addToHistory")!==!1,g.isChangeOrigin=u!==void 0&&!!u.isChangeOrigin,g.isUndoRedoOperation=u!==void 0&&!!u.isChangeOrigin&&!!u.isUndoRedoOperation,s.prosemirrorView!==null&&u!==void 0&&(u.snapshot!=null||u.prevSnapshot!=null)&&gr(0,()=>{s.prosemirrorView!=null&&(u.restore==null?s._renderSnapshot(u.snapshot,u.prevSnapshot,g):(s._renderSnapshot(u.snapshot,u.snapshot,g),delete g.restore,delete g.snapshot,delete g.prevSnapshot,s.mux(()=>{s._prosemirrorChanged(s.prosemirrorView.state.doc)})))}),g}},view:f=>(s.initView(f),d==null&&s._forceRerender(),c(),{update:()=>{const g=o.getState(f.state);if(g.snapshot==null&&g.prevSnapshot==null&&(a||f.state.doc.content.findDiffStart(f.state.doc.type.createAndFill().content)!==null)){if(a=!0,g.addToHistory===!1&&!g.isChangeOrigin){const u=qe.getState(f.state),h=u&&u.undoManager;h&&h.stopCapturing()}s.mux(()=>{g.doc.transact(u=>{u.meta.set("addToHistory",g.addToHistory),s._prosemirrorChanged(f.state.doc)},ue)})}},destroy:()=>{s.destroy()}})});return o},Uf=(e,t,r)=>{if(t!==null&&t.anchor!==null&&t.head!==null)if(t.type==="all")e.setSelection(new vo(e.doc));else if(t.type==="node"){const i=vt(r.doc,r.type,t.anchor,r.mapping);e.setSelection(Eo.create(e.doc,i))}else{const i=vt(r.doc,r.type,t.anchor,r.mapping),c=vt(r.doc,r.type,t.head,r.mapping);if(i!==null&&c!==null){const d=nr.between(e.doc.resolve(i),e.doc.resolve(c));e.setSelection(d)}}},Wn=(e,t)=>({type:t.selection.jsonID,anchor:mn(t.selection.anchor,e.type,e.mapping),head:mn(t.selection.head,e.type,e.mapping)});class Ff{constructor(t,r=new Map){this.type=t,this.prosemirrorView=null,this.mux=ls(),this.mapping=r,this.isOMark=new Map,this._observeFunction=this._typeChanged.bind(this),this.doc=t.doc,this.beforeTransactionSelection=null,this.beforeAllTransactions=()=>{this.beforeTransactionSelection===null&&this.prosemirrorView!=null&&(this.beforeTransactionSelection=Wn(this,this.prosemirrorView.state))},this.afterAllTransactions=()=>{this.beforeTransactionSelection=null},this._domSelectionInView=null}get _tr(){return this.prosemirrorView.state.tr.setMeta("addToHistory",!1)}_isLocalCursorInView(){return this.prosemirrorView.hasFocus()?($o&&this._domSelectionInView===null&&(gr(0,()=>{this._domSelectionInView=null}),this._domSelectionInView=this._isDomSelectionInView()),this._domSelectionInView):!1}_isDomSelectionInView(){const t=this.prosemirrorView._root.getSelection();if(t==null||t.anchorNode==null)return!1;const r=this.prosemirrorView._root.createRange();r.setStart(t.anchorNode,t.anchorOffset),r.setEnd(t.focusNode,t.focusOffset),r.getClientRects().length===0&&r.startContainer&&r.collapsed&&r.selectNodeContents(r.startContainer);const c=r.getBoundingClientRect(),d=Ko.documentElement;return c.bottom>=0&&c.right>=0&&c.left<=(window.innerWidth||d.clientWidth||0)&&c.top<=(window.innerHeight||d.clientHeight||0)}renderSnapshot(t,r){r||(r=Go(qo(),new Map)),this.prosemirrorView.dispatch(this._tr.setMeta(ue,{snapshot:t,prevSnapshot:r}))}unrenderSnapshot(){this.mapping.clear(),this.mux(()=>{const t=this.type.toArray().map(i=>an(i,this.prosemirrorView.state.schema,this)).filter(i=>i!==null),r=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new zt(Vt.from(t),0,0));r.setMeta(ue,{snapshot:null,prevSnapshot:null}),this.prosemirrorView.dispatch(r)})}_forceRerender(){this.mapping.clear(),this.mux(()=>{const t=this.beforeTransactionSelection!==null?null:this.prosemirrorView.state.selection,r=this.type.toArray().map(c=>an(c,this.prosemirrorView.state.schema,this)).filter(c=>c!==null),i=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new zt(Vt.from(r),0,0));if(t){const c=et(ln(t.anchor,0),i.doc.content.size),d=et(ln(t.head,0),i.doc.content.size);i.setSelection(nr.create(i.doc,c,d))}this.prosemirrorView.dispatch(i.setMeta(ue,{isChangeOrigin:!0,binding:this}))})}_renderSnapshot(t,r,i){let c=this.doc,d=this.type;if(t||(t=kt(this.doc)),t instanceof Uint8Array||r instanceof Uint8Array)if((!(t instanceof Uint8Array)||!(r instanceof Uint8Array))&&or(),c=new Ei({gc:!1}),Or(c,r),r=kt(c),Or(c,t),t=kt(c),d._item===null){const a=Array.from(this.doc.share.keys()).find(s=>this.doc.share.get(s)===this.type);d=c.getXmlFragment(a)}else{const a=c.store.clients.get(d._item.id.client)??[],s=Ho(a,d._item.id.clock);d=a[s].content.type}this.mapping.clear(),this.mux(()=>{c.transact(a=>{const s=i.permanentUserData;s&&s.dss.forEach(u=>{Ir(a,u,h=>{})});const o=(u,h)=>{const m=u==="added"?s.getUserByClientId(h.client):s.getUserByDeletedId(h);return{user:m,type:u,color:Bf(i.colorMapping,i.colors,m)}},f=wi(d,new Si(r.ds,t.sv)).map(u=>!u._item.deleted||pn(u._item,t)||pn(u._item,r)?an(u,this.prosemirrorView.state.schema,{mapping:new Map,isOMark:new Map},t,r,o):null).filter(u=>u!==null),g=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new zt(Vt.from(f),0,0));this.prosemirrorView.dispatch(g.setMeta(ue,{isChangeOrigin:!0}))},ue)})}_typeChanged(t,r){if(this.prosemirrorView==null)return;const i=ue.getState(this.prosemirrorView.state);if(t.length===0||i.snapshot!=null||i.prevSnapshot!=null){this.renderSnapshot(i.snapshot,i.prevSnapshot);return}this.mux(()=>{const c=(s,o)=>this.mapping.delete(o);Ir(r,r.deleteSet,s=>{if(s.constructor===Ai){const o=s.content.type;o&&this.mapping.delete(o)}}),r.changed.forEach(c),r.changedParentTypes.forEach(c);const d=this.type.toArray().map(s=>ds(s,this.prosemirrorView.state.schema,this)).filter(s=>s!==null);let a=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new zt(Vt.from(d),0,0));Uf(a,this.beforeTransactionSelection,this),a=a.setMeta(ue,{isChangeOrigin:!0,isUndoRedoOperation:r.origin instanceof Ci}),this.beforeTransactionSelection!==null&&this._isLocalCursorInView()&&a.scrollIntoView(),this.prosemirrorView.dispatch(a)})}_prosemirrorChanged(t){this.doc.transact(()=>{Zn(this.doc,this.type,t,this),this.beforeTransactionSelection=Wn(this,this.prosemirrorView.state)},ue)}initView(t){this.prosemirrorView!=null&&this.destroy(),this.prosemirrorView=t,this.doc.on("beforeAllTransactions",this.beforeAllTransactions),this.doc.on("afterAllTransactions",this.afterAllTransactions),this.type.observeDeep(this._observeFunction)}destroy(){this.prosemirrorView!=null&&(this.prosemirrorView=null,this.type.unobserveDeep(this._observeFunction),this.doc.off("beforeAllTransactions",this.beforeAllTransactions),this.doc.off("afterAllTransactions",this.afterAllTransactions))}}const ds=(e,t,r,i,c,d)=>{const a=r.mapping.get(e);if(a===void 0){if(e instanceof Fe)return an(e,t,r,i,c,d);throw zo()}return a},an=(e,t,r,i,c,d)=>{const a=[],s=o=>{if(o instanceof Fe){const f=ds(o,t,r,i,c,d);f!==null&&a.push(f)}else{const f=o._item.right?.content?.type;f instanceof Ti&&!f._item.deleted&&f._item.id.client===f.doc.clientID&&(o.applyDelta([{retain:o.length},...f.toDelta()]),f.doc.transact(u=>{f._item.delete(u)}));const g=$f(o,t,r,i,c,d);g!==null&&g.forEach(u=>{u!==null&&a.push(u)})}};i===void 0||c===void 0?e.toArray().forEach(s):wi(e,new Si(c.ds,i.sv)).forEach(s);try{const o=e.getAttributes(i);i!==void 0&&(pn(e._item,i)?pn(e._item,c)||(o.ychange=d?d("added",e._item.id):{type:"added"}):o.ychange=d?d("removed",e._item.id):{type:"removed"});const f=t.node(e.nodeName,o,a);return r.mapping.set(e,f),f}catch{return e.doc.transact(f=>{e._item.delete(f)},ue),r.mapping.delete(e),null}},$f=(e,t,r,i,c,d)=>{const a=[],s=e.toDelta(i,c,d);try{for(let o=0;o<s.length;o++){const f=s[o];a.push(t.text(f.insert,qf(f.attributes,t)))}}catch{return e.doc.transact(f=>{e._item.delete(f)},ue),null}return a},Hf=(e,t)=>{const r=new He,i=e.map(c=>({insert:c.text,attributes:fs(c.marks,t)}));return r.applyDelta(i),t.mapping.set(r,e),r},zf=(e,t)=>{const r=new Fe(e.type.name);for(const i in e.attrs){const c=e.attrs[i];c!==null&&i!=="ychange"&&r.setAttribute(i,c)}return r.insert(0,Nn(e).map(i=>Yn(i,t))),t.mapping.set(r,e),r},Yn=(e,t)=>e instanceof Array?Hf(e,t):zf(e,t),jr=e=>typeof e=="object"&&e!==null,mr=(e,t)=>{const r=Object.keys(e).filter(c=>e[c]!==null);let i=r.length===(t==null?0:Object.keys(t).filter(c=>t[c]!==null).length);for(let c=0;c<r.length&&i;c++){const d=r[c],a=e[d],s=t[d];i=d==="ychange"||a===s||jr(a)&&jr(s)&&mr(a,s)}return i},Nn=e=>{const t=e.content.content,r=[];for(let i=0;i<t.length;i++){const c=t[i];if(c.isText){const d=[];for(let a=t[i];i<t.length&&a.isText;a=t[++i])d.push(a);i--,r.push(d)}else r.push(c)}return r},us=(e,t)=>{const r=e.toDelta();return r.length===t.length&&r.every((i,c)=>i.insert===t[c].text&&Wo(i.attributes||{}).length===t[c].marks.length&&Yo(i.attributes,(d,a)=>{const s=br(a),o=t[c].marks;return mr(d,o.find(f=>f.type.name===s)?.attrs)}))},Ft=(e,t)=>{if(e instanceof Fe&&!(t instanceof Array)&&jn(e,t)){const r=Nn(t);return e._length===r.length&&mr(e.getAttributes(),t.attrs)&&e.toArray().every((i,c)=>Ft(i,r[c]))}return e instanceof He&&t instanceof Array&&us(e,t)},gn=(e,t)=>e===t||e instanceof Array&&t instanceof Array&&e.length===t.length&&e.every((r,i)=>t[i]===r),Xr=(e,t,r)=>{const i=e.toArray(),c=Nn(t),d=c.length,a=i.length,s=et(a,d);let o=0,f=0,g=!1;for(;o<s;o++){const u=i[o],h=c[o];if(gn(r.mapping.get(u),h))g=!0;else if(!Ft(u,h))break}for(;o+f<s;f++){const u=i[a-f-1],h=c[d-f-1];if(gn(r.mapping.get(u),h))g=!0;else if(!Ft(u,h))break}return{equalityFactor:o+f,foundMappedChild:g}},Vf=e=>{let t="",r=e._start;const i={};for(;r!==null;)r.deleted||(r.countable&&r.content instanceof Zo?t+=r.content.str:r.content instanceof jo&&(i[r.content.key]=null)),r=r.right;return{str:t,nAttrs:i}},Kf=(e,t,r)=>{r.mapping.set(e,t);const{nAttrs:i,str:c}=Vf(e),d=t.map(f=>({insert:f.text,attributes:Object.assign({},i,fs(f.marks,r))})),{insert:a,remove:s,index:o}=Cf(c,d.map(f=>f.insert).join(""));e.delete(o,s),e.insert(o,a),e.applyDelta(d.map(f=>({retain:f.insert.length,attributes:f.attributes})))},Gf=/(.*)(--[a-zA-Z0-9+/=]{8})$/,br=e=>Gf.exec(e)?.[1]??e,qf=(e,t)=>{const r=[];for(const i in e)r.push(t.mark(br(i),e[i]));return r},fs=(e,t)=>{const r={};return e.forEach(i=>{if(i.type.name!=="ychange"){const c=wt(t.isOMark,i.type,()=>!i.type.excludes(i.type));r[c?`${i.type.name}--${Lf(i.toJSON())}`:i.type.name]=i.attrs}}),r},Zn=(e,t,r,i)=>{if(t instanceof Fe&&t.nodeName!==r.type.name)throw new Error("node name mismatch!");if(i.mapping.set(t,r),t instanceof Fe){const u=t.getAttributes(),h=r.attrs;for(const m in h)h[m]!==null?u[m]!==h[m]&&m!=="ychange"&&t.setAttribute(m,h[m]):t.removeAttribute(m);for(const m in u)h[m]===void 0&&t.removeAttribute(m)}const c=Nn(r),d=c.length,a=t.toArray(),s=a.length,o=et(d,s);let f=0,g=0;for(;f<o;f++){const u=a[f],h=c[f];if(!gn(i.mapping.get(u),h))if(Ft(u,h))i.mapping.set(u,h);else break}for(;g+f<o;g++){const u=a[s-g-1],h=c[d-g-1];if(!gn(i.mapping.get(u),h))if(Ft(u,h))i.mapping.set(u,h);else break}e.transact(()=>{for(;s-f-g>0&&d-f-g>0;){const h=a[f],m=c[f],_=a[s-g-1],w=c[d-g-1];if(h instanceof He&&m instanceof Array)us(h,m)||Kf(h,m,i),f+=1;else{let M=h instanceof Fe&&jn(h,m),R=_ instanceof Fe&&jn(_,w);if(M&&R){const B=Xr(h,m,i),b=Xr(_,w,i);B.foundMappedChild&&!b.foundMappedChild?R=!1:!B.foundMappedChild&&b.foundMappedChild||B.equalityFactor<b.equalityFactor?M=!1:R=!1}M?(Zn(e,h,m,i),f+=1):R?(Zn(e,_,w,i),g+=1):(i.mapping.delete(t.get(f)),t.delete(f,1),t.insert(f,[Yn(m,i)]),f+=1)}}const u=s-f-g;if(s===1&&d===0&&a[0]instanceof He?(i.mapping.delete(a[0]),a[0].delete(0,a[0].length)):u>0&&(t.slice(f,f+u).forEach(h=>i.mapping.delete(h)),t.delete(f,u)),f+g<d){const h=[];for(let m=f;m<d-g;m++)h.push(Yn(c[m],i));t.insert(f,h)}},ue)},jn=(e,t)=>!(t instanceof Array)&&e.nodeName===t.type.name;let Ot=null;const Wf=()=>{const e=Ot;Ot=null,e.forEach((t,r)=>{const i=r.state.tr,c=ue.getState(r.state);c&&c.binding&&!c.binding.isDestroyed&&(t.forEach((d,a)=>{i.setMeta(a,d)}),r.dispatch(i))})},Yf=(e,t,r)=>{Ot||(Ot=new Map,gr(0,Wf)),wt(Ot,e,ta).set(t,r)},mn=(e,t,r)=>{if(e===0)return kn(t,0,t.length===0?-1:0);let i=t._first===null?null:t._first.content.type;for(;i!==null&&t!==i;){if(i instanceof He){if(i._length>=e)return kn(i,e,t.length===0?-1:0);if(e-=i._length,i._item!==null&&i._item.next!==null)i=i._item.next.content.type;else{do i=i._item===null?null:i._item.parent,e--;while(i!==t&&i!==null&&i._item!==null&&i._item.next===null);i!==null&&i!==t&&(i=i._item===null?null:i._item.next.content.type)}}else{const c=(r.get(i)||{nodeSize:0}).nodeSize;if(i._first!==null&&e<c)i=i._first.content.type,e--;else{if(e===1&&i._length===0&&c>1)return new Kn(i._item===null?null:i._item.id,i._item===null?Gn(i):null,null);if(e-=c,i._item!==null&&i._item.next!==null)i=i._item.next.content.type;else{if(e===0)return i=i._item===null?i:i._item.parent,new Kn(i._item===null?null:i._item.id,i._item===null?Gn(i):null,null);do i=i._item.parent,e--;while(i!==t&&i._item.next===null);i!==t&&(i=i._item.next.content.type)}}}if(i===null)throw or();if(e===0&&i.constructor!==He&&i!==t)return Zf(i._item.parent,i._item)}return kn(t,t._length,t.length===0?-1:0)},Zf=(e,t)=>{let r=null,i=null;return e._item===null?i=Gn(e):r=Qo(e._item.id.client,e._item.id.clock),new Kn(r,i,t.id)},vt=(e,t,r,i)=>{const c=Jo(r,e);if(c===null||c.type!==t&&!ea(t,c.type._item))return null;let d=c.type,a=0;if(d.constructor===He)a=c.index;else if(d._item===null||!d._item.deleted){let s=d._first,o=0;for(;o<d._length&&o<c.index&&s!==null;){if(!s.deleted){const f=s.content.type;o++,f instanceof He?a+=f._length:a+=i.get(f).nodeSize}s=s.right}a+=1}for(;d!==t&&d._item!==null;){const s=d._item.parent;if(s._item===null||!s._item.deleted){a+=1;let o=s._first;for(;o!==null;){const f=o.content.type;if(f===d)break;o.deleted||(f instanceof He?a+=f._length:a+=i.get(f).nodeSize),o=o.right}}d=s}return a-1};function jf(e){const t=e.toArray(),r=i=>{let c;if(i instanceof He)c=i.toDelta().map(a=>{const s={type:"text",text:a.insert};return a.attributes&&(s.marks=Object.keys(a.attributes).map(o=>{const f=a.attributes[o],u={type:br(o)};return Object.keys(f)&&(u.attrs=f),u})),s});else if(i instanceof Fe){c={type:i.nodeName};const d=i.getAttributes();Object.keys(d).length&&(c.attrs=d);const a=i.toArray();a.length&&(c.content=a.map(r).flat())}else or();return c};return{type:"doc",content:t.map(r)}}const Xf=(e,t,r)=>e!==t,Qf=e=>{const t=document.createElement("span");t.classList.add("ProseMirror-yjs-cursor"),t.setAttribute("style",`border-color: ${e.color}`);const r=document.createElement("div");r.setAttribute("style",`background-color: ${e.color}`),r.insertBefore(document.createTextNode(e.name),null);const i=document.createTextNode("⁠"),c=document.createTextNode("⁠");return t.insertBefore(i,null),t.insertBefore(r,null),t.insertBefore(c,null),t},hs=e=>({style:`background-color: ${e.color}70`,class:"ProseMirror-yjs-selection"}),Jf=/^#[0-9a-fA-F]{6}$/,Qr=(e,t,r,i,c)=>{const d=ue.getState(e),a=d.doc,s=[];return d.snapshot!=null||d.prevSnapshot!=null||d.binding.mapping.size===0?Sr.create(e.doc,[]):(t.getStates().forEach((o,f)=>{if(r(a.clientID,f,o)&&o.cursor!=null){const g=o.user||{};g.color==null?g.color="#ffa500":Jf.test(g.color)||console.warn("A user uses an unsupported color format",g),g.name==null&&(g.name=`User: ${f}`);let u=vt(a,d.type,Mt(o.cursor.anchor),d.binding.mapping),h=vt(a,d.type,Mt(o.cursor.head),d.binding.mapping);if(u!==null&&h!==null){const m=ln(e.doc.content.size-1,0);u=et(u,m),h=et(h,m),s.push(Cr.widget(h,()=>i(g,f),{key:f+"",side:10}));const _=et(u,h),w=ln(u,h);s.push(Cr.inline(_,w,c(g,f),{inclusiveEnd:!0,inclusiveStart:!1}))}}}),Sr.create(e.doc,s))},eh=(e,{awarenessStateFilter:t=Xf,cursorBuilder:r=Qf,selectionBuilder:i=hs,getSelection:c=a=>a.selection}={},d="cursor")=>new nt({key:Wt,state:{init(a,s){return Qr(s,e,t,r,i)},apply(a,s,o,f){const g=ue.getState(f),u=a.getMeta(Wt);return g&&g.isChangeOrigin||u&&u.awarenessUpdated?Qr(f,e,t,r,i):s.map(a.mapping,a.doc)}},props:{decorations:a=>Wt.getState(a)},view:a=>{const s=()=>{a.docView&&Yf(a,Wt,{awarenessUpdated:!0})},o=()=>{const f=ue.getState(a.state),g=e.getLocalState()||{};if(a.hasFocus()){const u=c(a.state),h=mn(u.anchor,f.type,f.binding.mapping),m=mn(u.head,f.type,f.binding.mapping);(g.cursor==null||!Lr(Mt(g.cursor.anchor),h)||!Lr(Mt(g.cursor.head),m))&&e.setLocalStateField(d,{anchor:h,head:m})}else g.cursor!=null&&vt(f.doc,f.type,Mt(g.cursor.anchor),f.binding.mapping)!==null&&e.setLocalStateField(d,null)};return e.on("change",s),a.dom.addEventListener("focusin",o),a.dom.addEventListener("focusout",o),{update:o,destroy:()=>{a.dom.removeEventListener("focusin",o),a.dom.removeEventListener("focusout",o),e.off("change",s),e.setLocalStateField(d,null)}}}}),th=e=>qe.getState(e)?.undoManager?.undo()!=null,nh=e=>qe.getState(e)?.undoManager?.redo()!=null,rh=new Set(["paragraph"]),ih=(e,t)=>!(e instanceof Ai)||!(e.content instanceof na)||!(e.content.type instanceof Ti||e.content.type instanceof Fe&&t.has(e.content.type.nodeName))||e.content.type._length===0,sh=({protectedNodes:e=rh,trackedOrigins:t=[],undoManager:r=null}={})=>new nt({key:qe,state:{init:(i,c)=>{const d=ue.getState(c),a=r||new Ci(d.type,{trackedOrigins:new Set([ue].concat(t)),deleteFilter:s=>ih(s,e),captureTransaction:s=>s.meta.get("addToHistory")!==!1});return{undoManager:a,prevSel:null,hasUndoOps:a.undoStack.length>0,hasRedoOps:a.redoStack.length>0}},apply:(i,c,d,a)=>{const s=ue.getState(a).binding,o=c.undoManager,f=o.undoStack.length>0,g=o.redoStack.length>0;return s?{undoManager:o,prevSel:Wn(s,d),hasUndoOps:f,hasRedoOps:g}:f!==c.hasUndoOps||g!==c.hasRedoOps?Object.assign({},c,{hasUndoOps:o.undoStack.length>0,hasRedoOps:o.redoStack.length>0}):c}},view:i=>{const c=ue.getState(i.state),d=qe.getState(i.state).undoManager;return d.on("stack-item-added",({stackItem:a})=>{const s=c.binding;s&&a.meta.set(s,qe.getState(i.state).prevSel)}),d.on("stack-item-popped",({stackItem:a})=>{const s=c.binding;s&&(s.beforeTransactionSelection=a.meta.get(s)||s.beforeTransactionSelection)}),{destroy:()=>{d.destroy()}}}}),oh={class:"lucide lucide-table-of-contents",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function ah(e,t){return j(),X("svg",oh,[...t[0]||(t[0]=[ci('<path d="M16 12H3"></path><path d="M16 18H3"></path><path d="M16 6H3"></path><path d="M21 12h.01"></path><path d="M21 18h.01"></path><path d="M21 6h.01"></path>',6)])])}const ch=Ht({name:"lucide-table-of-contents",render:ah});const lh={class:"hidden md:flex right-3 absolute max-h-96 pt-1"},dh={class:"p-2 table-of-contents bg-white shadow-lg rounded-sm"},uh=["href","title","data-item-index","onClick"],fh={__name:"ToC",props:{editor:Object,anchors:{type:Array,default:()=>[]}},setup(e){const t=e,r=Ue(JSON.parse(localStorage.getItem("showToc")||!1));De(r,d=>localStorage.setItem("showToc",d));const i=Le(()=>Math.min(...t.anchors.map(d=>d.level))-1),c=d=>{if(!t.editor)return;const a=t.editor.view,s=a.state.tr,o=a.dom.querySelector(`[data-toc-id="${d}"`),f=a.posAtDOM(o,0);s.setSelection(new nr(s.doc.resolve(f))),t.editor.view.dispatch(s),t.editor.view.focus(),history.pushState&&history.pushState(null,null,`#${d}`),document.querySelector("#editorScrollContainer").scrollTo({top:o.offsetTop-10,behavior:"smooth"})};return(d,a)=>{const s=We("Button");return j(),X("div",lh,[Qe(G("div",dh,[(j(!0),X(Ge,null,tt(e.anchors,o=>(j(),X("div",{key:o.id,class:ve(["hover:bg-surface-gray-2 cursor-pointer max-w-52 truncate",{"is-active":o.isActive&&!o.isScrolledOver,"text-ink-gray-5":o.isScrolledOver,"text-ink-gray-8":!o.isScrolledOver}]),style:It({"--level":o.level-i.value})},[G("a",{href:"#"+o.id,class:"text-sm px-0.5",title:o.textContent,"data-item-index":o.itemIndex,onClick:wo(f=>c(o.id),["prevent"])},Te(o.textContent),9,uh)],6))),128))],512),[[yt,r.value]]),fe(s,{variant:"ghost",tooltip:r.value?"Hide":"Table of Contents",class:"!w-5.5 !h-5.5 mr-1.5 ml-1",onClick:a[0]||(a[0]=o=>r.value=!r.value)},{icon:Se(()=>[(j(),_e(bt(r.value?oe(So):oe(ch)),{class:"size-4"}))]),_:1},8,["tooltip"])])}}},hh=ie(fh,[["__scopeId","data-v-05dd6c46"]]);let tn;const ph=new Uint8Array(16);function gh(){if(!tn&&(tn=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!tn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return tn(ph)}const ge=[];for(let e=0;e<256;++e)ge.push((e+256).toString(16).slice(1));function mh(e,t=0){return ge[e[t+0]]+ge[e[t+1]]+ge[e[t+2]]+ge[e[t+3]]+"-"+ge[e[t+4]]+ge[e[t+5]]+"-"+ge[e[t+6]]+ge[e[t+7]]+"-"+ge[e[t+8]]+ge[e[t+9]]+"-"+ge[e[t+10]]+ge[e[t+11]]+ge[e[t+12]]+ge[e[t+13]]+ge[e[t+14]]+ge[e[t+15]]}const bh=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Jr={randomUUID:bh};function ps(e,t,r){if(Jr.randomUUID&&!t&&!e)return Jr.randomUUID();e=e||{};const i=e.random||(e.rng||gh)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){r=r||0;for(let c=0;c<16;++c)t[r+c]=i[c];return t}return mh(i)}const _h=li({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(e){const t=Ue(),r=To();return Co(()=>{const i=e.editor;i&&i.options.element&&t.value&&rn(()=>{if(!t.value||!i.options.element.firstChild)return;const c=oe(t.value);t.value.append(...i.options.element.childNodes),i.contentComponent=r.ctx._,r&&(i.appContext={...r.appContext,provides:r.provides}),i.setOptions({element:c}),i.createNodeViews()})}),yn(()=>{const i=e.editor;i&&(i.contentComponent=null,i.appContext=null)}),{rootEl:t}},render(){return vn("div",{ref:e=>{this.rootEl=e}})}});class yh{constructor(t,{props:r={},editor:i}){this.editor=i,this.component=Ht(t),this.el=document.createElement("div"),this.props=sn(r),this.renderedComponent=this.renderComponent()}get element(){return this.renderedComponent.el}get ref(){var t,r,i,c;return!((r=(t=this.renderedComponent.vNode)===null||t===void 0?void 0:t.component)===null||r===void 0)&&r.exposed?this.renderedComponent.vNode.component.exposed:(c=(i=this.renderedComponent.vNode)===null||i===void 0?void 0:i.component)===null||c===void 0?void 0:c.proxy}renderComponent(){let t=vn(this.component,this.props);return this.editor.appContext&&(t.appContext=this.editor.appContext),typeof document<"u"&&this.el&&Tr(t,this.el),{vNode:t,destroy:()=>{this.el&&Tr(null,this.el),this.el=null,t=null},el:this.el?this.el.firstElementChild:null}}updateProps(t={}){Object.entries(t).forEach(([r,i])=>{this.props[r]=i}),this.renderComponent()}destroy(){this.renderedComponent.destroy()}}const ut=e=>Cn((t,r)=>{e.onerror=i=>r(new Error(i.target.error)),e.onsuccess=i=>t(i.target.result)}),vh=(e,t)=>Cn((r,i)=>{const c=indexedDB.open(e);c.onupgradeneeded=d=>t(d.target.result),c.onerror=d=>i(ar(d.target.error)),c.onsuccess=d=>{const a=d.target.result;a.onversionchange=()=>{a.close()},r(a)}}),Eh=e=>ut(indexedDB.deleteDatabase(e)),wh=(e,t)=>t.forEach(r=>e.createObjectStore.apply(e,r)),xt=(e,t,r="readwrite")=>{const i=e.transaction(t,r);return t.map(c=>kh(i,c))},gs=(e,t)=>ut(e.count(t)),Sh=(e,t)=>ut(e.get(t)),ms=(e,t)=>ut(e.delete(t)),Ch=(e,t,r)=>ut(e.put(t,r)),Xn=(e,t)=>ut(e.add(t)),Th=(e,t,r)=>ut(e.getAll(t,r)),Ah=(e,t,r)=>{let i=null;return Rh(e,t,c=>(i=c,!1),r).then(()=>i)},Nh=(e,t=null)=>Ah(e,t,"prev"),xh=(e,t)=>Cn((r,i)=>{e.onerror=i,e.onsuccess=async c=>{const d=c.target.result;if(d===null||await t(d)===!1)return r();d.continue()}}),Rh=(e,t,r,i="next")=>xh(e.openKeyCursor(t,i),c=>r(c.key)),kh=(e,t)=>e.objectStore(t),Mh=(e,t)=>IDBKeyRange.upperBound(e,t),Oh=(e,t)=>IDBKeyRange.lowerBound(e,t),Bn="custom",bs="updates",_s=500,ys=(e,t=()=>{},r=()=>{})=>{const[i]=xt(e.db,[bs]);return Th(i,Oh(e._dbref,!1)).then(c=>{e._destroyed||(t(i),ra(e.doc,()=>{c.forEach(d=>cr(e.doc,d))},e,!1),r(i))}).then(()=>Nh(i).then(c=>{e._dbref=c+1})).then(()=>gs(i).then(c=>{e._dbsize=c})).then(()=>i)},Ih=(e,t=!0)=>ys(e).then(r=>{(t||e._dbsize>=_s)&&Xn(r,Lt(e.doc)).then(()=>ms(r,Mh(e._dbref,!0))).then(()=>gs(r).then(i=>{e._dbsize=i}))});class Lh extends rr{constructor(t,r){super(),this.doc=r,this.name=t,this._dbref=0,this._dbsize=0,this._destroyed=!1,this.db=null,this.synced=!1,this._db=vh(t,i=>wh(i,[["updates",{autoIncrement:!0}],["custom"]])),this.whenSynced=Cn(i=>this.on("synced",()=>i(this))),this._db.then(i=>{this.db=i,ys(this,a=>Xn(a,Lt(r)),()=>{if(this._destroyed)return this;this.synced=!0,this.emit("synced",[this])})}),this._storeTimeout=1e3,this._storeTimeoutId=null,this._storeUpdate=(i,c)=>{if(this.db&&c!==this){const[d]=xt(this.db,[bs]);Xn(d,i),++this._dbsize>=_s&&(this._storeTimeoutId!==null&&clearTimeout(this._storeTimeoutId),this._storeTimeoutId=setTimeout(()=>{Ih(this,!1),this._storeTimeoutId=null},this._storeTimeout))}},r.on("update",this._storeUpdate),this.destroy=this.destroy.bind(this),r.on("destroy",this.destroy)}destroy(){return this._storeTimeoutId&&clearTimeout(this._storeTimeoutId),this.doc.off("update",this._storeUpdate),this.doc.off("destroy",this.destroy),this._destroyed=!0,this._db.then(t=>{t.close()})}clearData(){return this.destroy().then(()=>{Eh(this.name)})}get(t){return this._db.then(r=>{const[i]=xt(r,[Bn],"readonly");return Sh(i,t)})}set(t,r){return this._db.then(i=>{const[c]=xt(i,[Bn]);return Ch(c,r,t)})}del(t){return this._db.then(r=>{const[i]=xt(r,[Bn]);return ms(i,t)})}}const Dh=1200,Bh=2500,bn=3e4,Qn=e=>{if(e.shouldConnect&&e.ws===null){const t=new WebSocket(e.url),r=e.binaryType;let i=null;r&&(t.binaryType=r),e.ws=t,e.connecting=!0,e.connected=!1,t.onmessage=a=>{e.lastMessageReceived=lt();const s=a.data,o=typeof s=="string"?JSON.parse(s):s;o&&o.type==="pong"&&(clearTimeout(i),i=setTimeout(d,bn/2)),e.emit("message",[o,e])};const c=a=>{e.ws!==null&&(e.ws=null,e.connecting=!1,e.connected?(e.connected=!1,e.emit("disconnect",[{type:"disconnect",error:a},e])):e.unsuccessfulReconnects++,setTimeout(Qn,et(ia(e.unsuccessfulReconnects+1)*Dh,Bh),e)),clearTimeout(i)},d=()=>{e.ws===t&&e.send({type:"ping"})};t.onclose=()=>c(null),t.onerror=a=>c(a),t.onopen=()=>{e.lastMessageReceived=lt(),e.connecting=!1,e.connected=!0,e.unsuccessfulReconnects=0,e.emit("connect",[{type:"connect"},e]),i=setTimeout(d,bn/2)}}};class Ph extends rr{constructor(t,{binaryType:r}={}){super(),this.url=t,this.ws=null,this.binaryType=r||null,this.connected=!1,this.connecting=!1,this.unsuccessfulReconnects=0,this.lastMessageReceived=0,this.shouldConnect=!0,this._checkInterval=setInterval(()=>{this.connected&&bn<lt()-this.lastMessageReceived&&this.ws.close()},bn/2),Qn(this)}send(t){this.ws&&this.ws.send(JSON.stringify(t))}destroy(){clearInterval(this._checkInterval),this.disconnect(),super.destroy()}disconnect(){this.shouldConnect=!1,this.ws!==null&&this.ws.close()}connect(){this.shouldConnect=!0,!this.connected&&this.ws===null&&Qn(this)}}const vs=new Map;class Uh{constructor(t){this.room=t,this.onmessage=null,this._onChange=r=>r.key===t&&this.onmessage!==null&&this.onmessage({data:xi(r.newValue||"")}),sa(this._onChange)}postMessage(t){oa.setItem(this.room,sr(aa(t)))}close(){ca(this._onChange)}}const Fh=typeof BroadcastChannel>"u"?Uh:BroadcastChannel,_r=e=>wt(vs,e,()=>{const t=Ni(),r=new Fh(e);return r.onmessage=i=>t.forEach(c=>c(i.data,"broadcastchannel")),{bc:r,subs:t}}),$h=(e,t)=>(_r(e).subs.add(t),t),Hh=(e,t)=>{const r=_r(e),i=r.subs.delete(t);return i&&r.subs.size===0&&(r.bc.close(),vs.delete(e)),i},zh=(e,t,r=null)=>{const i=_r(e);i.bc.postMessage(t),i.subs.forEach(c=>c(t,r))};var Es={exports:{}};(function(e,t){(function(r){e.exports=r()})(function(){var r=Math.floor,i=Math.abs,c=Math.pow;return function(){function d(a,s,o){function f(h,m){if(!s[h]){if(!a[h]){var _=typeof Yt=="function"&&Yt;if(!m&&_)return _(h,!0);if(g)return g(h,!0);var w=new Error("Cannot find module '"+h+"'");throw w.code="MODULE_NOT_FOUND",w}var M=s[h]={exports:{}};a[h][0].call(M.exports,function(R){var B=a[h][1][R];return f(B||R)},M,M.exports,d,a,s,o)}return s[h].exports}for(var g=typeof Yt=="function"&&Yt,u=0;u<o.length;u++)f(o[u]);return f}return d}()({1:[function(d,a,s){function o(y){var v=y.length;if(0<v%4)throw new Error("Invalid string. Length must be a multiple of 4");var A=y.indexOf("=");A===-1&&(A=v);var C=A===v?0:4-A%4;return[A,C]}function f(y,v,A){return 3*(v+A)/4-A}function g(y){var v,A,C=o(y),k=C[0],F=C[1],x=new M(f(y,k,F)),S=0,T=0<F?k-4:k;for(A=0;A<T;A+=4)v=w[y.charCodeAt(A)]<<18|w[y.charCodeAt(A+1)]<<12|w[y.charCodeAt(A+2)]<<6|w[y.charCodeAt(A+3)],x[S++]=255&v>>16,x[S++]=255&v>>8,x[S++]=255&v;return F===2&&(v=w[y.charCodeAt(A)]<<2|w[y.charCodeAt(A+1)]>>4,x[S++]=255&v),F===1&&(v=w[y.charCodeAt(A)]<<10|w[y.charCodeAt(A+1)]<<4|w[y.charCodeAt(A+2)]>>2,x[S++]=255&v>>8,x[S++]=255&v),x}function u(y){return _[63&y>>18]+_[63&y>>12]+_[63&y>>6]+_[63&y]}function h(y,v,A){for(var C,k=[],F=v;F<A;F+=3)C=(16711680&y[F]<<16)+(65280&y[F+1]<<8)+(255&y[F+2]),k.push(u(C));return k.join("")}function m(y){for(var v,A=y.length,C=A%3,k=[],F=16383,x=0,S=A-C;x<S;x+=F)k.push(h(y,x,x+F>S?S:x+F));return C===1?(v=y[A-1],k.push(_[v>>2]+_[63&v<<4]+"==")):C===2&&(v=(y[A-2]<<8)+y[A-1],k.push(_[v>>10]+_[63&v>>4]+_[63&v<<2]+"=")),k.join("")}s.byteLength=function(y){var v=o(y),A=v[0],C=v[1];return 3*(A+C)/4-C},s.toByteArray=g,s.fromByteArray=m;for(var _=[],w=[],M=typeof Uint8Array>"u"?Array:Uint8Array,R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B=0,b=R.length;B<b;++B)_[B]=R[B],w[R.charCodeAt(B)]=B;w[45]=62,w[95]=63},{}],2:[function(){},{}],3:[function(d,a,s){(function(){(function(){var o=String.fromCharCode,f=Math.min;function g(n){if(2147483647<n)throw new RangeError('The value "'+n+'" is invalid for option "size"');var l=new Uint8Array(n);return l.__proto__=u.prototype,l}function u(n,l,p){if(typeof n=="number"){if(typeof l=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(n)}return h(n,l,p)}function h(n,l,p){if(typeof n=="string")return M(n,l);if(ArrayBuffer.isView(n))return R(n);if(n==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n);if(L(n,ArrayBuffer)||n&&L(n.buffer,ArrayBuffer))return B(n,l,p);if(typeof n=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var N=n.valueOf&&n.valueOf();if(N!=null&&N!==n)return u.from(N,l,p);var I=b(n);if(I)return I;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof n[Symbol.toPrimitive]=="function")return u.from(n[Symbol.toPrimitive]("string"),l,p);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n)}function m(n){if(typeof n!="number")throw new TypeError('"size" argument must be of type number');if(0>n)throw new RangeError('The value "'+n+'" is invalid for option "size"')}function _(n,l,p){return m(n),0>=n||l===void 0?g(n):typeof p=="string"?g(n).fill(l,p):g(n).fill(l)}function w(n){return m(n),g(0>n?0:0|y(n))}function M(n,l){if((typeof l!="string"||l==="")&&(l="utf8"),!u.isEncoding(l))throw new TypeError("Unknown encoding: "+l);var p=0|v(n,l),N=g(p),I=N.write(n,l);return I!==p&&(N=N.slice(0,I)),N}function R(n){for(var l=0>n.length?0:0|y(n.length),p=g(l),N=0;N<l;N+=1)p[N]=255&n[N];return p}function B(n,l,p){if(0>l||n.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(n.byteLength<l+(p||0))throw new RangeError('"length" is outside of buffer bounds');var N;return N=l===void 0&&p===void 0?new Uint8Array(n):p===void 0?new Uint8Array(n,l):new Uint8Array(n,l,p),N.__proto__=u.prototype,N}function b(n){if(u.isBuffer(n)){var l=0|y(n.length),p=g(l);return p.length===0||n.copy(p,0,0,l),p}return n.length===void 0?n.type==="Buffer"&&Array.isArray(n.data)?R(n.data):void 0:typeof n.length!="number"||P(n.length)?g(0):R(n)}function y(n){if(n>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647 .toString(16)+" bytes");return 0|n}function v(n,l){if(u.isBuffer(n))return n.length;if(ArrayBuffer.isView(n)||L(n,ArrayBuffer))return n.byteLength;if(typeof n!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof n);var p=n.length,N=2<arguments.length&&arguments[2]===!0;if(!N&&p===0)return 0;for(var I=!1;;)switch(l){case"ascii":case"latin1":case"binary":return p;case"utf8":case"utf-8":return Ie(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*p;case"hex":return p>>>1;case"base64":return he(n).length;default:if(I)return N?-1:Ie(n).length;l=(""+l).toLowerCase(),I=!0}}function A(n,l,p){var N=!1;if((l===void 0||0>l)&&(l=0),l>this.length||((p===void 0||p>this.length)&&(p=this.length),0>=p)||(p>>>=0,l>>>=0,p<=l))return"";for(n||(n="utf8");;)switch(n){case"hex":return re(this,l,p);case"utf8":case"utf-8":return U(this,l,p);case"ascii":return W(this,l,p);case"latin1":case"binary":return te(this,l,p);case"base64":return O(this,l,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,l,p);default:if(N)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase(),N=!0}}function C(n,l,p){var N=n[l];n[l]=n[p],n[p]=N}function k(n,l,p,N,I){if(n.length===0)return-1;if(typeof p=="string"?(N=p,p=0):2147483647<p?p=2147483647:-2147483648>p&&(p=-2147483648),p=+p,P(p)&&(p=I?0:n.length-1),0>p&&(p=n.length+p),p>=n.length){if(I)return-1;p=n.length-1}else if(0>p)if(I)p=0;else return-1;if(typeof l=="string"&&(l=u.from(l,N)),u.isBuffer(l))return l.length===0?-1:F(n,l,p,N,I);if(typeof l=="number")return l&=255,typeof Uint8Array.prototype.indexOf=="function"?I?Uint8Array.prototype.indexOf.call(n,l,p):Uint8Array.prototype.lastIndexOf.call(n,l,p):F(n,[l],p,N,I);throw new TypeError("val must be string, number or Buffer")}function F(n,l,p,N,I){function H(Ze,Ct){return z===1?Ze[Ct]:Ze.readUInt16BE(Ct*z)}var z=1,Y=n.length,J=l.length;if(N!==void 0&&(N=(N+"").toLowerCase(),N==="ucs2"||N==="ucs-2"||N==="utf16le"||N==="utf-16le")){if(2>n.length||2>l.length)return-1;z=2,Y/=2,J/=2,p/=2}var Q;if(I){var ee=-1;for(Q=p;Q<Y;Q++)if(H(n,Q)!==H(l,ee===-1?0:Q-ee))ee!==-1&&(Q-=Q-ee),ee=-1;else if(ee===-1&&(ee=Q),Q-ee+1===J)return ee*z}else for(p+J>Y&&(p=Y-J),Q=p;0<=Q;Q--){for(var le=!0,Ke=0;Ke<J;Ke++)if(H(n,Q+Ke)!==H(l,Ke)){le=!1;break}if(le)return Q}return-1}function x(n,l,p,N){p=+p||0;var I=n.length-p;N?(N=+N,N>I&&(N=I)):N=I;var H=l.length;N>H/2&&(N=H/2);for(var z,Y=0;Y<N;++Y){if(z=parseInt(l.substr(2*Y,2),16),P(z))return Y;n[p+Y]=z}return Y}function S(n,l,p,N){return ye(Ie(l,n.length-p),n,p,N)}function T(n,l,p,N){return ye(Ve(l),n,p,N)}function D(n,l,p,N){return T(n,l,p,N)}function K(n,l,p,N){return ye(he(l),n,p,N)}function Z(n,l,p,N){return ye(ke(l,n.length-p),n,p,N)}function O(n,l,p){return l===0&&p===n.length?q.fromByteArray(n):q.fromByteArray(n.slice(l,p))}function U(n,l,p){p=f(n.length,p);for(var N=[],I=l;I<p;){var H=n[I],z=null,Y=239<H?4:223<H?3:191<H?2:1;if(I+Y<=p){var J,Q,ee,le;Y===1?128>H&&(z=H):Y===2?(J=n[I+1],(192&J)==128&&(le=(31&H)<<6|63&J,127<le&&(z=le))):Y===3?(J=n[I+1],Q=n[I+2],(192&J)==128&&(192&Q)==128&&(le=(15&H)<<12|(63&J)<<6|63&Q,2047<le&&(55296>le||57343<le)&&(z=le))):Y===4&&(J=n[I+1],Q=n[I+2],ee=n[I+3],(192&J)==128&&(192&Q)==128&&(192&ee)==128&&(le=(15&H)<<18|(63&J)<<12|(63&Q)<<6|63&ee,65535<le&&1114112>le&&(z=le)))}z===null?(z=65533,Y=1):65535<z&&(z-=65536,N.push(55296|1023&z>>>10),z=56320|1023&z),N.push(z),I+=Y}return $(N)}function $(n){var l=n.length;if(l<=4096)return o.apply(String,n);for(var p="",N=0;N<l;)p+=o.apply(String,n.slice(N,N+=4096));return p}function W(n,l,p){var N="";p=f(n.length,p);for(var I=l;I<p;++I)N+=o(127&n[I]);return N}function te(n,l,p){var N="";p=f(n.length,p);for(var I=l;I<p;++I)N+=o(n[I]);return N}function re(n,l,p){var N=n.length;(!l||0>l)&&(l=0),(!p||0>p||p>N)&&(p=N);for(var I="",H=l;H<p;++H)I+=Oe(n[H]);return I}function ae(n,l,p){for(var N=n.slice(l,p),I="",H=0;H<N.length;H+=2)I+=o(N[H]+256*N[H+1]);return I}function se(n,l,p){if(n%1!=0||0>n)throw new RangeError("offset is not uint");if(n+l>p)throw new RangeError("Trying to access beyond buffer length")}function ne(n,l,p,N,I,H){if(!u.isBuffer(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>I||l<H)throw new RangeError('"value" argument is out of bounds');if(p+N>n.length)throw new RangeError("Index out of range")}function de(n,l,p,N){if(p+N>n.length)throw new RangeError("Index out of range");if(0>p)throw new RangeError("Index out of range")}function Ee(n,l,p,N,I){return l=+l,p>>>=0,I||de(n,l,p,4),V.write(n,l,p,N,23,4),p+4}function Ae(n,l,p,N,I){return l=+l,p>>>=0,I||de(n,l,p,8),V.write(n,l,p,N,52,8),p+8}function Me(n){if(n=n.split("=")[0],n=n.trim().replace(E,""),2>n.length)return"";for(;n.length%4!=0;)n+="=";return n}function Oe(n){return 16>n?"0"+n.toString(16):n.toString(16)}function Ie(n,l){l=l||1/0;for(var p,N=n.length,I=null,H=[],z=0;z<N;++z){if(p=n.charCodeAt(z),55295<p&&57344>p){if(!I){if(56319<p){-1<(l-=3)&&H.push(239,191,189);continue}else if(z+1===N){-1<(l-=3)&&H.push(239,191,189);continue}I=p;continue}if(56320>p){-1<(l-=3)&&H.push(239,191,189),I=p;continue}p=(I-55296<<10|p-56320)+65536}else I&&-1<(l-=3)&&H.push(239,191,189);if(I=null,128>p){if(0>(l-=1))break;H.push(p)}else if(2048>p){if(0>(l-=2))break;H.push(192|p>>6,128|63&p)}else if(65536>p){if(0>(l-=3))break;H.push(224|p>>12,128|63&p>>6,128|63&p)}else if(1114112>p){if(0>(l-=4))break;H.push(240|p>>18,128|63&p>>12,128|63&p>>6,128|63&p)}else throw new Error("Invalid code point")}return H}function Ve(n){for(var l=[],p=0;p<n.length;++p)l.push(255&n.charCodeAt(p));return l}function ke(n,l){for(var p,N,I,H=[],z=0;z<n.length&&!(0>(l-=2));++z)p=n.charCodeAt(z),N=p>>8,I=p%256,H.push(I),H.push(N);return H}function he(n){return q.toByteArray(Me(n))}function ye(n,l,p,N){for(var I=0;I<N&&!(I+p>=l.length||I>=n.length);++I)l[I+p]=n[I];return I}function L(n,l){return n instanceof l||n!=null&&n.constructor!=null&&n.constructor.name!=null&&n.constructor.name===l.name}function P(n){return n!==n}var q=d("base64-js"),V=d("ieee754");s.Buffer=u,s.SlowBuffer=function(n){return+n!=n&&(n=0),u.alloc(+n)},s.INSPECT_MAX_BYTES=50,s.kMaxLength=2147483647,u.TYPED_ARRAY_SUPPORT=function(){try{var n=new Uint8Array(1);return n.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},n.foo()===42}catch{return!1}}(),u.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){return u.isBuffer(this)?this.buffer:void 0}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){return u.isBuffer(this)?this.byteOffset:void 0}}),typeof Symbol<"u"&&Symbol.species!=null&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),u.poolSize=8192,u.from=function(n,l,p){return h(n,l,p)},u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,u.alloc=function(n,l,p){return _(n,l,p)},u.allocUnsafe=function(n){return w(n)},u.allocUnsafeSlow=function(n){return w(n)},u.isBuffer=function(n){return n!=null&&n._isBuffer===!0&&n!==u.prototype},u.compare=function(n,l){if(L(n,Uint8Array)&&(n=u.from(n,n.offset,n.byteLength)),L(l,Uint8Array)&&(l=u.from(l,l.offset,l.byteLength)),!u.isBuffer(n)||!u.isBuffer(l))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(n===l)return 0;for(var p=n.length,N=l.length,I=0,H=f(p,N);I<H;++I)if(n[I]!==l[I]){p=n[I],N=l[I];break}return p<N?-1:N<p?1:0},u.isEncoding=function(n){switch((n+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(n,l){if(!Array.isArray(n))throw new TypeError('"list" argument must be an Array of Buffers');if(n.length===0)return u.alloc(0);var p;if(l===void 0)for(l=0,p=0;p<n.length;++p)l+=n[p].length;var N=u.allocUnsafe(l),I=0;for(p=0;p<n.length;++p){var H=n[p];if(L(H,Uint8Array)&&(H=u.from(H)),!u.isBuffer(H))throw new TypeError('"list" argument must be an Array of Buffers');H.copy(N,I),I+=H.length}return N},u.byteLength=v,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var n=this.length;if(n%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var l=0;l<n;l+=2)C(this,l,l+1);return this},u.prototype.swap32=function(){var n=this.length;if(n%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var l=0;l<n;l+=4)C(this,l,l+3),C(this,l+1,l+2);return this},u.prototype.swap64=function(){var n=this.length;if(n%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var l=0;l<n;l+=8)C(this,l,l+7),C(this,l+1,l+6),C(this,l+2,l+5),C(this,l+3,l+4);return this},u.prototype.toString=function(){var n=this.length;return n===0?"":arguments.length===0?U(this,0,n):A.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(n){if(!u.isBuffer(n))throw new TypeError("Argument must be a Buffer");return this===n||u.compare(this,n)===0},u.prototype.inspect=function(){var n="",l=s.INSPECT_MAX_BYTES;return n=this.toString("hex",0,l).replace(/(.{2})/g,"$1 ").trim(),this.length>l&&(n+=" ... "),"<Buffer "+n+">"},u.prototype.compare=function(n,l,p,N,I){if(L(n,Uint8Array)&&(n=u.from(n,n.offset,n.byteLength)),!u.isBuffer(n))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof n);if(l===void 0&&(l=0),p===void 0&&(p=n?n.length:0),N===void 0&&(N=0),I===void 0&&(I=this.length),0>l||p>n.length||0>N||I>this.length)throw new RangeError("out of range index");if(N>=I&&l>=p)return 0;if(N>=I)return-1;if(l>=p)return 1;if(l>>>=0,p>>>=0,N>>>=0,I>>>=0,this===n)return 0;for(var H=I-N,z=p-l,Y=f(H,z),J=this.slice(N,I),Q=n.slice(l,p),ee=0;ee<Y;++ee)if(J[ee]!==Q[ee]){H=J[ee],z=Q[ee];break}return H<z?-1:z<H?1:0},u.prototype.includes=function(n,l,p){return this.indexOf(n,l,p)!==-1},u.prototype.indexOf=function(n,l,p){return k(this,n,l,p,!0)},u.prototype.lastIndexOf=function(n,l,p){return k(this,n,l,p,!1)},u.prototype.write=function(n,l,p,N){if(l===void 0)N="utf8",p=this.length,l=0;else if(p===void 0&&typeof l=="string")N=l,p=this.length,l=0;else if(isFinite(l))l>>>=0,isFinite(p)?(p>>>=0,N===void 0&&(N="utf8")):(N=p,p=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var I=this.length-l;if((p===void 0||p>I)&&(p=I),0<n.length&&(0>p||0>l)||l>this.length)throw new RangeError("Attempt to write outside buffer bounds");N||(N="utf8");for(var H=!1;;)switch(N){case"hex":return x(this,n,l,p);case"utf8":case"utf-8":return S(this,n,l,p);case"ascii":return T(this,n,l,p);case"latin1":case"binary":return D(this,n,l,p);case"base64":return K(this,n,l,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,n,l,p);default:if(H)throw new TypeError("Unknown encoding: "+N);N=(""+N).toLowerCase(),H=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},u.prototype.slice=function(n,l){var p=this.length;n=~~n,l=l===void 0?p:~~l,0>n?(n+=p,0>n&&(n=0)):n>p&&(n=p),0>l?(l+=p,0>l&&(l=0)):l>p&&(l=p),l<n&&(l=n);var N=this.subarray(n,l);return N.__proto__=u.prototype,N},u.prototype.readUIntLE=function(n,l,p){n>>>=0,l>>>=0,p||se(n,l,this.length);for(var N=this[n],I=1,H=0;++H<l&&(I*=256);)N+=this[n+H]*I;return N},u.prototype.readUIntBE=function(n,l,p){n>>>=0,l>>>=0,p||se(n,l,this.length);for(var N=this[n+--l],I=1;0<l&&(I*=256);)N+=this[n+--l]*I;return N},u.prototype.readUInt8=function(n,l){return n>>>=0,l||se(n,1,this.length),this[n]},u.prototype.readUInt16LE=function(n,l){return n>>>=0,l||se(n,2,this.length),this[n]|this[n+1]<<8},u.prototype.readUInt16BE=function(n,l){return n>>>=0,l||se(n,2,this.length),this[n]<<8|this[n+1]},u.prototype.readUInt32LE=function(n,l){return n>>>=0,l||se(n,4,this.length),(this[n]|this[n+1]<<8|this[n+2]<<16)+16777216*this[n+3]},u.prototype.readUInt32BE=function(n,l){return n>>>=0,l||se(n,4,this.length),16777216*this[n]+(this[n+1]<<16|this[n+2]<<8|this[n+3])},u.prototype.readIntLE=function(n,l,p){n>>>=0,l>>>=0,p||se(n,l,this.length);for(var N=this[n],I=1,H=0;++H<l&&(I*=256);)N+=this[n+H]*I;return I*=128,N>=I&&(N-=c(2,8*l)),N},u.prototype.readIntBE=function(n,l,p){n>>>=0,l>>>=0,p||se(n,l,this.length);for(var N=l,I=1,H=this[n+--N];0<N&&(I*=256);)H+=this[n+--N]*I;return I*=128,H>=I&&(H-=c(2,8*l)),H},u.prototype.readInt8=function(n,l){return n>>>=0,l||se(n,1,this.length),128&this[n]?-1*(255-this[n]+1):this[n]},u.prototype.readInt16LE=function(n,l){n>>>=0,l||se(n,2,this.length);var p=this[n]|this[n+1]<<8;return 32768&p?4294901760|p:p},u.prototype.readInt16BE=function(n,l){n>>>=0,l||se(n,2,this.length);var p=this[n+1]|this[n]<<8;return 32768&p?4294901760|p:p},u.prototype.readInt32LE=function(n,l){return n>>>=0,l||se(n,4,this.length),this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24},u.prototype.readInt32BE=function(n,l){return n>>>=0,l||se(n,4,this.length),this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]},u.prototype.readFloatLE=function(n,l){return n>>>=0,l||se(n,4,this.length),V.read(this,n,!0,23,4)},u.prototype.readFloatBE=function(n,l){return n>>>=0,l||se(n,4,this.length),V.read(this,n,!1,23,4)},u.prototype.readDoubleLE=function(n,l){return n>>>=0,l||se(n,8,this.length),V.read(this,n,!0,52,8)},u.prototype.readDoubleBE=function(n,l){return n>>>=0,l||se(n,8,this.length),V.read(this,n,!1,52,8)},u.prototype.writeUIntLE=function(n,l,p,N){if(n=+n,l>>>=0,p>>>=0,!N){var I=c(2,8*p)-1;ne(this,n,l,p,I,0)}var H=1,z=0;for(this[l]=255&n;++z<p&&(H*=256);)this[l+z]=255&n/H;return l+p},u.prototype.writeUIntBE=function(n,l,p,N){if(n=+n,l>>>=0,p>>>=0,!N){var I=c(2,8*p)-1;ne(this,n,l,p,I,0)}var H=p-1,z=1;for(this[l+H]=255&n;0<=--H&&(z*=256);)this[l+H]=255&n/z;return l+p},u.prototype.writeUInt8=function(n,l,p){return n=+n,l>>>=0,p||ne(this,n,l,1,255,0),this[l]=255&n,l+1},u.prototype.writeUInt16LE=function(n,l,p){return n=+n,l>>>=0,p||ne(this,n,l,2,65535,0),this[l]=255&n,this[l+1]=n>>>8,l+2},u.prototype.writeUInt16BE=function(n,l,p){return n=+n,l>>>=0,p||ne(this,n,l,2,65535,0),this[l]=n>>>8,this[l+1]=255&n,l+2},u.prototype.writeUInt32LE=function(n,l,p){return n=+n,l>>>=0,p||ne(this,n,l,4,4294967295,0),this[l+3]=n>>>24,this[l+2]=n>>>16,this[l+1]=n>>>8,this[l]=255&n,l+4},u.prototype.writeUInt32BE=function(n,l,p){return n=+n,l>>>=0,p||ne(this,n,l,4,4294967295,0),this[l]=n>>>24,this[l+1]=n>>>16,this[l+2]=n>>>8,this[l+3]=255&n,l+4},u.prototype.writeIntLE=function(n,l,p,N){if(n=+n,l>>>=0,!N){var I=c(2,8*p-1);ne(this,n,l,p,I-1,-I)}var H=0,z=1,Y=0;for(this[l]=255&n;++H<p&&(z*=256);)0>n&&Y===0&&this[l+H-1]!==0&&(Y=1),this[l+H]=255&(n/z>>0)-Y;return l+p},u.prototype.writeIntBE=function(n,l,p,N){if(n=+n,l>>>=0,!N){var I=c(2,8*p-1);ne(this,n,l,p,I-1,-I)}var H=p-1,z=1,Y=0;for(this[l+H]=255&n;0<=--H&&(z*=256);)0>n&&Y===0&&this[l+H+1]!==0&&(Y=1),this[l+H]=255&(n/z>>0)-Y;return l+p},u.prototype.writeInt8=function(n,l,p){return n=+n,l>>>=0,p||ne(this,n,l,1,127,-128),0>n&&(n=255+n+1),this[l]=255&n,l+1},u.prototype.writeInt16LE=function(n,l,p){return n=+n,l>>>=0,p||ne(this,n,l,2,32767,-32768),this[l]=255&n,this[l+1]=n>>>8,l+2},u.prototype.writeInt16BE=function(n,l,p){return n=+n,l>>>=0,p||ne(this,n,l,2,32767,-32768),this[l]=n>>>8,this[l+1]=255&n,l+2},u.prototype.writeInt32LE=function(n,l,p){return n=+n,l>>>=0,p||ne(this,n,l,4,2147483647,-2147483648),this[l]=255&n,this[l+1]=n>>>8,this[l+2]=n>>>16,this[l+3]=n>>>24,l+4},u.prototype.writeInt32BE=function(n,l,p){return n=+n,l>>>=0,p||ne(this,n,l,4,2147483647,-2147483648),0>n&&(n=4294967295+n+1),this[l]=n>>>24,this[l+1]=n>>>16,this[l+2]=n>>>8,this[l+3]=255&n,l+4},u.prototype.writeFloatLE=function(n,l,p){return Ee(this,n,l,!0,p)},u.prototype.writeFloatBE=function(n,l,p){return Ee(this,n,l,!1,p)},u.prototype.writeDoubleLE=function(n,l,p){return Ae(this,n,l,!0,p)},u.prototype.writeDoubleBE=function(n,l,p){return Ae(this,n,l,!1,p)},u.prototype.copy=function(n,l,p,N){if(!u.isBuffer(n))throw new TypeError("argument should be a Buffer");if(p||(p=0),N||N===0||(N=this.length),l>=n.length&&(l=n.length),l||(l=0),0<N&&N<p&&(N=p),N===p||n.length===0||this.length===0)return 0;if(0>l)throw new RangeError("targetStart out of bounds");if(0>p||p>=this.length)throw new RangeError("Index out of range");if(0>N)throw new RangeError("sourceEnd out of bounds");N>this.length&&(N=this.length),n.length-l<N-p&&(N=n.length-l+p);var I=N-p;if(this===n&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(l,p,N);else if(this===n&&p<l&&l<N)for(var H=I-1;0<=H;--H)n[H+l]=this[H+p];else Uint8Array.prototype.set.call(n,this.subarray(p,N),l);return I},u.prototype.fill=function(n,l,p,N){if(typeof n=="string"){if(typeof l=="string"?(N=l,l=0,p=this.length):typeof p=="string"&&(N=p,p=this.length),N!==void 0&&typeof N!="string")throw new TypeError("encoding must be a string");if(typeof N=="string"&&!u.isEncoding(N))throw new TypeError("Unknown encoding: "+N);if(n.length===1){var I=n.charCodeAt(0);(N==="utf8"&&128>I||N==="latin1")&&(n=I)}}else typeof n=="number"&&(n&=255);if(0>l||this.length<l||this.length<p)throw new RangeError("Out of range index");if(p<=l)return this;l>>>=0,p=p===void 0?this.length:p>>>0,n||(n=0);var H;if(typeof n=="number")for(H=l;H<p;++H)this[H]=n;else{var z=u.isBuffer(n)?n:u.from(n,N),Y=z.length;if(Y===0)throw new TypeError('The value "'+n+'" is invalid for argument "value"');for(H=0;H<p-l;++H)this[H+l]=z[H%Y]}return this};var E=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,d("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:9}],4:[function(d,a,s){(function(o){(function(){function f(){let u;try{u=s.storage.getItem("debug")}catch{}return!u&&typeof o<"u"&&"env"in o&&(u=o.env.DEBUG),u}s.formatArgs=function(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+a.exports.humanize(this.diff),!this.useColors)return;const h="color: "+this.color;u.splice(1,0,h,"color: inherit");let m=0,_=0;u[0].replace(/%[a-zA-Z%]/g,w=>{w==="%%"||(m++,w==="%c"&&(_=m))}),u.splice(_,0,h)},s.save=function(u){try{u?s.storage.setItem("debug",u):s.storage.removeItem("debug")}catch{}},s.load=f,s.useColors=function(){return!!(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))||!(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},s.storage=function(){try{return localStorage}catch{}}(),s.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),s.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],s.log=console.debug||console.log||(()=>{}),a.exports=d("./common")(s);const{formatters:g}=a.exports;g.j=function(u){try{return JSON.stringify(u)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}}}).call(this)}).call(this,d("_process"))},{"./common":5,_process:12}],5:[function(d,a){a.exports=function(s){function o(u){function h(...w){if(!h.enabled)return;const M=h,R=+new Date,B=R-(m||R);M.diff=B,M.prev=m,M.curr=R,m=R,w[0]=o.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");let b=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,(v,A)=>{if(v==="%%")return"%";b++;const C=o.formatters[A];if(typeof C=="function"){const k=w[b];v=C.call(M,k),w.splice(b,1),b--}return v}),o.formatArgs.call(M,w),(M.log||o.log).apply(M,w)}let m,_=null;return h.namespace=u,h.useColors=o.useColors(),h.color=o.selectColor(u),h.extend=f,h.destroy=o.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>_===null?o.enabled(u):_,set:w=>{_=w}}),typeof o.init=="function"&&o.init(h),h}function f(u,h){const m=o(this.namespace+(typeof h>"u"?":":h)+u);return m.log=this.log,m}function g(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}return o.debug=o,o.default=o,o.coerce=function(u){return u instanceof Error?u.stack||u.message:u},o.disable=function(){const u=[...o.names.map(g),...o.skips.map(g).map(h=>"-"+h)].join(",");return o.enable(""),u},o.enable=function(u){o.save(u),o.names=[],o.skips=[];let h;const m=(typeof u=="string"?u:"").split(/[\s,]+/),_=m.length;for(h=0;h<_;h++)m[h]&&(u=m[h].replace(/\*/g,".*?"),u[0]==="-"?o.skips.push(new RegExp("^"+u.substr(1)+"$")):o.names.push(new RegExp("^"+u+"$")))},o.enabled=function(u){if(u[u.length-1]==="*")return!0;let h,m;for(h=0,m=o.skips.length;h<m;h++)if(o.skips[h].test(u))return!1;for(h=0,m=o.names.length;h<m;h++)if(o.names[h].test(u))return!0;return!1},o.humanize=d("ms"),o.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(s).forEach(u=>{o[u]=s[u]}),o.names=[],o.skips=[],o.formatters={},o.selectColor=function(u){let h=0;for(let m=0;m<u.length;m++)h=(h<<5)-h+u.charCodeAt(m),h|=0;return o.colors[i(h)%o.colors.length]},o.enable(o.load()),o}},{ms:11}],6:[function(d,a){function s(o,f){for(const g in f)Object.defineProperty(o,g,{value:f[g],enumerable:!0,configurable:!0});return o}a.exports=function(o,f,g){if(!o||typeof o=="string")throw new TypeError("Please pass an Error to err-code");g||(g={}),typeof f=="object"&&(g=f,f=""),f&&(g.code=f);try{return s(o,g)}catch{g.message=o.message,g.stack=o.stack;const h=function(){};return h.prototype=Object.create(Object.getPrototypeOf(o)),s(new h,g)}}},{}],7:[function(d,a){function s(x){console&&console.warn&&console.warn(x)}function o(){o.init.call(this)}function f(x){if(typeof x!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof x)}function g(x){return x._maxListeners===void 0?o.defaultMaxListeners:x._maxListeners}function u(x,S,T,D){var K,Z,O;if(f(T),Z=x._events,Z===void 0?(Z=x._events=Object.create(null),x._eventsCount=0):(Z.newListener!==void 0&&(x.emit("newListener",S,T.listener?T.listener:T),Z=x._events),O=Z[S]),O===void 0)O=Z[S]=T,++x._eventsCount;else if(typeof O=="function"?O=Z[S]=D?[T,O]:[O,T]:D?O.unshift(T):O.push(T),K=g(x),0<K&&O.length>K&&!O.warned){O.warned=!0;var U=new Error("Possible EventEmitter memory leak detected. "+O.length+" "+(S+" listeners added. Use emitter.setMaxListeners() to increase limit"));U.name="MaxListenersExceededWarning",U.emitter=x,U.type=S,U.count=O.length,s(U)}return x}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(x,S,T){var D={fired:!1,wrapFn:void 0,target:x,type:S,listener:T},K=h.bind(D);return K.listener=T,D.wrapFn=K,K}function _(x,S,T){var D=x._events;if(D===void 0)return[];var K=D[S];return K===void 0?[]:typeof K=="function"?T?[K.listener||K]:[K]:T?B(K):M(K,K.length)}function w(x){var S=this._events;if(S!==void 0){var T=S[x];if(typeof T=="function")return 1;if(T!==void 0)return T.length}return 0}function M(x,S){for(var T=Array(S),D=0;D<S;++D)T[D]=x[D];return T}function R(x,S){for(;S+1<x.length;S++)x[S]=x[S+1];x.pop()}function B(x){for(var S=Array(x.length),T=0;T<S.length;++T)S[T]=x[T].listener||x[T];return S}function b(x,S,T){typeof x.on=="function"&&y(x,"error",S,T)}function y(x,S,T,D){if(typeof x.on=="function")D.once?x.once(S,T):x.on(S,T);else if(typeof x.addEventListener=="function")x.addEventListener(S,function K(Z){D.once&&x.removeEventListener(S,K),T(Z)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof x)}var v,A=typeof Reflect=="object"?Reflect:null,C=A&&typeof A.apply=="function"?A.apply:function(x,S,T){return Function.prototype.apply.call(x,S,T)};v=A&&typeof A.ownKeys=="function"?A.ownKeys:Object.getOwnPropertySymbols?function(x){return Object.getOwnPropertyNames(x).concat(Object.getOwnPropertySymbols(x))}:function(x){return Object.getOwnPropertyNames(x)};var k=Number.isNaN||function(x){return x!==x};a.exports=o,a.exports.once=function(x,S){return new Promise(function(T,D){function K(O){x.removeListener(S,Z),D(O)}function Z(){typeof x.removeListener=="function"&&x.removeListener("error",K),T([].slice.call(arguments))}y(x,S,Z,{once:!0}),S!=="error"&&b(x,K,{once:!0})})},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var F=10;Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return F},set:function(x){if(typeof x!="number"||0>x||k(x))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+x+".");F=x}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(x){if(typeof x!="number"||0>x||k(x))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+x+".");return this._maxListeners=x,this},o.prototype.getMaxListeners=function(){return g(this)},o.prototype.emit=function(x){for(var S=[],T=1;T<arguments.length;T++)S.push(arguments[T]);var D=x==="error",K=this._events;if(K!==void 0)D=D&&K.error===void 0;else if(!D)return!1;if(D){var Z;if(0<S.length&&(Z=S[0]),Z instanceof Error)throw Z;var O=new Error("Unhandled error."+(Z?" ("+Z.message+")":""));throw O.context=Z,O}var U=K[x];if(U===void 0)return!1;if(typeof U=="function")C(U,this,S);else for(var $=U.length,W=M(U,$),T=0;T<$;++T)C(W[T],this,S);return!0},o.prototype.addListener=function(x,S){return u(this,x,S,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(x,S){return u(this,x,S,!0)},o.prototype.once=function(x,S){return f(S),this.on(x,m(this,x,S)),this},o.prototype.prependOnceListener=function(x,S){return f(S),this.prependListener(x,m(this,x,S)),this},o.prototype.removeListener=function(x,S){var T,D,K,Z,O;if(f(S),D=this._events,D===void 0)return this;if(T=D[x],T===void 0)return this;if(T===S||T.listener===S)--this._eventsCount==0?this._events=Object.create(null):(delete D[x],D.removeListener&&this.emit("removeListener",x,T.listener||S));else if(typeof T!="function"){for(K=-1,Z=T.length-1;0<=Z;Z--)if(T[Z]===S||T[Z].listener===S){O=T[Z].listener,K=Z;break}if(0>K)return this;K===0?T.shift():R(T,K),T.length===1&&(D[x]=T[0]),D.removeListener!==void 0&&this.emit("removeListener",x,O||S)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(x){var S,T,D;if(T=this._events,T===void 0)return this;if(T.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):T[x]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete T[x]),this;if(arguments.length===0){var K,Z=Object.keys(T);for(D=0;D<Z.length;++D)K=Z[D],K!=="removeListener"&&this.removeAllListeners(K);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(S=T[x],typeof S=="function")this.removeListener(x,S);else if(S!==void 0)for(D=S.length-1;0<=D;D--)this.removeListener(x,S[D]);return this},o.prototype.listeners=function(x){return _(this,x,!0)},o.prototype.rawListeners=function(x){return _(this,x,!1)},o.listenerCount=function(x,S){return typeof x.listenerCount=="function"?x.listenerCount(S):w.call(x,S)},o.prototype.listenerCount=w,o.prototype.eventNames=function(){return 0<this._eventsCount?v(this._events):[]}},{}],8:[function(d,a){a.exports=function(){if(typeof globalThis>"u")return null;var s={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return s.RTCPeerConnection?s:null}},{}],9:[function(d,a,s){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */s.read=function(o,f,g,u,h){var m,_,w=8*h-u-1,M=(1<<w)-1,R=M>>1,B=-7,b=g?h-1:0,y=g?-1:1,v=o[f+b];for(b+=y,m=v&(1<<-B)-1,v>>=-B,B+=w;0<B;m=256*m+o[f+b],b+=y,B-=8);for(_=m&(1<<-B)-1,m>>=-B,B+=u;0<B;_=256*_+o[f+b],b+=y,B-=8);if(m===0)m=1-R;else{if(m===M)return _?NaN:(v?-1:1)*(1/0);_+=c(2,u),m-=R}return(v?-1:1)*_*c(2,m-u)},s.write=function(o,f,g,u,h,m){var _,w,M,R=Math.LN2,B=Math.log,b=8*m-h-1,y=(1<<b)-1,v=y>>1,A=h===23?c(2,-24)-c(2,-77):0,C=u?0:m-1,k=u?1:-1,F=0>f||f===0&&0>1/f?1:0;for(f=i(f),isNaN(f)||f===1/0?(w=isNaN(f)?1:0,_=y):(_=r(B(f)/R),1>f*(M=c(2,-_))&&(_--,M*=2),f+=1<=_+v?A/M:A*c(2,1-v),2<=f*M&&(_++,M/=2),_+v>=y?(w=0,_=y):1<=_+v?(w=(f*M-1)*c(2,h),_+=v):(w=f*c(2,v-1)*c(2,h),_=0));8<=h;o[g+C]=255&w,C+=k,w/=256,h-=8);for(_=_<<h|w,b+=h;0<b;o[g+C]=255&_,C+=k,_/=256,b-=8);o[g+C-k]|=128*F}},{}],10:[function(d,a){a.exports=typeof Object.create=="function"?function(s,o){o&&(s.super_=o,s.prototype=Object.create(o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:function(s,o){if(o){s.super_=o;var f=function(){};f.prototype=o.prototype,s.prototype=new f,s.prototype.constructor=s}}},{}],11:[function(d,a){var s=Math.round;function o(h){if(h+="",!(100<h.length)){var m=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(h);if(m){var _=parseFloat(m[1]),w=(m[2]||"ms").toLowerCase();return w==="years"||w==="year"||w==="yrs"||w==="yr"||w==="y"?315576e5*_:w==="weeks"||w==="week"||w==="w"?6048e5*_:w==="days"||w==="day"||w==="d"?864e5*_:w==="hours"||w==="hour"||w==="hrs"||w==="hr"||w==="h"?36e5*_:w==="minutes"||w==="minute"||w==="mins"||w==="min"||w==="m"?6e4*_:w==="seconds"||w==="second"||w==="secs"||w==="sec"||w==="s"?1e3*_:w==="milliseconds"||w==="millisecond"||w==="msecs"||w==="msec"||w==="ms"?_:void 0}}}function f(h){var m=i(h);return 864e5<=m?s(h/864e5)+"d":36e5<=m?s(h/36e5)+"h":6e4<=m?s(h/6e4)+"m":1e3<=m?s(h/1e3)+"s":h+"ms"}function g(h){var m=i(h);return 864e5<=m?u(h,m,864e5,"day"):36e5<=m?u(h,m,36e5,"hour"):6e4<=m?u(h,m,6e4,"minute"):1e3<=m?u(h,m,1e3,"second"):h+" ms"}function u(h,m,_,w){return s(h/_)+" "+w+(m>=1.5*_?"s":"")}a.exports=function(h,m){m=m||{};var _=typeof h;if(_=="string"&&0<h.length)return o(h);if(_==="number"&&isFinite(h))return m.long?g(h):f(h);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(h))}},{}],12:[function(d,a){function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function f(A){if(w===setTimeout)return setTimeout(A,0);if((w===s||!w)&&setTimeout)return w=setTimeout,setTimeout(A,0);try{return w(A,0)}catch{try{return w.call(null,A,0)}catch{return w.call(this,A,0)}}}function g(A){if(M===clearTimeout)return clearTimeout(A);if((M===o||!M)&&clearTimeout)return M=clearTimeout,clearTimeout(A);try{return M(A)}catch{try{return M.call(null,A)}catch{return M.call(this,A)}}}function u(){y&&B&&(y=!1,B.length?b=B.concat(b):v=-1,b.length&&h())}function h(){if(!y){var A=f(u);y=!0;for(var C=b.length;C;){for(B=b,b=[];++v<C;)B&&B[v].run();v=-1,C=b.length}B=null,y=!1,g(A)}}function m(A,C){this.fun=A,this.array=C}function _(){}var w,M,R=a.exports={};(function(){try{w=typeof setTimeout=="function"?setTimeout:s}catch{w=s}try{M=typeof clearTimeout=="function"?clearTimeout:o}catch{M=o}})();var B,b=[],y=!1,v=-1;R.nextTick=function(A){var C=Array(arguments.length-1);if(1<arguments.length)for(var k=1;k<arguments.length;k++)C[k-1]=arguments[k];b.push(new m(A,C)),b.length!==1||y||f(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},R.title="browser",R.browser=!0,R.env={},R.argv=[],R.version="",R.versions={},R.on=_,R.addListener=_,R.once=_,R.off=_,R.removeListener=_,R.removeAllListeners=_,R.emit=_,R.prependListener=_,R.prependOnceListener=_,R.listeners=function(){return[]},R.binding=function(){throw new Error("process.binding is not supported")},R.cwd=function(){return"/"},R.chdir=function(){throw new Error("process.chdir is not supported")},R.umask=function(){return 0}},{}],13:[function(d,a){(function(s){(function(){/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let o;a.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window>"u"?s:window):f=>(o||(o=Promise.resolve())).then(f).catch(g=>setTimeout(()=>{throw g},0))}).call(this)}).call(this,typeof Be>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Be)},{}],14:[function(d,a){(function(s,o){(function(){var f=d("safe-buffer").Buffer,g=o.crypto||o.msCrypto;a.exports=g&&g.getRandomValues?function(u,h){if(u>4294967295)throw new RangeError("requested too many random bytes");var m=f.allocUnsafe(u);if(0<u)if(65536<u)for(var _=0;_<u;_+=65536)g.getRandomValues(m.slice(_,_+65536));else g.getRandomValues(m);return typeof h=="function"?s.nextTick(function(){h(null,m)}):m}:function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,d("_process"),typeof Be>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Be)},{_process:12,"safe-buffer":30}],15:[function(d,a){function s(_,w){_.prototype=Object.create(w.prototype),_.prototype.constructor=_,_.__proto__=w}function o(_,w,M){function R(b,y,v){return typeof w=="string"?w:w(b,y,v)}M||(M=Error);var B=function(b){function y(v,A,C){return b.call(this,R(v,A,C))||this}return s(y,b),y}(M);B.prototype.name=M.name,B.prototype.code=_,m[_]=B}function f(_,w){if(Array.isArray(_)){var M=_.length;return _=_.map(function(R){return R+""}),2<M?"one of ".concat(w," ").concat(_.slice(0,M-1).join(", "),", or ")+_[M-1]:M===2?"one of ".concat(w," ").concat(_[0]," or ").concat(_[1]):"of ".concat(w," ").concat(_[0])}return"of ".concat(w," ").concat(_+"")}function g(_,w,M){return _.substr(!M||0>M?0:+M,w.length)===w}function u(_,w,M){return(M===void 0||M>_.length)&&(M=_.length),_.substring(M-w.length,M)===w}function h(_,w,M){return typeof M!="number"&&(M=0),!(M+w.length>_.length)&&_.indexOf(w,M)!==-1}var m={};o("ERR_INVALID_OPT_VALUE",function(_,w){return'The value "'+w+'" is invalid for option "'+_+'"'},TypeError),o("ERR_INVALID_ARG_TYPE",function(_,w,M){var R;typeof w=="string"&&g(w,"not ")?(R="must not be",w=w.replace(/^not /,"")):R="must be";var B;if(u(_," argument"))B="The ".concat(_," ").concat(R," ").concat(f(w,"type"));else{var b=h(_,".")?"property":"argument";B='The "'.concat(_,'" ').concat(b," ").concat(R," ").concat(f(w,"type"))}return B+=". Received type ".concat(typeof M),B},TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",function(_){return"The "+_+" method is not implemented"}),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",function(_){return"Cannot call "+_+" after a stream was destroyed"}),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",function(_){return"Unknown encoding: "+_},TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),a.exports.codes=m},{}],16:[function(d,a){(function(s){(function(){function o(R){return this instanceof o?(h.call(this,R),m.call(this,R),this.allowHalfOpen=!0,void(R&&(R.readable===!1&&(this.readable=!1),R.writable===!1&&(this.writable=!1),R.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",f))))):new o(R)}function f(){this._writableState.ended||s.nextTick(g,this)}function g(R){R.end()}var u=Object.keys||function(R){var B=[];for(var b in R)B.push(b);return B};a.exports=o;var h=d("./_stream_readable"),m=d("./_stream_writable");d("inherits")(o,h);for(var _,w=u(m.prototype),M=0;M<w.length;M++)_=w[M],o.prototype[_]||(o.prototype[_]=m.prototype[_]);Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(R){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=R,this._writableState.destroyed=R)}})}).call(this)}).call(this,d("_process"))},{"./_stream_readable":18,"./_stream_writable":20,_process:12,inherits:10}],17:[function(d,a){function s(f){return this instanceof s?void o.call(this,f):new s(f)}a.exports=s;var o=d("./_stream_transform");d("inherits")(s,o),s.prototype._transform=function(f,g,u){u(null,f)}},{"./_stream_transform":19,inherits:10}],18:[function(d,a){(function(s,o){(function(){function f(E){return ae.from(E)}function g(E){return ae.isBuffer(E)||E instanceof se}function u(E,n,l){return typeof E.prependListener=="function"?E.prependListener(n,l):void(E._events&&E._events[n]?Array.isArray(E._events[n])?E._events[n].unshift(l):E._events[n]=[l,E._events[n]]:E.on(n,l))}function h(E,n,l){$=$||d("./_stream_duplex"),E=E||{},typeof l!="boolean"&&(l=n instanceof $),this.objectMode=!!E.objectMode,l&&(this.objectMode=this.objectMode||!!E.readableObjectMode),this.highWaterMark=Ve(this,E,"readableHighWaterMark",l),this.buffer=new Me,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=E.emitClose!==!1,this.autoDestroy=!!E.autoDestroy,this.destroyed=!1,this.defaultEncoding=E.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,E.encoding&&(!de&&(de=d("string_decoder/").StringDecoder),this.decoder=new de(E.encoding),this.encoding=E.encoding)}function m(E){if($=$||d("./_stream_duplex"),!(this instanceof m))return new m(E);var n=this instanceof $;this._readableState=new h(E,this,n),this.readable=!0,E&&(typeof E.read=="function"&&(this._read=E.read),typeof E.destroy=="function"&&(this._destroy=E.destroy)),re.call(this)}function _(E,n,l,p,N){W("readableAddChunk",n);var I=E._readableState;if(n===null)I.reading=!1,b(E,I);else{var H;if(N||(H=M(I,n)),H)q(E,H);else if(!(I.objectMode||n&&0<n.length))p||(I.reading=!1,A(E,I));else if(typeof n=="string"||I.objectMode||Object.getPrototypeOf(n)===ae.prototype||(n=f(n)),p)I.endEmitted?q(E,new P):w(E,I,n,!0);else if(I.ended)q(E,new ye);else{if(I.destroyed)return!1;I.reading=!1,I.decoder&&!l?(n=I.decoder.write(n),I.objectMode||n.length!==0?w(E,I,n,!1):A(E,I)):w(E,I,n,!1)}}return!I.ended&&(I.length<I.highWaterMark||I.length===0)}function w(E,n,l,p){n.flowing&&n.length===0&&!n.sync?(n.awaitDrain=0,E.emit("data",l)):(n.length+=n.objectMode?1:l.length,p?n.buffer.unshift(l):n.buffer.push(l),n.needReadable&&y(E)),A(E,n)}function M(E,n){var l;return g(n)||typeof n=="string"||n===void 0||E.objectMode||(l=new he("chunk",["string","Buffer","Uint8Array"],n)),l}function R(E){return 1073741824<=E?E=1073741824:(E--,E|=E>>>1,E|=E>>>2,E|=E>>>4,E|=E>>>8,E|=E>>>16,E++),E}function B(E,n){return 0>=E||n.length===0&&n.ended?0:n.objectMode?1:E===E?(E>n.highWaterMark&&(n.highWaterMark=R(E)),E<=n.length?E:n.ended?n.length:(n.needReadable=!0,0)):n.flowing&&n.length?n.buffer.head.data.length:n.length}function b(E,n){if(W("onEofChunk"),!n.ended){if(n.decoder){var l=n.decoder.end();l&&l.length&&(n.buffer.push(l),n.length+=n.objectMode?1:l.length)}n.ended=!0,n.sync?y(E):(n.needReadable=!1,!n.emittedReadable&&(n.emittedReadable=!0,v(E)))}}function y(E){var n=E._readableState;W("emitReadable",n.needReadable,n.emittedReadable),n.needReadable=!1,n.emittedReadable||(W("emitReadable",n.flowing),n.emittedReadable=!0,s.nextTick(v,E))}function v(E){var n=E._readableState;W("emitReadable_",n.destroyed,n.length,n.ended),!n.destroyed&&(n.length||n.ended)&&(E.emit("readable"),n.emittedReadable=!1),n.needReadable=!n.flowing&&!n.ended&&n.length<=n.highWaterMark,D(E)}function A(E,n){n.readingMore||(n.readingMore=!0,s.nextTick(C,E,n))}function C(E,n){for(;!n.reading&&!n.ended&&(n.length<n.highWaterMark||n.flowing&&n.length===0);){var l=n.length;if(W("maybeReadMore read 0"),E.read(0),l===n.length)break}n.readingMore=!1}function k(E){return function(){var n=E._readableState;W("pipeOnDrain",n.awaitDrain),n.awaitDrain&&n.awaitDrain--,n.awaitDrain===0&&te(E,"data")&&(n.flowing=!0,D(E))}}function F(E){var n=E._readableState;n.readableListening=0<E.listenerCount("readable"),n.resumeScheduled&&!n.paused?n.flowing=!0:0<E.listenerCount("data")&&E.resume()}function x(E){W("readable nexttick read 0"),E.read(0)}function S(E,n){n.resumeScheduled||(n.resumeScheduled=!0,s.nextTick(T,E,n))}function T(E,n){W("resume",n.reading),n.reading||E.read(0),n.resumeScheduled=!1,E.emit("resume"),D(E),n.flowing&&!n.reading&&E.read(0)}function D(E){var n=E._readableState;for(W("flow",n.flowing);n.flowing&&E.read()!==null;);}function K(E,n){if(n.length===0)return null;var l;return n.objectMode?l=n.buffer.shift():!E||E>=n.length?(l=n.decoder?n.buffer.join(""):n.buffer.length===1?n.buffer.first():n.buffer.concat(n.length),n.buffer.clear()):l=n.buffer.consume(E,n.decoder),l}function Z(E){var n=E._readableState;W("endReadable",n.endEmitted),n.endEmitted||(n.ended=!0,s.nextTick(O,n,E))}function O(E,n){if(W("endReadableNT",E.endEmitted,E.length),!E.endEmitted&&E.length===0&&(E.endEmitted=!0,n.readable=!1,n.emit("end"),E.autoDestroy)){var l=n._writableState;(!l||l.autoDestroy&&l.finished)&&n.destroy()}}function U(E,n){for(var l=0,p=E.length;l<p;l++)if(E[l]===n)return l;return-1}a.exports=m;var $;m.ReadableState=h;var W;d("events").EventEmitter;var te=function(E,n){return E.listeners(n).length},re=d("./internal/streams/stream"),ae=d("buffer").Buffer,se=o.Uint8Array||function(){},ne=d("util");W=ne&&ne.debuglog?ne.debuglog("stream"):function(){};var de,Ee,Ae,Me=d("./internal/streams/buffer_list"),Oe=d("./internal/streams/destroy"),Ie=d("./internal/streams/state"),Ve=Ie.getHighWaterMark,ke=d("../errors").codes,he=ke.ERR_INVALID_ARG_TYPE,ye=ke.ERR_STREAM_PUSH_AFTER_EOF,L=ke.ERR_METHOD_NOT_IMPLEMENTED,P=ke.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;d("inherits")(m,re);var q=Oe.errorOrDestroy,V=["error","close","destroy","pause","resume"];Object.defineProperty(m.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(E){this._readableState&&(this._readableState.destroyed=E)}}),m.prototype.destroy=Oe.destroy,m.prototype._undestroy=Oe.undestroy,m.prototype._destroy=function(E,n){n(E)},m.prototype.push=function(E,n){var l,p=this._readableState;return p.objectMode?l=!0:typeof E=="string"&&(n=n||p.defaultEncoding,n!==p.encoding&&(E=ae.from(E,n),n=""),l=!0),_(this,E,n,!1,l)},m.prototype.unshift=function(E){return _(this,E,null,!0,!1)},m.prototype.isPaused=function(){return this._readableState.flowing===!1},m.prototype.setEncoding=function(E){de||(de=d("string_decoder/").StringDecoder);var n=new de(E);this._readableState.decoder=n,this._readableState.encoding=this._readableState.decoder.encoding;for(var l=this._readableState.buffer.head,p="";l!==null;)p+=n.write(l.data),l=l.next;return this._readableState.buffer.clear(),p!==""&&this._readableState.buffer.push(p),this._readableState.length=p.length,this},m.prototype.read=function(E){W("read",E),E=parseInt(E,10);var n=this._readableState,l=E;if(E!==0&&(n.emittedReadable=!1),E===0&&n.needReadable&&((n.highWaterMark===0?0<n.length:n.length>=n.highWaterMark)||n.ended))return W("read: emitReadable",n.length,n.ended),n.length===0&&n.ended?Z(this):y(this),null;if(E=B(E,n),E===0&&n.ended)return n.length===0&&Z(this),null;var p=n.needReadable;W("need readable",p),(n.length===0||n.length-E<n.highWaterMark)&&(p=!0,W("length less than watermark",p)),n.ended||n.reading?(p=!1,W("reading or ended",p)):p&&(W("do read"),n.reading=!0,n.sync=!0,n.length===0&&(n.needReadable=!0),this._read(n.highWaterMark),n.sync=!1,!n.reading&&(E=B(l,n)));var N;return N=0<E?K(E,n):null,N===null?(n.needReadable=n.length<=n.highWaterMark,E=0):(n.length-=E,n.awaitDrain=0),n.length===0&&(!n.ended&&(n.needReadable=!0),l!==E&&n.ended&&Z(this)),N!==null&&this.emit("data",N),N},m.prototype._read=function(){q(this,new L("_read()"))},m.prototype.pipe=function(E,n){function l(ft,ht){W("onunpipe"),ft===Q&&ht&&ht.hasUnpiped===!1&&(ht.hasUnpiped=!0,N())}function p(){W("onend"),E.end()}function N(){W("cleanup"),E.removeListener("close",z),E.removeListener("finish",Y),E.removeListener("drain",Ze),E.removeListener("error",H),E.removeListener("unpipe",l),Q.removeListener("end",p),Q.removeListener("end",J),Q.removeListener("data",I),Ct=!0,ee.awaitDrain&&(!E._writableState||E._writableState.needDrain)&&Ze()}function I(ft){W("ondata");var ht=E.write(ft);W("dest.write",ht),ht===!1&&((ee.pipesCount===1&&ee.pipes===E||1<ee.pipesCount&&U(ee.pipes,E)!==-1)&&!Ct&&(W("false write response, pause",ee.awaitDrain),ee.awaitDrain++),Q.pause())}function H(ft){W("onerror",ft),J(),E.removeListener("error",H),te(E,"error")===0&&q(E,ft)}function z(){E.removeListener("finish",Y),J()}function Y(){W("onfinish"),E.removeListener("close",z),J()}function J(){W("unpipe"),Q.unpipe(E)}var Q=this,ee=this._readableState;switch(ee.pipesCount){case 0:ee.pipes=E;break;case 1:ee.pipes=[ee.pipes,E];break;default:ee.pipes.push(E)}ee.pipesCount+=1,W("pipe count=%d opts=%j",ee.pipesCount,n);var le=(!n||n.end!==!1)&&E!==s.stdout&&E!==s.stderr,Ke=le?p:J;ee.endEmitted?s.nextTick(Ke):Q.once("end",Ke),E.on("unpipe",l);var Ze=k(Q);E.on("drain",Ze);var Ct=!1;return Q.on("data",I),u(E,"error",H),E.once("close",z),E.once("finish",Y),E.emit("pipe",Q),ee.flowing||(W("pipe resume"),Q.resume()),E},m.prototype.unpipe=function(E){var n=this._readableState,l={hasUnpiped:!1};if(n.pipesCount===0)return this;if(n.pipesCount===1)return E&&E!==n.pipes?this:(E||(E=n.pipes),n.pipes=null,n.pipesCount=0,n.flowing=!1,E&&E.emit("unpipe",this,l),this);if(!E){var p=n.pipes,N=n.pipesCount;n.pipes=null,n.pipesCount=0,n.flowing=!1;for(var I=0;I<N;I++)p[I].emit("unpipe",this,{hasUnpiped:!1});return this}var H=U(n.pipes,E);return H===-1?this:(n.pipes.splice(H,1),n.pipesCount-=1,n.pipesCount===1&&(n.pipes=n.pipes[0]),E.emit("unpipe",this,l),this)},m.prototype.on=function(E,n){var l=re.prototype.on.call(this,E,n),p=this._readableState;return E==="data"?(p.readableListening=0<this.listenerCount("readable"),p.flowing!==!1&&this.resume()):E=="readable"&&!p.endEmitted&&!p.readableListening&&(p.readableListening=p.needReadable=!0,p.flowing=!1,p.emittedReadable=!1,W("on readable",p.length,p.reading),p.length?y(this):!p.reading&&s.nextTick(x,this)),l},m.prototype.addListener=m.prototype.on,m.prototype.removeListener=function(E,n){var l=re.prototype.removeListener.call(this,E,n);return E==="readable"&&s.nextTick(F,this),l},m.prototype.removeAllListeners=function(E){var n=re.prototype.removeAllListeners.apply(this,arguments);return(E==="readable"||E===void 0)&&s.nextTick(F,this),n},m.prototype.resume=function(){var E=this._readableState;return E.flowing||(W("resume"),E.flowing=!E.readableListening,S(this,E)),E.paused=!1,this},m.prototype.pause=function(){return W("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(W("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},m.prototype.wrap=function(E){var n=this,l=this._readableState,p=!1;for(var N in E.on("end",function(){if(W("wrapped end"),l.decoder&&!l.ended){var H=l.decoder.end();H&&H.length&&n.push(H)}n.push(null)}),E.on("data",function(H){if(W("wrapped data"),l.decoder&&(H=l.decoder.write(H)),!(l.objectMode&&H==null)&&(l.objectMode||H&&H.length)){var z=n.push(H);z||(p=!0,E.pause())}}),E)this[N]===void 0&&typeof E[N]=="function"&&(this[N]=function(H){return function(){return E[H].apply(E,arguments)}}(N));for(var I=0;I<V.length;I++)E.on(V[I],this.emit.bind(this,V[I]));return this._read=function(H){W("wrapped _read",H),p&&(p=!1,E.resume())},this},typeof Symbol=="function"&&(m.prototype[Symbol.asyncIterator]=function(){return Ee===void 0&&(Ee=d("./internal/streams/async_iterator")),Ee(this)}),Object.defineProperty(m.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(m.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(m.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(E){this._readableState&&(this._readableState.flowing=E)}}),m._fromList=K,Object.defineProperty(m.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(m.from=function(E,n){return Ae===void 0&&(Ae=d("./internal/streams/from")),Ae(m,E,n)})}).call(this)}).call(this,d("_process"),typeof Be>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Be)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/async_iterator":21,"./internal/streams/buffer_list":22,"./internal/streams/destroy":23,"./internal/streams/from":25,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,events:7,inherits:10,"string_decoder/":31,util:2}],19:[function(d,a){function s(R,B){var b=this._transformState;b.transforming=!1;var y=b.writecb;if(y===null)return this.emit("error",new m);b.writechunk=null,b.writecb=null,B!=null&&this.push(B),y(R);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function o(R){return this instanceof o?(M.call(this,R),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,R&&(typeof R.transform=="function"&&(this._transform=R.transform),typeof R.flush=="function"&&(this._flush=R.flush)),void this.on("prefinish",f)):new o(R)}function f(){var R=this;typeof this._flush!="function"||this._readableState.destroyed?g(this,null,null):this._flush(function(B,b){g(R,B,b)})}function g(R,B,b){if(B)return R.emit("error",B);if(b!=null&&R.push(b),R._writableState.length)throw new w;if(R._transformState.transforming)throw new _;return R.push(null)}a.exports=o;var u=d("../errors").codes,h=u.ERR_METHOD_NOT_IMPLEMENTED,m=u.ERR_MULTIPLE_CALLBACK,_=u.ERR_TRANSFORM_ALREADY_TRANSFORMING,w=u.ERR_TRANSFORM_WITH_LENGTH_0,M=d("./_stream_duplex");d("inherits")(o,M),o.prototype.push=function(R,B){return this._transformState.needTransform=!1,M.prototype.push.call(this,R,B)},o.prototype._transform=function(R,B,b){b(new h("_transform()"))},o.prototype._write=function(R,B,b){var y=this._transformState;if(y.writecb=b,y.writechunk=R,y.writeencoding=B,!y.transforming){var v=this._readableState;(y.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},o.prototype._read=function(){var R=this._transformState;R.writechunk===null||R.transforming?R.needTransform=!0:(R.transforming=!0,this._transform(R.writechunk,R.writeencoding,R.afterTransform))},o.prototype._destroy=function(R,B){M.prototype._destroy.call(this,R,function(b){B(b)})}},{"../errors":15,"./_stream_duplex":16,inherits:10}],20:[function(d,a){(function(s,o){(function(){function f(L){var P=this;this.next=null,this.entry=null,this.finish=function(){Z(P,L)}}function g(L){return W.from(L)}function u(L){return W.isBuffer(L)||L instanceof te}function h(){}function m(L,P,q){O=O||d("./_stream_duplex"),L=L||{},typeof q!="boolean"&&(q=P instanceof O),this.objectMode=!!L.objectMode,q&&(this.objectMode=this.objectMode||!!L.writableObjectMode),this.highWaterMark=se(this,L,"writableHighWaterMark",q),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var V=L.decodeStrings===!1;this.decodeStrings=!V,this.defaultEncoding=L.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(E){A(P,E)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=L.emitClose!==!1,this.autoDestroy=!!L.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new f(this)}function _(L){O=O||d("./_stream_duplex");var P=this instanceof O;return P||ye.call(_,this)?(this._writableState=new m(L,this,P),this.writable=!0,L&&(typeof L.write=="function"&&(this._write=L.write),typeof L.writev=="function"&&(this._writev=L.writev),typeof L.destroy=="function"&&(this._destroy=L.destroy),typeof L.final=="function"&&(this._final=L.final)),void $.call(this)):new _(L)}function w(L,P){var q=new Ve;he(L,q),s.nextTick(P,q)}function M(L,P,q,V){var E;return q===null?E=new Ie:typeof q!="string"&&!P.objectMode&&(E=new de("chunk",["string","Buffer"],q)),!E||(he(L,E),s.nextTick(V,E),!1)}function R(L,P,q){return L.objectMode||L.decodeStrings===!1||typeof P!="string"||(P=W.from(P,q)),P}function B(L,P,q,V,E,n){if(!q){var l=R(P,V,E);V!==l&&(q=!0,E="buffer",V=l)}var p=P.objectMode?1:V.length;P.length+=p;var N=P.length<P.highWaterMark;if(N||(P.needDrain=!0),P.writing||P.corked){var I=P.lastBufferedRequest;P.lastBufferedRequest={chunk:V,encoding:E,isBuf:q,callback:n,next:null},I?I.next=P.lastBufferedRequest:P.bufferedRequest=P.lastBufferedRequest,P.bufferedRequestCount+=1}else b(L,P,!1,p,V,E,n);return N}function b(L,P,q,V,E,n,l){P.writelen=V,P.writecb=l,P.writing=!0,P.sync=!0,P.destroyed?P.onwrite(new Oe("write")):q?L._writev(E,P.onwrite):L._write(E,n,P.onwrite),P.sync=!1}function y(L,P,q,V,E){--P.pendingcb,q?(s.nextTick(E,V),s.nextTick(D,L,P),L._writableState.errorEmitted=!0,he(L,V)):(E(V),L._writableState.errorEmitted=!0,he(L,V),D(L,P))}function v(L){L.writing=!1,L.writecb=null,L.length-=L.writelen,L.writelen=0}function A(L,P){var q=L._writableState,V=q.sync,E=q.writecb;if(typeof E!="function")throw new Ae;if(v(q),P)y(L,q,V,P,E);else{var n=x(q)||L.destroyed;n||q.corked||q.bufferProcessing||!q.bufferedRequest||F(L,q),V?s.nextTick(C,L,q,n,E):C(L,q,n,E)}}function C(L,P,q,V){q||k(L,P),P.pendingcb--,V(),D(L,P)}function k(L,P){P.length===0&&P.needDrain&&(P.needDrain=!1,L.emit("drain"))}function F(L,P){P.bufferProcessing=!0;var q=P.bufferedRequest;if(L._writev&&q&&q.next){var V=P.bufferedRequestCount,E=Array(V),n=P.corkedRequestsFree;n.entry=q;for(var l=0,p=!0;q;)E[l]=q,q.isBuf||(p=!1),q=q.next,l+=1;E.allBuffers=p,b(L,P,!0,P.length,E,"",n.finish),P.pendingcb++,P.lastBufferedRequest=null,n.next?(P.corkedRequestsFree=n.next,n.next=null):P.corkedRequestsFree=new f(P),P.bufferedRequestCount=0}else{for(;q;){var N=q.chunk,I=q.encoding,H=q.callback,z=P.objectMode?1:N.length;if(b(L,P,!1,z,N,I,H),q=q.next,P.bufferedRequestCount--,P.writing)break}q===null&&(P.lastBufferedRequest=null)}P.bufferedRequest=q,P.bufferProcessing=!1}function x(L){return L.ending&&L.length===0&&L.bufferedRequest===null&&!L.finished&&!L.writing}function S(L,P){L._final(function(q){P.pendingcb--,q&&he(L,q),P.prefinished=!0,L.emit("prefinish"),D(L,P)})}function T(L,P){P.prefinished||P.finalCalled||(typeof L._final!="function"||P.destroyed?(P.prefinished=!0,L.emit("prefinish")):(P.pendingcb++,P.finalCalled=!0,s.nextTick(S,L,P)))}function D(L,P){var q=x(P);if(q&&(T(L,P),P.pendingcb===0&&(P.finished=!0,L.emit("finish"),P.autoDestroy))){var V=L._readableState;(!V||V.autoDestroy&&V.endEmitted)&&L.destroy()}return q}function K(L,P,q){P.ending=!0,D(L,P),q&&(P.finished?s.nextTick(q):L.once("finish",q)),P.ended=!0,L.writable=!1}function Z(L,P,q){var V=L.entry;for(L.entry=null;V;){var E=V.callback;P.pendingcb--,E(q),V=V.next}P.corkedRequestsFree.next=L}a.exports=_;var O;_.WritableState=m;var U={deprecate:d("util-deprecate")},$=d("./internal/streams/stream"),W=d("buffer").Buffer,te=o.Uint8Array||function(){},re=d("./internal/streams/destroy"),ae=d("./internal/streams/state"),se=ae.getHighWaterMark,ne=d("../errors").codes,de=ne.ERR_INVALID_ARG_TYPE,Ee=ne.ERR_METHOD_NOT_IMPLEMENTED,Ae=ne.ERR_MULTIPLE_CALLBACK,Me=ne.ERR_STREAM_CANNOT_PIPE,Oe=ne.ERR_STREAM_DESTROYED,Ie=ne.ERR_STREAM_NULL_VALUES,Ve=ne.ERR_STREAM_WRITE_AFTER_END,ke=ne.ERR_UNKNOWN_ENCODING,he=re.errorOrDestroy;d("inherits")(_,$),m.prototype.getBuffer=function(){for(var L=this.bufferedRequest,P=[];L;)P.push(L),L=L.next;return P},function(){try{Object.defineProperty(m.prototype,"buffer",{get:U.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ye;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ye=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(L){return!!ye.call(this,L)||this===_&&L&&L._writableState instanceof m}})):ye=function(L){return L instanceof this},_.prototype.pipe=function(){he(this,new Me)},_.prototype.write=function(L,P,q){var V=this._writableState,E=!1,n=!V.objectMode&&u(L);return n&&!W.isBuffer(L)&&(L=g(L)),typeof P=="function"&&(q=P,P=null),n?P="buffer":!P&&(P=V.defaultEncoding),typeof q!="function"&&(q=h),V.ending?w(this,q):(n||M(this,V,L,q))&&(V.pendingcb++,E=B(this,V,n,L,P,q)),E},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){var L=this._writableState;L.corked&&(L.corked--,!L.writing&&!L.corked&&!L.bufferProcessing&&L.bufferedRequest&&F(this,L))},_.prototype.setDefaultEncoding=function(L){if(typeof L=="string"&&(L=L.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((L+"").toLowerCase())))throw new ke(L);return this._writableState.defaultEncoding=L,this},Object.defineProperty(_.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_.prototype._write=function(L,P,q){q(new Ee("_write()"))},_.prototype._writev=null,_.prototype.end=function(L,P,q){var V=this._writableState;return typeof L=="function"?(q=L,L=null,P=null):typeof P=="function"&&(q=P,P=null),L!=null&&this.write(L,P),V.corked&&(V.corked=1,this.uncork()),V.ending||K(this,V,q),this},Object.defineProperty(_.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(L){this._writableState&&(this._writableState.destroyed=L)}}),_.prototype.destroy=re.destroy,_.prototype._undestroy=re.undestroy,_.prototype._destroy=function(L,P){P(L)}}).call(this)}).call(this,d("_process"),typeof Be>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Be)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/destroy":23,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,inherits:10,"util-deprecate":32}],21:[function(d,a){(function(s){(function(){function o(k,F,x){return F in k?Object.defineProperty(k,F,{value:x,enumerable:!0,configurable:!0,writable:!0}):k[F]=x,k}function f(k,F){return{value:k,done:F}}function g(k){var F=k[w];if(F!==null){var x=k[v].read();x!==null&&(k[b]=null,k[w]=null,k[M]=null,F(f(x,!1)))}}function u(k){s.nextTick(g,k)}function h(k,F){return function(x,S){k.then(function(){return F[B]?void x(f(void 0,!0)):void F[y](x,S)},S)}}var m,_=d("./end-of-stream"),w=Symbol("lastResolve"),M=Symbol("lastReject"),R=Symbol("error"),B=Symbol("ended"),b=Symbol("lastPromise"),y=Symbol("handlePromise"),v=Symbol("stream"),A=Object.getPrototypeOf(function(){}),C=Object.setPrototypeOf((m={get stream(){return this[v]},next:function(){var k=this,F=this[R];if(F!==null)return Promise.reject(F);if(this[B])return Promise.resolve(f(void 0,!0));if(this[v].destroyed)return new Promise(function(D,K){s.nextTick(function(){k[R]?K(k[R]):D(f(void 0,!0))})});var x,S=this[b];if(S)x=new Promise(h(S,this));else{var T=this[v].read();if(T!==null)return Promise.resolve(f(T,!1));x=new Promise(this[y])}return this[b]=x,x}},o(m,Symbol.asyncIterator,function(){return this}),o(m,"return",function(){var k=this;return new Promise(function(F,x){k[v].destroy(null,function(S){return S?void x(S):void F(f(void 0,!0))})})}),m),A);a.exports=function(k){var F,x=Object.create(C,(F={},o(F,v,{value:k,writable:!0}),o(F,w,{value:null,writable:!0}),o(F,M,{value:null,writable:!0}),o(F,R,{value:null,writable:!0}),o(F,B,{value:k._readableState.endEmitted,writable:!0}),o(F,y,{value:function(S,T){var D=x[v].read();D?(x[b]=null,x[w]=null,x[M]=null,S(f(D,!1))):(x[w]=S,x[M]=T)},writable:!0}),F));return x[b]=null,_(k,function(S){if(S&&S.code!=="ERR_STREAM_PREMATURE_CLOSE"){var T=x[M];return T!==null&&(x[b]=null,x[w]=null,x[M]=null,T(S)),void(x[R]=S)}var D=x[w];D!==null&&(x[b]=null,x[w]=null,x[M]=null,D(f(void 0,!0))),x[B]=!0}),k.on("readable",u.bind(null,x)),x}}).call(this)}).call(this,d("_process"))},{"./end-of-stream":24,_process:12}],22:[function(d,a){function s(b,y){var v=Object.keys(b);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(b);y&&(A=A.filter(function(C){return Object.getOwnPropertyDescriptor(b,C).enumerable})),v.push.apply(v,A)}return v}function o(b){for(var y,v=1;v<arguments.length;v++)y=arguments[v]==null?{}:arguments[v],v%2?s(Object(y),!0).forEach(function(A){f(b,A,y[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(y)):s(Object(y)).forEach(function(A){Object.defineProperty(b,A,Object.getOwnPropertyDescriptor(y,A))});return b}function f(b,y,v){return y in b?Object.defineProperty(b,y,{value:v,enumerable:!0,configurable:!0,writable:!0}):b[y]=v,b}function g(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function u(b,y){for(var v,A=0;A<y.length;A++)v=y[A],v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(b,v.key,v)}function h(b,y,v){return y&&u(b.prototype,y),v&&u(b,v),b}function m(b,y,v){w.prototype.copy.call(b,y,v)}var _=d("buffer"),w=_.Buffer,M=d("util"),R=M.inspect,B=R&&R.custom||"inspect";a.exports=function(){function b(){g(this,b),this.head=null,this.tail=null,this.length=0}return h(b,[{key:"push",value:function(y){var v={data:y,next:null};0<this.length?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(y){var v={data:y,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var y=this.head.data;return this.head=this.length===1?this.tail=null:this.head.next,--this.length,y}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(y){if(this.length===0)return"";for(var v=this.head,A=""+v.data;v=v.next;)A+=y+v.data;return A}},{key:"concat",value:function(y){if(this.length===0)return w.alloc(0);for(var v=w.allocUnsafe(y>>>0),A=this.head,C=0;A;)m(A.data,v,C),C+=A.data.length,A=A.next;return v}},{key:"consume",value:function(y,v){var A;return y<this.head.data.length?(A=this.head.data.slice(0,y),this.head.data=this.head.data.slice(y)):y===this.head.data.length?A=this.shift():A=v?this._getString(y):this._getBuffer(y),A}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(y){var v=this.head,A=1,C=v.data;for(y-=C.length;v=v.next;){var k=v.data,F=y>k.length?k.length:y;if(C+=F===k.length?k:k.slice(0,y),y-=F,y===0){F===k.length?(++A,this.head=v.next?v.next:this.tail=null):(this.head=v,v.data=k.slice(F));break}++A}return this.length-=A,C}},{key:"_getBuffer",value:function(y){var v=w.allocUnsafe(y),A=this.head,C=1;for(A.data.copy(v),y-=A.data.length;A=A.next;){var k=A.data,F=y>k.length?k.length:y;if(k.copy(v,v.length-y,0,F),y-=F,y===0){F===k.length?(++C,this.head=A.next?A.next:this.tail=null):(this.head=A,A.data=k.slice(F));break}++C}return this.length-=C,v}},{key:B,value:function(y,v){return R(this,o({},v,{depth:0,customInspect:!1}))}}]),b}()},{buffer:3,util:2}],23:[function(d,a){(function(s){(function(){function o(u,h){g(u,h),f(u)}function f(u){u._writableState&&!u._writableState.emitClose||u._readableState&&!u._readableState.emitClose||u.emit("close")}function g(u,h){u.emit("error",h)}a.exports={destroy:function(u,h){var m=this,_=this._readableState&&this._readableState.destroyed,w=this._writableState&&this._writableState.destroyed;return _||w?(h?h(u):u&&(this._writableState?!this._writableState.errorEmitted&&(this._writableState.errorEmitted=!0,s.nextTick(g,this,u)):s.nextTick(g,this,u)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(u||null,function(M){!h&&M?m._writableState?m._writableState.errorEmitted?s.nextTick(f,m):(m._writableState.errorEmitted=!0,s.nextTick(o,m,M)):s.nextTick(o,m,M):h?(s.nextTick(f,m),h(M)):s.nextTick(f,m)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(u,h){var m=u._readableState,_=u._writableState;m&&m.autoDestroy||_&&_.autoDestroy?u.destroy(h):u.emit("error",h)}}}).call(this)}).call(this,d("_process"))},{_process:12}],24:[function(d,a){function s(h){var m=!1;return function(){if(!m){m=!0;for(var _=arguments.length,w=Array(_),M=0;M<_;M++)w[M]=arguments[M];h.apply(this,w)}}}function o(){}function f(h){return h.setHeader&&typeof h.abort=="function"}function g(h,m,_){if(typeof m=="function")return g(h,null,m);m||(m={}),_=s(_||o);var w=m.readable||m.readable!==!1&&h.readable,M=m.writable||m.writable!==!1&&h.writable,R=function(){h.writable||b()},B=h._writableState&&h._writableState.finished,b=function(){M=!1,B=!0,w||_.call(h)},y=h._readableState&&h._readableState.endEmitted,v=function(){w=!1,y=!0,M||_.call(h)},A=function(F){_.call(h,F)},C=function(){var F;return w&&!y?(h._readableState&&h._readableState.ended||(F=new u),_.call(h,F)):M&&!B?(h._writableState&&h._writableState.ended||(F=new u),_.call(h,F)):void 0},k=function(){h.req.on("finish",b)};return f(h)?(h.on("complete",b),h.on("abort",C),h.req?k():h.on("request",k)):M&&!h._writableState&&(h.on("end",R),h.on("close",R)),h.on("end",v),h.on("finish",b),m.error!==!1&&h.on("error",A),h.on("close",C),function(){h.removeListener("complete",b),h.removeListener("abort",C),h.removeListener("request",k),h.req&&h.req.removeListener("finish",b),h.removeListener("end",R),h.removeListener("close",R),h.removeListener("finish",b),h.removeListener("end",v),h.removeListener("error",A),h.removeListener("close",C)}}var u=d("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;a.exports=g},{"../../../errors":15}],25:[function(d,a){a.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],26:[function(d,a){function s(B){var b=!1;return function(){b||(b=!0,B.apply(void 0,arguments))}}function o(B){if(B)throw B}function f(B){return B.setHeader&&typeof B.abort=="function"}function g(B,b,y,v){v=s(v);var A=!1;B.on("close",function(){A=!0}),_===void 0&&(_=d("./end-of-stream")),_(B,{readable:b,writable:y},function(k){return k?v(k):(A=!0,void v())});var C=!1;return function(k){if(!A)return C?void 0:(C=!0,f(B)?B.abort():typeof B.destroy=="function"?B.destroy():void v(k||new R("pipe")))}}function u(B){B()}function h(B,b){return B.pipe(b)}function m(B){return B.length&&typeof B[B.length-1]=="function"?B.pop():o}var _,w=d("../../../errors").codes,M=w.ERR_MISSING_ARGS,R=w.ERR_STREAM_DESTROYED;a.exports=function(){for(var B=arguments.length,b=Array(B),y=0;y<B;y++)b[y]=arguments[y];var v=m(b);if(Array.isArray(b[0])&&(b=b[0]),2>b.length)throw new M("streams");var A,C=b.map(function(k,F){var x=F<b.length-1;return g(k,x,0<F,function(S){A||(A=S),S&&C.forEach(u),x||(C.forEach(u),v(A))})});return b.reduce(h)}},{"../../../errors":15,"./end-of-stream":24}],27:[function(d,a){function s(f,g,u){return f.highWaterMark==null?g?f[u]:null:f.highWaterMark}var o=d("../../../errors").codes.ERR_INVALID_OPT_VALUE;a.exports={getHighWaterMark:function(f,g,u,h){var m=s(g,h,u);if(m!=null){if(!(isFinite(m)&&r(m)===m)||0>m){var _=h?u:"highWaterMark";throw new o(_,m)}return r(m)}return f.objectMode?16:16384}}},{"../../../errors":15}],28:[function(d,a){a.exports=d("events").EventEmitter},{events:7}],29:[function(d,a,s){s=a.exports=d("./lib/_stream_readable.js"),s.Stream=s,s.Readable=s,s.Writable=d("./lib/_stream_writable.js"),s.Duplex=d("./lib/_stream_duplex.js"),s.Transform=d("./lib/_stream_transform.js"),s.PassThrough=d("./lib/_stream_passthrough.js"),s.finished=d("./lib/internal/streams/end-of-stream.js"),s.pipeline=d("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":16,"./lib/_stream_passthrough.js":17,"./lib/_stream_readable.js":18,"./lib/_stream_transform.js":19,"./lib/_stream_writable.js":20,"./lib/internal/streams/end-of-stream.js":24,"./lib/internal/streams/pipeline.js":26}],30:[function(d,a,s){function o(h,m){for(var _ in h)m[_]=h[_]}function f(h,m,_){return u(h,m,_)}/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var g=d("buffer"),u=g.Buffer;u.from&&u.alloc&&u.allocUnsafe&&u.allocUnsafeSlow?a.exports=g:(o(g,s),s.Buffer=f),f.prototype=Object.create(u.prototype),o(u,f),f.from=function(h,m,_){if(typeof h=="number")throw new TypeError("Argument must not be a number");return u(h,m,_)},f.alloc=function(h,m,_){if(typeof h!="number")throw new TypeError("Argument must be a number");var w=u(h);return m===void 0?w.fill(0):typeof _=="string"?w.fill(m,_):w.fill(m),w},f.allocUnsafe=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return u(h)},f.allocUnsafeSlow=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return g.SlowBuffer(h)}},{buffer:3}],31:[function(d,a,s){function o(C){if(!C)return"utf8";for(var k;;)switch(C){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return C;default:if(k)return;C=(""+C).toLowerCase(),k=!0}}function f(C){var k=o(C);if(typeof k!="string"&&(v.isEncoding===A||!A(C)))throw new Error("Unknown encoding: "+C);return k||C}function g(C){this.encoding=f(C);var k;switch(this.encoding){case"utf16le":this.text=w,this.end=M,k=4;break;case"utf8":this.fillLast=_,k=4;break;case"base64":this.text=R,this.end=B,k=3;break;default:return this.write=b,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=v.allocUnsafe(k)}function u(C){return 127>=C?0:C>>5==6?2:C>>4==14?3:C>>3==30?4:C>>6==2?-1:-2}function h(C,k,F){var x=k.length-1;if(x<F)return 0;var S=u(k[x]);return 0<=S?(0<S&&(C.lastNeed=S-1),S):--x<F||S===-2?0:(S=u(k[x]),0<=S?(0<S&&(C.lastNeed=S-2),S):--x<F||S===-2?0:(S=u(k[x]),0<=S?(0<S&&(S===2?S=0:C.lastNeed=S-3),S):0))}function m(C,k){if((192&k[0])!=128)return C.lastNeed=0,"�";if(1<C.lastNeed&&1<k.length){if((192&k[1])!=128)return C.lastNeed=1,"�";if(2<C.lastNeed&&2<k.length&&(192&k[2])!=128)return C.lastNeed=2,"�"}}function _(C){var k=this.lastTotal-this.lastNeed,F=m(this,C);return F===void 0?this.lastNeed<=C.length?(C.copy(this.lastChar,k,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(C.copy(this.lastChar,k,0,C.length),void(this.lastNeed-=C.length)):F}function w(C,k){if((C.length-k)%2==0){var F=C.toString("utf16le",k);if(F){var x=F.charCodeAt(F.length-1);if(55296<=x&&56319>=x)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=C[C.length-2],this.lastChar[1]=C[C.length-1],F.slice(0,-1)}return F}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=C[C.length-1],C.toString("utf16le",k,C.length-1)}function M(C){var k=C&&C.length?this.write(C):"";if(this.lastNeed){var F=this.lastTotal-this.lastNeed;return k+this.lastChar.toString("utf16le",0,F)}return k}function R(C,k){var F=(C.length-k)%3;return F==0?C.toString("base64",k):(this.lastNeed=3-F,this.lastTotal=3,F==1?this.lastChar[0]=C[C.length-1]:(this.lastChar[0]=C[C.length-2],this.lastChar[1]=C[C.length-1]),C.toString("base64",k,C.length-F))}function B(C){var k=C&&C.length?this.write(C):"";return this.lastNeed?k+this.lastChar.toString("base64",0,3-this.lastNeed):k}function b(C){return C.toString(this.encoding)}function y(C){return C&&C.length?this.write(C):""}var v=d("safe-buffer").Buffer,A=v.isEncoding||function(C){switch(C=""+C,C&&C.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};s.StringDecoder=g,g.prototype.write=function(C){if(C.length===0)return"";var k,F;if(this.lastNeed){if(k=this.fillLast(C),k===void 0)return"";F=this.lastNeed,this.lastNeed=0}else F=0;return F<C.length?k?k+this.text(C,F):this.text(C,F):k||""},g.prototype.end=function(C){var k=C&&C.length?this.write(C):"";return this.lastNeed?k+"�":k},g.prototype.text=function(C,k){var F=h(this,C,k);if(!this.lastNeed)return C.toString("utf8",k);this.lastTotal=F;var x=C.length-(F-this.lastNeed);return C.copy(this.lastChar,0,x),C.toString("utf8",k,x)},g.prototype.fillLast=function(C){return this.lastNeed<=C.length?(C.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(C.copy(this.lastChar,this.lastTotal-this.lastNeed,0,C.length),void(this.lastNeed-=C.length))}},{"safe-buffer":30}],32:[function(d,a){(function(s){(function(){function o(f){try{if(!s.localStorage)return!1}catch{return!1}var g=s.localStorage[f];return g!=null&&(g+"").toLowerCase()==="true"}a.exports=function(f,g){function u(){if(!h){if(o("throwDeprecation"))throw new Error(g);o("traceDeprecation")?console.trace(g):console.warn(g),h=!0}return f.apply(this,arguments)}if(o("noDeprecation"))return f;var h=!1;return u}}).call(this)}).call(this,typeof Be>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Be)},{}],"/":[function(d,a){function s(B){return B.replace(/a=ice-options:trickle\s\n/g,"")}function o(B){console.warn(B)}/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const f=d("debug")("simple-peer"),g=d("get-browser-rtc"),u=d("randombytes"),h=d("readable-stream"),m=d("queue-microtask"),_=d("err-code"),{Buffer:w}=d("buffer"),M=65536;class R extends h.Duplex{constructor(b){if(b=Object.assign({allowHalfOpen:!1},b),super(b),this._id=u(4).toString("hex").slice(0,7),this._debug("new peer %o",b),this.channelName=b.initiator?b.channelName||u(20).toString("hex"):null,this.initiator=b.initiator||!1,this.channelConfig=b.channelConfig||R.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},R.config,b.config),this.offerOptions=b.offerOptions||{},this.answerOptions=b.answerOptions||{},this.sdpTransform=b.sdpTransform||(y=>y),this.streams=b.streams||(b.stream?[b.stream]:[]),this.trickle=b.trickle===void 0||b.trickle,this.allowHalfTrickle=b.allowHalfTrickle!==void 0&&b.allowHalfTrickle,this.iceCompleteTimeout=b.iceCompleteTimeout||5e3,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=b.wrtc&&typeof b.wrtc=="object"?b.wrtc:g(),!this._wrtc)throw _(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(y){return void this.destroy(_(y,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=y=>{this._onIceCandidate(y)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(y=>{this.destroy(_(y,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=y=>{this._setupData(y)},this.streams&&this.streams.forEach(y=>{this.addStream(y)}),this._pc.ontrack=y=>{this._onTrack(y)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(b){if(!this.destroying){if(this.destroyed)throw _(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof b=="string")try{b=JSON.parse(b)}catch{b={}}this._debug("signal()"),b.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),b.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(b.transceiverRequest.kind,b.transceiverRequest.init)),b.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(b.candidate):this._pendingCandidates.push(b.candidate)),b.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(b)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(y=>{this._addIceCandidate(y)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(y=>{this.destroy(_(y,"ERR_SET_REMOTE_DESCRIPTION"))}),b.sdp||b.candidate||b.renegotiate||b.transceiverRequest||this.destroy(_(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(b){const y=new this._wrtc.RTCIceCandidate(b);this._pc.addIceCandidate(y).catch(v=>{!y.address||y.address.endsWith(".local")?o("Ignoring unsupported ICE candidate."):this.destroy(_(v,"ERR_ADD_ICE_CANDIDATE"))})}send(b){if(!this.destroying){if(this.destroyed)throw _(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(b)}}addTransceiver(b,y){if(!this.destroying){if(this.destroyed)throw _(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(b,y),this._needsNegotiation()}catch(v){this.destroy(_(v,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:b,init:y}})}}addStream(b){if(!this.destroying){if(this.destroyed)throw _(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),b.getTracks().forEach(y=>{this.addTrack(y,b)})}}addTrack(b,y){if(this.destroying)return;if(this.destroyed)throw _(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const v=this._senderMap.get(b)||new Map;let A=v.get(y);if(!A)A=this._pc.addTrack(b,y),v.set(y,A),this._senderMap.set(b,v),this._needsNegotiation();else throw A.removed?_(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):_(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(b,y,v){if(this.destroying)return;if(this.destroyed)throw _(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const A=this._senderMap.get(b),C=A?A.get(v):null;if(!C)throw _(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");y&&this._senderMap.set(y,A),C.replaceTrack==null?this.destroy(_(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK")):C.replaceTrack(y)}removeTrack(b,y){if(this.destroying)return;if(this.destroyed)throw _(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const v=this._senderMap.get(b),A=v?v.get(y):null;if(!A)throw _(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{A.removed=!0,this._pc.removeTrack(A)}catch(C){C.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(A):this.destroy(_(C,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(b){if(!this.destroying){if(this.destroyed)throw _(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),b.getTracks().forEach(y=>{this.removeTrack(y,b)})}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,m(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw _(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(b){this._destroy(b,()=>{})}_destroy(b,y){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",b&&(b.message||b)),m(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",b&&(b.message||b)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,b&&this.emit("error",b),this.emit("close"),y()}))}_setupData(b){if(!b.channel)return this.destroy(_(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=b.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=M),this.channelName=this._channel.label,this._channel.onmessage=v=>{this._onChannelMessage(v)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=v=>{const A=v.error instanceof Error?v.error:new Error(`Datachannel error: ${v.message} ${v.filename}:${v.lineno}:${v.colno}`);this.destroy(_(A,"ERR_DATA_CHANNEL"))};let y=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(y&&this._onChannelClose(),y=!0):y=!1},5e3)}_read(){}_write(b,y,v){if(this.destroyed)return v(_(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(b)}catch(A){return this.destroy(_(A,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>M?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=v):v(null)}else this._debug("write before connect"),this._chunk=b,this._cb=v}_onFinish(){if(!this.destroyed){const b=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?b():this.once("connect",b)}}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(b=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(b.sdp=s(b.sdp)),b.sdp=this.sdpTransform(b.sdp);const y=()=>{if(!this.destroyed){const v=this._pc.localDescription||b;this._debug("signal"),this.emit("signal",{type:v.type,sdp:v.sdp})}};this._pc.setLocalDescription(b).then(()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?y():this.once("_iceComplete",y))}).catch(v=>{this.destroy(_(v,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(b=>{this.destroy(_(b,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(b=>{b.mid||!b.sender.track||b.requested||(b.requested=!0,this.addTransceiver(b.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(b=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(b.sdp=s(b.sdp)),b.sdp=this.sdpTransform(b.sdp);const y=()=>{if(!this.destroyed){const v=this._pc.localDescription||b;this._debug("signal"),this.emit("signal",{type:v.type,sdp:v.sdp}),this.initiator||this._requestMissingTransceivers()}};this._pc.setLocalDescription(b).then(()=>{this.destroyed||(this.trickle||this._iceComplete?y():this.once("_iceComplete",y))}).catch(v=>{this.destroy(_(v,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(b=>{this.destroy(_(b,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(_(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const b=this._pc.iceConnectionState,y=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",b,y),this.emit("iceStateChange",b,y),(b==="connected"||b==="completed")&&(this._pcReady=!0,this._maybeReady()),b==="failed"&&this.destroy(_(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),b==="closed"&&this.destroy(_(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(b){const y=v=>(Object.prototype.toString.call(v.values)==="[object Array]"&&v.values.forEach(A=>{Object.assign(v,A)}),v);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(v=>{const A=[];v.forEach(C=>{A.push(y(C))}),b(null,A)},v=>b(v)):0<this._pc.getStats.length?this._pc.getStats(v=>{if(this.destroyed)return;const A=[];v.result().forEach(C=>{const k={};C.names().forEach(F=>{k[F]=C.stat(F)}),k.id=C.id,k.type=C.type,k.timestamp=C.timestamp,A.push(y(k))}),b(null,A)},v=>b(v)):b(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const b=()=>{this.destroyed||this.getStats((y,v)=>{if(this.destroyed)return;y&&(v=[]);const A={},C={},k={};let F=!1;v.forEach(S=>{(S.type==="remotecandidate"||S.type==="remote-candidate")&&(A[S.id]=S),(S.type==="localcandidate"||S.type==="local-candidate")&&(C[S.id]=S),(S.type==="candidatepair"||S.type==="candidate-pair")&&(k[S.id]=S)});const x=S=>{F=!0;let T=C[S.localCandidateId];T&&(T.ip||T.address)?(this.localAddress=T.ip||T.address,this.localPort=+T.port):T&&T.ipAddress?(this.localAddress=T.ipAddress,this.localPort=+T.portNumber):typeof S.googLocalAddress=="string"&&(T=S.googLocalAddress.split(":"),this.localAddress=T[0],this.localPort=+T[1]),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let D=A[S.remoteCandidateId];D&&(D.ip||D.address)?(this.remoteAddress=D.ip||D.address,this.remotePort=+D.port):D&&D.ipAddress?(this.remoteAddress=D.ipAddress,this.remotePort=+D.portNumber):typeof S.googRemoteAddress=="string"&&(D=S.googRemoteAddress.split(":"),this.remoteAddress=D[0],this.remotePort=+D[1]),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(v.forEach(S=>{S.type==="transport"&&S.selectedCandidatePairId&&x(k[S.selectedCandidatePairId]),(S.type==="googCandidatePair"&&S.googActiveConnection==="true"||(S.type==="candidatepair"||S.type==="candidate-pair")&&S.selected)&&x(S)}),!F&&(!Object.keys(k).length||Object.keys(C).length))return void setTimeout(b,100);if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(T){return this.destroy(_(T,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const S=this._cb;this._cb=null,S(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};b()}_onInterval(){this._cb&&this._channel&&!(this._channel.bufferedAmount>M)&&this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(b=>{this._pc.removeTrack(b),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(b){this.destroyed||(b.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:b.candidate.candidate,sdpMLineIndex:b.candidate.sdpMLineIndex,sdpMid:b.candidate.sdpMid}}):!b.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),b.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(b){if(this.destroyed)return;let y=b.data;y instanceof ArrayBuffer&&(y=w.from(y)),this.push(y)}_onChannelBufferedAmountLow(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const b=this._cb;this._cb=null,b(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(b){this.destroyed||b.streams.forEach(y=>{this._debug("on track"),this.emit("track",b.track,y),this._remoteTracks.push({track:b.track,stream:y}),this._remoteStreams.some(v=>v.id===y.id)||(this._remoteStreams.push(y),m(()=>{this._debug("on stream"),this.emit("stream",y)}))})}_debug(){const b=[].slice.call(arguments);b[0]="["+this._id+"] "+b[0],f.apply(null,b)}}R.WEBRTC_SUPPORT=!!g(),R.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},R.channelConfig={},a.exports=R},{buffer:3,debug:4,"err-code":6,"get-browser-rtc":8,"queue-microtask":13,randombytes:14,"readable-stream":29}]},{},[])("/")})})(Es);var Vh=Es.exports;const Kh=oi(Vh),yr=0,vr=1,ws=2,Ss=(e,t)=>{pe(e,yr);const r=la(t);Ye(e,r)},Cs=(e,t,r)=>{pe(e,vr),Ye(e,Lt(t,r))},Gh=(e,t,r)=>Cs(t,r,Dt(e)),Ts=(e,t,r,i)=>{try{cr(t,Dt(e),r)}catch(c){i?.(c),console.error("Caught error while handling a Yjs update",c)}},qh=(e,t)=>{pe(e,ws),Ye(e,t)},Wh=Ts,Yh=(e,t,r,i,c)=>{const d=Rt(e);switch(d){case yr:Gh(e,t,r);break;case vr:Ts(e,r,i,c);break;case ws:Wh(e,r,i,c);break;default:throw new Error("Unknown message type")}return d},Zh=(e,t)=>{const r=Dr(e).buffer,i=Dr(t).buffer;return crypto.subtle.importKey("raw",r,"PBKDF2",!1,["deriveKey"]).then(c=>crypto.subtle.deriveKey({name:"PBKDF2",salt:i,iterations:1e5,hash:"SHA-256"},c,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]))},As=(e,t)=>{if(!t)return lr(e);const r=crypto.getRandomValues(new Uint8Array(12));return crypto.subtle.encrypt({name:"AES-GCM",iv:r},t,e).then(i=>{const c=Ce();return wn(c,"AES-GCM"),Ye(c,r),Ye(c,new Uint8Array(i)),Ne(c)})},jh=(e,t)=>{const r=Ce();return fa(r,e),As(Ne(r),t)},Ns=(e,t)=>{if(!t)return lr(e);const r=Sn(e);ir(r)!=="AES-GCM"&&da(ar("Unknown encryption algorithm"));const c=Dt(r),d=Dt(r);return crypto.subtle.decrypt({name:"AES-GCM",iv:c},t,d).then(a=>new Uint8Array(a))},Xh=(e,t)=>Ns(e,t).then(r=>ua(Sn(new Uint8Array(r)))),Re=ha("y-webrtc"),Et=0,xs=3,$t=1,Er=4,_n=new Map,at=new Map,Rs=e=>{let t=!0;e.webrtcConns.forEach(r=>{r.synced||(t=!1)}),(!t&&e.synced||t&&!e.synced)&&(e.synced=t,e.provider.emit("synced",[{synced:t}]),Re("synced ",$e,e.name,Bt," with all peers"))},ks=(e,t,r)=>{const i=Sn(t),c=Ce(),d=Rt(i);if(e===void 0)return null;const a=e.awareness,s=e.doc;let o=!1;switch(d){case Et:{pe(c,Et);const f=Yh(i,c,s,e);f===vr&&!e.synced&&r(),f===yr&&(o=!0);break}case xs:pe(c,$t),Ye(c,hn(a,Array.from(a.getStates().keys()))),o=!0;break;case $t:vf(a,Dt(i),e);break;case Er:{const f=ba(i)===1,g=ir(i);if(g!==e.peerId&&(e.bcConns.has(g)&&!f||!e.bcConns.has(g)&&f)){const u=[],h=[];f?(e.bcConns.add(g),h.push(g)):(e.bcConns.delete(g),u.push(g)),e.provider.emit("peers",[{added:h,removed:u,webrtcPeers:Array.from(e.webrtcConns.keys()),bcPeers:Array.from(e.bcConns)}]),Ms(e)}break}default:return console.error("Unable to compute message"),c}return o?c:null},Qh=(e,t)=>{const r=e.room;return Re("received message from ",$e,e.remotePeerId,ki," (",r.name,")",Bt,Mi),ks(r,t,()=>{e.synced=!0,Re("synced ",$e,r.name,Bt," with ",$e,e.remotePeerId),Rs(r)})},Pn=(e,t)=>{Re("send message to ",$e,e.remotePeerId,Bt,ki," (",e.room.name,")",Mi);try{e.peer.send(Ne(t))}catch{}},Jh=(e,t)=>{Re("broadcast message in ",$e,e.name,Bt),e.webrtcConns.forEach(r=>{try{r.peer.send(t)}catch{}})};class ei{constructor(t,r,i,c){Re("establishing connection to ",$e,i),this.room=c,this.remotePeerId=i,this.glareToken=void 0,this.closed=!1,this.connected=!1,this.synced=!1,this.peer=new Kh({initiator:r,...c.provider.peerOpts}),this.peer.on("signal",d=>{this.glareToken===void 0&&(this.glareToken=Date.now()+Math.random()),wr(t,c,{to:i,from:c.peerId,type:"signal",token:this.glareToken,signal:d})}),this.peer.on("connect",()=>{Re("connected to ",$e,i),this.connected=!0;const a=c.provider.doc,s=c.awareness,o=Ce();pe(o,Et),Ss(o,a),Pn(this,o);const f=s.getStates();if(f.size>0){const g=Ce();pe(g,$t),Ye(g,hn(s,Array.from(f.keys()))),Pn(this,g)}}),this.peer.on("close",()=>{this.connected=!1,this.closed=!0,c.webrtcConns.has(this.remotePeerId)&&(c.webrtcConns.delete(this.remotePeerId),c.provider.emit("peers",[{removed:[this.remotePeerId],added:[],webrtcPeers:Array.from(c.webrtcConns.keys()),bcPeers:Array.from(c.bcConns)}])),Rs(c),this.peer.destroy(),Re("closed connection to ",$e,i),Jn(c)}),this.peer.on("error",d=>{Re("Error in connection to ",$e,i,": ",d),Jn(c)}),this.peer.on("data",d=>{const a=Qh(this,d);a!==null&&Pn(this,a)})}destroy(){this.peer.destroy()}}const je=(e,t)=>As(t,e.key).then(r=>e.mux(()=>zh(e.name,r))),ti=(e,t)=>{e.bcconnected&&je(e,t),Jh(e,t)},Jn=e=>{_n.forEach(t=>{t.connected&&(t.send({type:"subscribe",topics:[e.name]}),e.webrtcConns.size<e.provider.maxConns&&wr(t,e,{type:"announce",from:e.peerId}))})},Ms=e=>{if(e.provider.filterBcConns){const t=Ce();pe(t,Er),Ri(t,1),wn(t,e.peerId),je(e,Ne(t))}};class ep{constructor(t,r,i,c){this.peerId=ma(),this.doc=t,this.awareness=r.awareness,this.provider=r,this.synced=!1,this.name=i,this.key=c,this.webrtcConns=new Map,this.bcConns=new Set,this.mux=ls(),this.bcconnected=!1,this._bcSubscriber=d=>Ns(new Uint8Array(d),c).then(a=>this.mux(()=>{const s=ks(this,a,()=>{});s&&je(this,Ne(s))})),this._docUpdateHandler=(d,a)=>{const s=Ce();pe(s,Et),qh(s,d),ti(this,Ne(s))},this._awarenessUpdateHandler=({added:d,updated:a,removed:s},o)=>{const f=d.concat(a).concat(s),g=Ce();pe(g,$t),Ye(g,hn(this.awareness,f)),ti(this,Ne(g))},this._beforeUnloadHandler=()=>{qn(this.awareness,[t.clientID],"window unload"),at.forEach(d=>{d.disconnect()})},typeof window<"u"?window.addEventListener("beforeunload",this._beforeUnloadHandler):typeof process<"u"&&process.on("exit",this._beforeUnloadHandler)}connect(){this.doc.on("update",this._docUpdateHandler),this.awareness.on("update",this._awarenessUpdateHandler),Jn(this);const t=this.name;$h(t,this._bcSubscriber),this.bcconnected=!0,Ms(this);const r=Ce();pe(r,Et),Ss(r,this.doc),je(this,Ne(r));const i=Ce();pe(i,Et),Cs(i,this.doc),je(this,Ne(i));const c=Ce();pe(c,xs),je(this,Ne(c));const d=Ce();pe(d,$t),Ye(d,hn(this.awareness,[this.doc.clientID])),je(this,Ne(d))}disconnect(){_n.forEach(r=>{r.connected&&r.send({type:"unsubscribe",topics:[this.name]})}),qn(this.awareness,[this.doc.clientID],"disconnect");const t=Ce();pe(t,Er),Ri(t,0),wn(t,this.peerId),je(this,Ne(t)),Hh(this.name,this._bcSubscriber),this.bcconnected=!1,this.doc.off("update",this._docUpdateHandler),this.awareness.off("update",this._awarenessUpdateHandler),this.webrtcConns.forEach(r=>r.destroy())}destroy(){this.disconnect(),typeof window<"u"?window.removeEventListener("beforeunload",this._beforeUnloadHandler):typeof process<"u"&&process.off("exit",this._beforeUnloadHandler)}}const tp=(e,t,r,i)=>{if(at.has(r))throw ar(`A Yjs Doc connected to room "${r}" already exists!`);const c=new ep(e,t,r,i);return at.set(r,c),c},wr=(e,t,r)=>{t.key?jh(r,t.key).then(i=>{e.send({type:"publish",topic:t.name,data:sr(i)})}):e.send({type:"publish",topic:t.name,data:r})};class np extends Ph{constructor(t){super(t),this.providers=new Set,this.on("connect",()=>{Re(`connected (${t})`);const r=Array.from(at.keys());this.send({type:"subscribe",topics:r}),at.forEach(i=>wr(this,i,{type:"announce",from:i.peerId}))}),this.on("message",r=>{switch(r.type){case"publish":{const i=r.topic,c=at.get(i);if(c==null||typeof i!="string")return;const d=a=>{const s=c.webrtcConns,o=c.peerId;if(a==null||a.from===o||a.to!==void 0&&a.to!==o||c.bcConns.has(a.from))return;const f=s.has(a.from)?()=>{}:()=>c.provider.emit("peers",[{removed:[],added:[a.from],webrtcPeers:Array.from(c.webrtcConns.keys()),bcPeers:Array.from(c.bcConns)}]);switch(a.type){case"announce":s.size<c.provider.maxConns&&(wt(s,a.from,()=>new ei(this,!0,a.from,c)),f());break;case"signal":if(a.signal.type==="offer"){const g=s.get(a.from);if(g){const u=a.token,h=g.glareToken;if(h&&h>u){Re("offer rejected: ",a.from);return}g.glareToken=void 0}}if(a.signal.type==="answer"){Re("offer answered by: ",a.from);const g=s.get(a.from);g.glareToken=void 0}a.to===o&&(wt(s,a.from,()=>new ei(this,!1,a.from,c)).peer.signal(a.signal),f());break}};c.key?typeof r.data=="string"&&Xh(xi(r.data),c.key).then(d):d(r.data)}}}),this.on("disconnect",()=>Re(`disconnect (${t})`))}}const Un=e=>{e.emit("status",[{connected:e.connected}])};class rp extends pa{constructor(t,r,{signaling:i=["wss://y-webrtc-eu.fly.dev"],password:c=null,awareness:d=new yf(r),maxConns:a=20+yi(ga()*15),filterBcConns:s=!0,peerOpts:o={}}={}){super(),this.roomName=t,this.doc=r,this.filterBcConns=s,this.awareness=d,this.shouldConnect=!1,this.signalingUrls=i,this.signalingConns=[],this.maxConns=a,this.peerOpts=o,this.key=c?Zh(c,t):lr(null),this.room=null,this.key.then(f=>{this.room=tp(r,this,t,f),this.shouldConnect?this.room.connect():this.room.disconnect(),Un(this)}),this.connect(),this.destroy=this.destroy.bind(this),r.on("destroy",this.destroy)}get connected(){return this.room!==null&&this.shouldConnect}connect(){this.shouldConnect=!0,this.signalingUrls.forEach(t=>{const r=wt(_n,t,()=>new np(t));this.signalingConns.push(r),r.providers.add(this)}),this.room&&(this.room.connect(),Un(this))}disconnect(){this.shouldConnect=!1,this.signalingConns.forEach(t=>{t.providers.delete(this),t.providers.size===0&&(t.destroy(),_n.delete(t.url))}),this.room&&(this.room.disconnect(),Un(this))}destroy(){this.doc.off("destroy",this.destroy),this.key.then(()=>{this.room.destroy(),at.delete(this.roomName)}),super.destroy()}}const ip=rt.create({name:"collaboration",priority:1e3,addOptions(){return{document:null,field:"default",fragment:null}},addStorage(){return{isDisabled:!1}},onCreate(){this.editor.extensionManager.extensions.find(e=>e.name==="history")&&console.warn('[tiptap warn]: "@tiptap/extension-collaboration" comes with its own history support and is not compatible with "@tiptap/extension-history".')},addCommands(){return{undo:()=>({tr:e,state:t,dispatch:r})=>(e.setMeta("preventDispatch",!0),qe.getState(t).undoManager.undoStack.length===0?!1:r?th(t):!0),redo:()=>({tr:e,state:t,dispatch:r})=>(e.setMeta("preventDispatch",!0),qe.getState(t).undoManager.redoStack.length===0?!1:r?nh(t):!0)}},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo()}},addProseMirrorPlugins(){var e;const t=this.options.fragment?this.options.fragment:this.options.document.getXmlFragment(this.options.field),r=sh(this.options.yUndoOptions),i=r.spec.view;r.spec.view=a=>{const{undoManager:s}=qe.getState(a.state);s.restore&&(s.restore(),s.restore=()=>{});const o=i?i(a):void 0;return{destroy:()=>{const f=s.trackedOrigins.has(s),g=s._observers;s.restore=()=>{f&&s.trackedOrigins.add(s),s.doc.on("afterTransaction",s.afterTransactionHandler),s._observers=g},o?.destroy&&o.destroy()}}};const c={...this.options.ySyncOptions,onFirstRender:this.options.onFirstRender},d=Pf(t,c);return this.editor.options.enableContentCheck&&((e=t.doc)===null||e===void 0||e.on("beforeTransaction",()=>{try{const a=jf(t);if(a.content.length===0)return;this.editor.schema.nodeFromJSON(a).check()}catch(a){return this.editor.emit("contentError",{error:a,editor:this.editor,disableCollaboration:()=>{var s;(s=t.doc)===null||s===void 0||s.destroy(),this.storage.isDisabled=!0}}),!1}})),[d,r,this.editor.options.enableContentCheck&&new nt({key:new En("filterInvalidContent"),filterTransaction:()=>{var a;return this.storage.isDisabled&&((a=t.doc)===null||a===void 0||a.destroy()),!0}})].filter(Boolean)}});var me=[];for(var Fn=0;Fn<256;++Fn)me.push((Fn+256).toString(16).slice(1));function sp(e,t=0){return(me[e[t+0]]+me[e[t+1]]+me[e[t+2]]+me[e[t+3]]+"-"+me[e[t+4]]+me[e[t+5]]+"-"+me[e[t+6]]+me[e[t+7]]+"-"+me[e[t+8]]+me[e[t+9]]+"-"+me[e[t+10]]+me[e[t+11]]+me[e[t+12]]+me[e[t+13]]+me[e[t+14]]+me[e[t+15]]).toLowerCase()}var nn,op=new Uint8Array(16);function ap(){if(!nn&&(nn=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!nn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return nn(op)}var cp=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const ni={randomUUID:cp};function er(e,t,r){if(ni.randomUUID&&!t&&!e)return ni.randomUUID();e=e||{};var i=e.random||(e.rng||ap)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){r=r||0;for(var c=0;c<16;++c)t[r+c]=i[c];return t}return sp(i)}const lp=({getId:e,anchorTypes:t=["heading"]})=>new nt({key:new En("tableOfContent"),appendTransaction(r,i,c){const d=c.tr;let a=!1;if(r.some(s=>s.docChanged)){const s=[];c.doc.descendants((o,f)=>{const g=o.attrs["data-toc-id"];if(!(!t.includes(o.type.name)||o.textContent.length===0)){if(g==null||s.includes(g)){let u="";e?u=e(o.textContent):u=er(),d.setNodeMarkup(f,void 0,{...o.attrs,"data-toc-id":u,id:u}),a=!0}s.push(g)}})}return a?d:null}}),$n=(e,t)=>{let r=1;const i=t.at(-1),c=[...t].reverse().find(a=>a.originalLevel<=e.node.attrs.level),d=c?.level||1;return e.node.attrs.level>(i?.originalLevel||1)?r=(i?.level||1)+1:e.node.attrs.level<(i?.originalLevel||1)?r=d:r=i?.level||1,r},Hn=(e,t)=>{const r=t.at(-1);return r?(r?.itemIndex||1)+1:1},dp=(e,t,r)=>{var i,c;const d=r||e.node.attrs.level||1;let a=1;const s=t.filter(o=>o.level<=d);return((i=s.at(-1))===null||i===void 0?void 0:i.level)===d?a=(((c=s.at(-1))===null||c===void 0?void 0:c.itemIndex)||1)+1:a=1,a},Os=(e,t)=>{const{editor:r}=t,i=[],c=[];let d=null;if(r.isDestroyed)return e;if(r.state.doc.descendants((a,s)=>{var o;!((o=t.anchorTypes)===null||o===void 0)&&o.includes(a.type.name)&&i.push({node:a,pos:s})}),i.forEach(a=>{const s=r.view.domAtPos(a.pos+1).node;t.storage.scrollPosition>=s.offsetTop&&(d=a.node.attrs["data-toc-id"],c.push(a.node.attrs["data-toc-id"]))}),e=e.map(a=>({...a,isActive:a.id===d,isScrolledOver:c.includes(a.id)})),t.onUpdate){const a=t.storage.content.length===0;t.onUpdate(e,a)}return e},zn=e=>{const{editor:t,onUpdate:r}=e;if(t.isDestroyed)return;const i=[];let c=[];const d=[];if(t.state.doc.descendants((a,s)=>{var o;!((o=e.anchorTypes)===null||o===void 0)&&o.includes(a.type.name)&&i.push({node:a,pos:s})}),i.forEach((a,s)=>{if(a.node.textContent.length===0)return;const o=t.view.domAtPos(a.pos+1).node,f=e.storage.scrollPosition>=o.offsetTop;d.push(o);const g=a.node.attrs.level,u=i[s-1],h=e.getLevelFn(a,c),m=e.getIndexFn(a,c,h);if(!u){c=[...c,{itemIndex:m,id:a.node.attrs["data-toc-id"],originalLevel:g,level:h,textContent:a.node.textContent,pos:a.pos,editor:t,isActive:!1,isScrolledOver:f,node:a.node,dom:o}];return}c=[...c,{itemIndex:m,id:a.node.attrs["data-toc-id"],originalLevel:g,level:h,textContent:a.node.textContent,pos:a.pos,editor:t,isActive:!1,isScrolledOver:!1,node:a.node,dom:o}]}),c=Os(c,e),r){const a=e.storage.content.length===0;r(c,a)}e.storage.anchors=d,e.storage.content=c,t.state.tr.setMeta("toc",c),t.view.dispatch(t.state.tr)},up=rt.create({name:"tableOfContents",addStorage(){return{content:[],anchors:[],scrollHandler:()=>null,scrollPosition:0}},addGlobalAttributes(){return[{types:this.options.anchorTypes||["headline"],attributes:{id:{default:null,renderHTML:e=>({id:e.id}),parseHTML:e=>e.id||null},"data-toc-id":{default:null,renderHTML:e=>({"data-toc-id":e["data-toc-id"]}),parseHTML:e=>e.dataset.tocId||null}}}]},addOptions(){return{onUpdate:()=>{},getId:t=>er(),scrollParent:typeof window<"u"?()=>window:void 0,anchorTypes:["heading"]}},addCommands(){return{updateTableOfContents:()=>({dispatch:e})=>{var t;return e&&zn({editor:this.editor,storage:this.storage,onUpdate:(t=this.options.onUpdate)===null||t===void 0?void 0:t.bind(this),getIndexFn:this.options.getIndex||Hn,getLevelFn:this.options.getLevel||$n,anchorTypes:this.options.anchorTypes}),!0}}},onTransaction({transaction:e}){var t;e.docChanged&&!e.getMeta("toc")&&zn({editor:this.editor,storage:this.storage,onUpdate:(t=this.options.onUpdate)===null||t===void 0?void 0:t.bind(this),getIndexFn:this.options.getIndex||Hn,getLevelFn:this.options.getLevel||$n,anchorTypes:this.options.anchorTypes})},onCreate(){var e;const{tr:t}=this.editor.state,r=[];if(this.options.scrollParent&&typeof this.options.scrollParent!="function"&&console.warn("[Tiptap Table of Contents Deprecation Notice]: The 'scrollParent' option must now be provided as a callback function that returns the 'scrollParent' element. The ability to pass this option directly will be deprecated in future releases."),this.editor.state.doc.descendants((c,d)=>{var a;const s=c.attrs["data-toc-id"];if(!(!(!((a=this.options.anchorTypes)===null||a===void 0)&&a.includes(c.type.name))||c.textContent.length===0)){if(s==null||r.includes(s)){let f="";this.options.getId?f=this.options.getId(c.textContent):f=er(),t.setNodeMarkup(d,void 0,{...c.attrs,"data-toc-id":f,id:f})}r.push(s)}}),this.editor.view.dispatch(t),zn({editor:this.editor,storage:this.storage,onUpdate:(e=this.options.onUpdate)===null||e===void 0?void 0:e.bind(this),getIndexFn:this.options.getIndex||Hn,getLevelFn:this.options.getLevel||$n,anchorTypes:this.options.anchorTypes}),this.storage.scrollHandler=()=>{var c;if(!this.options.scrollParent)return;const d=typeof this.options.scrollParent=="function"?this.options.scrollParent():this.options.scrollParent,a=d instanceof HTMLElement?d.scrollTop:d.scrollY;this.storage.scrollPosition=a||0;const s=Os(this.storage.content,{editor:this.editor,anchorTypes:this.options.anchorTypes,storage:this.storage,onUpdate:(c=this.options.onUpdate)===null||c===void 0?void 0:c.bind(this)});this.storage.content=s},!this.options.scrollParent)return;const i=typeof this.options.scrollParent=="function"?this.options.scrollParent():this.options.scrollParent;i&&i.addEventListener("scroll",this.storage.scrollHandler)},onDestroy(){if(!this.options.scrollParent)return;const e=typeof this.options.scrollParent=="function"?this.options.scrollParent():this.options.scrollParent;e&&e.removeEventListener("scroll",this.storage.scrollHandler)},addProseMirrorPlugins(){return[lp({getId:this.options.getId,anchorTypes:this.options.anchorTypes})]}}),fp={},hp={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"};function pp(e,t){return j(),X("svg",hp,[...t[0]||(t[0]=[G("path",{fill:"none",d:"M0 0H24V24H0z"},null,-1),G("path",{d:"M13 20h-2v-7H4v7H2V4h2v7h7V4h2v16zm8-12v12h-2v-9.796l-2 .536V8.67L19.5 8H21z",fill:"currentColor"},null,-1)])])}const gp=ie(fp,[["render",pp]]),mp={},bp={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"};function _p(e,t){return j(),X("svg",bp,[...t[0]||(t[0]=[G("path",{fill:"none",d:"M0 0H24V24H0z"},null,-1),G("path",{d:"M4 4v7h7V4h2v16h-2v-7H4v7H2V4h2zm14.5 4c2.071 0 3.75 1.679 3.75 3.75 0 .857-.288 1.648-.772 2.28l-.148.18L18.034 18H22v2h-7v-1.556l4.82-5.546c.268-.307.43-.709.43-1.148 0-.966-.784-1.75-1.75-1.75-.918 0-1.671.707-1.744 1.606l-.006.144h-2C14.75 9.679 16.429 8 18.5 8z",fill:"currentColor"},null,-1)])])}const yp=ie(mp,[["render",_p]]),vp={},Ep={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"};function wp(e,t){return j(),X("svg",Ep,[...t[0]||(t[0]=[G("path",{fill:"none",d:"M0 0H24V24H0z"},null,-1),G("path",{d:"M22 8l-.002 2-2.505 2.883c1.59.435 2.757 1.89 2.757 3.617 0 2.071-1.679 3.75-3.75 3.75-1.826 0-3.347-1.305-3.682-3.033l1.964-.382c.156.806.866 1.415 1.718 1.415.966 0 1.75-.784 1.75-1.75s-.784-1.75-1.75-1.75c-.286 0-.556.069-.794.19l-1.307-1.547L19.35 10H15V8h7zM4 4v7h7V4h2v16h-2v-7H4v7H2V4h2z",fill:"currentColor"},null,-1)])])}const Sp=ie(vp,[["render",wp]]),Cp=e=>{if(!e.children.length)return;const t=e.querySelectorAll("span");t&&t.forEach(r=>{var i,c;const d=r.getAttribute("style"),a=(c=(i=r.parentElement)===null||i===void 0?void 0:i.closest("span"))===null||c===void 0?void 0:c.getAttribute("style");r.setAttribute("style",`${a};${d}`)})};fi.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!1}},parseHTML(){return[{tag:"span",getAttrs:e=>e.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&Cp(e),{}):!1}]},renderHTML({HTMLAttributes:e}){return["span",hi(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({tr:e})=>{const{selection:t}=e;return e.doc.nodesBetween(t.from,t.to,(r,i)=>{if(r.isTextblock)return!0;r.marks.filter(c=>c.type===this.type).some(c=>Object.values(c.attrs).some(d=>!!d))||e.removeMark(i,i+r.nodeSize,this.type)}),!0}}}});const Tp=rt.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:e=>e.style.fontFamily?.replace(/['"]+/g,""),renderHTML:e=>e.fontFamily?{style:`font-family: ${e.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:e=>({chain:t})=>t().setMark("textStyle",{fontFamily:e}).run(),unsetFontFamily:()=>({chain:e})=>e().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}});class Ap{constructor(t,r){this.tippyInstance=null,this.handleScroll=()=>{this.tippyInstance?.state.isVisible&&this.tippyInstance.hide()},this.editorView=t,this.editor=r,this.button=document.createElement("button"),this.button.textContent="Comment";const i=["h-7 text-ink-white bg-surface-gray-7 hover:bg-surface-gray-6 active:bg-surface-gray-5","text-ink-gray-8 bg-surface-gray-2 hover:bg-surface-gray-3 active:bg-surface-gray-4","focus-visible:ring focus-visible:ring-outline-gray-3","h-7 text-base px-2 rounded inline-flex items-center justify-center gap-2 transition-colors focus:outline-none"].map(c=>c.split(" ")).flat();this.button.classList.add(...i),this.button.addEventListener("mousedown",c=>{c.preventDefault();const{from:d,to:a}=this.editorView.state.selection,s=this.editorView.state.doc.slice(d,a),f=Ao.fromSchema(this.editorView.state.schema).serializeFragment(s.content),g=document.createElement("div");g.appendChild(f);const u=g.innerHTML,h=this.editor.options.extensions.find(m=>m.name==="floatingQuoteButton")?.options;h&&typeof h.onClick=="function"&&h.onClick(u),this.tippyInstance?.hide()}),this.update(t,null)}update(t){const{state:r}=t,{selection:i}=r;if(t.editable){this.tippyInstance?.hide();return}if(!i.empty&&i.from!==i.to&&i.node?.type.name!=="richQuote"){const c=xp(t);c&&(c.width>0||c.height>0)?(this.tippyInstance||(this.tippyInstance=pi(this.editorView.dom,{content:this.button,trigger:"manual",interactive:!0,placement:"top",arrow:!1,appendTo:()=>document.body,hideOnClick:!0,duration:150,onShow:()=>{window.addEventListener("scroll",this.handleScroll,!0)},onHide:()=>{window.removeEventListener("scroll",this.handleScroll,!0)}})),this.tippyInstance?.setProps({getReferenceClientRect:()=>c}),this.tippyInstance?.show()):this.tippyInstance?.hide()}else this.tippyInstance?.hide()}destroy(){window.removeEventListener("scroll",this.handleScroll,!0),this.tippyInstance?.destroy()}}const Np=rt.create({name:"floatingQuoteButton",addOptions(){return{onClick:e=>{console.warn("FloatingQuoteButton: onClick not implemented.",e)}}},addProseMirrorPlugins(){return[new nt({key:new En("floatingQuoteButton"),view:e=>new Ap(e,this.editor)})]}});function xp(e){const{state:t}=e,{selection:r}=t;if(r.empty||r.from===r.to)return null;const{from:i,to:c}=r,d=document.createRange();try{const a=e.domAtPos(i).node,s=e.domAtPos(i).offset,o=e.domAtPos(c).node,f=e.domAtPos(c).offset;d.setStart(a,s),d.setEnd(o,f);const g=d.getBoundingClientRect();if(g.width===0&&g.height===0&&i!==c){const u=e.coordsAtPos(i),h=e.coordsAtPos(c);return new DOMRect(u.left,u.top,Math.max(0,h.right-u.left),Math.max(0,h.bottom-u.top))}return g}catch(a){console.warn("Error creating DOM range for selection:",a);const s=e.coordsAtPos(i),o=e.coordsAtPos(c);return new DOMRect(s.left,s.top,o.right-s.left,o.bottom-s.top)}}function Rp(e){try{const t=e.split("?")[1];return t?new URLSearchParams(t).get("embed_name"):null}catch{return null}}const kp=rt.create({name:"embedCollector",addCommands(){return{getEmbedUrls:()=>({state:e})=>{const t=[];let r=null,i=0;return e.doc.descendants(c=>{c.type.name==="heading"&&(i=0,r=c.textContent.trim()),(c.type.name==="image"||c.type.name==="video")&&c.attrs.src&&(t.push({title:r+(i?` (${i})`:""),name:Rp(c.attrs.src)}),i++)}),t}}}}),Mp=fi.create({name:"comment",addOptions(){return{HTMLAttributes:{},onCommentActivated:()=>{}}},addAttributes(){return{commentId:{default:null,parseHTML:e=>e.getAttribute("data-comment-id"),renderHTML:e=>({"data-comment-id":e.commentId})}}},parseHTML(){return[{tag:"span[data-comment-id]",getAttrs:e=>{var t;return!!(!((t=e.getAttribute("data-comment-id"))===null||t===void 0)&&t.trim())&&null}}]},renderHTML({HTMLAttributes:e}){return["span",hi(this.options.HTMLAttributes,e),0]},onSelectionUpdate(){const{$from:e}=this.editor.state.selection,t=e.marks();if(!t.length){this.storage.activeCommentId=null,this.options.onCommentActivated(this.storage.activeCommentId);return}const r=this.editor.schema.marks.comment,i=t.find(c=>c.type===r);this.storage.activeCommentId=i?.attrs.commentId||null,this.options.onCommentActivated(this.storage.activeCommentId)},addStorage(){return{activeCommentId:null}},addCommands(){return{setComment:e=>({commands:t})=>{if(!e)return!1;t.setMark("comment",{commentId:e})},unsetComment:e=>({tr:t,dispatch:r})=>{if(!e)return!1;const i=[];return t.doc.descendants((c,d)=>{const a=c.marks.find(s=>s.type.name==="comment"&&s.attrs.commentId===e);a&&i.push({mark:a,range:{from:d,to:d+c.nodeSize}})}),i.forEach(({mark:c,range:d})=>{t.removeMark(d.from,d.to,c)}),r?.(t)}}}}),Op=Mp.extend({addAttributes(){return{...this.parent?.(),resolved:{default:!1,parseHTML:e=>e.hasAttribute("data-resolved"),renderHTML:e=>e.resolved?{"data-resolved":"true"}:{}}}},addCommands(){return{...this.parent?.(),resolveComment:(e,t=!0)=>({state:r,tr:i,dispatch:c})=>{const{doc:d}=r,a=r.schema.marks[this.name];return d.descendants((s,o)=>{if(!s.isText)return!0;s.marks.forEach(f=>{if(f.type===a&&f.attrs.commentId===e){const g=a.create({...f.attrs,resolved:t});i.removeMark(o,o+s.nodeSize,a),i.addMark(o,o+s.nodeSize,g)}})}),i.docChanged&&c?(c(i),!0):!1}}}}),Ip=rt.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize"}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=e=>{const t=e?.node||this.editor.state.doc;return(e?.mode||this.options.mode)==="textSize"?t.textBetween(0,t.content.size,void 0," ").length:t.nodeSize},this.storage.words=e=>{const t=e?.node||this.editor.state.doc;return t.textBetween(0,t.content.size," "," ").split(" ").filter(c=>c!=="").length}},addProseMirrorPlugins(){return[new nt({key:new En("characterCount"),filterTransaction:(e,t)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:t.doc}),c=this.storage.characters({node:e.doc});if(c<=r||i>r&&c>r&&c<=i)return!0;if(i>r&&c>r&&c>i||!e.getMeta("paste"))return!1;const a=e.selection.$head.pos,s=c-r,o=a-s,f=a;return e.deleteRange(o,f),!(this.storage.characters({node:e.doc})>r)}})]}}),ri=e=>Array.from(e.entries()).map(([t,r])=>({clientId:t,...r.user})),ii=()=>null,Lp=rt.create({name:"collaborationCursor",priority:999,addOptions(){return{provider:null,user:{name:null,color:null},render:e=>{const t=document.createElement("span");t.classList.add("collaboration-cursor__caret"),t.setAttribute("style",`border-color: ${e.color}`);const r=document.createElement("div");return r.classList.add("collaboration-cursor__label","text-xs","rounded-sm","px-1.5","py-1","opacity-[0.9]"),r.setAttribute("style",`background-color: ${e.color}`),r.insertBefore(document.createTextNode(e.name),null),t.insertBefore(r,null),t},selectionRender:hs,onUpdate:ii}},onCreate(){if(this.options.onUpdate!==ii&&console.warn('[tiptap warn]: DEPRECATED: The "onUpdate" option is deprecated. Please use `editor.storage.collaborationCursor.users` instead. Read more: https://tiptap.dev/api/extensions/collaboration-cursor'),!this.options.provider)throw new Error('The "provider" option is required for the CollaborationCursor extension')},addStorage(){return{users:[]}},addCommands(){return{updateUser:e=>()=>(this.options.user=e,this.options.provider.awareness.setLocalStateField("user",this.options.user),!0),user:e=>({editor:t})=>(console.warn('[tiptap warn]: DEPRECATED: The "user" command is deprecated. Please use "updateUser" instead. Read more: https://tiptap.dev/api/extensions/collaboration-cursor'),t.commands.updateUser(e))}},addProseMirrorPlugins(){return[eh((()=>(this.options.provider.awareness.setLocalStateField("user",this.options.user),this.storage.users=ri(this.options.provider.awareness.states),this.options.provider.awareness.on("update",()=>{this.storage.users=ri(this.options.provider.awareness.states)}),this.options.provider.awareness))(),{cursorBuilder:this.options.render,selectionBuilder:this.options.selectionRender})]}}),Dp=rt.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:e=>e.style.fontSize.replace(/['"]+/g,""),renderHTML:e=>e.fontSize?{style:`font-size: ${e.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:e=>({chain:t})=>t().setMark("textStyle",{fontSize:e}).run(),unsetFontSize:()=>({chain:e})=>e().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}});const Bp={props:{items:{type:Array,required:!0},editor:{type:Object,required:!0},loading:Boolean},data(){return{selectedIndex:0}},watch:{items(){this.selectedIndex=0}},methods:{onKeyDown({event:e}){return e.key==="ArrowUp"?(this.upHandler(),!0):e.key==="ArrowDown"?(this.downHandler(),!0):e.key==="Enter"?(this.enterHandler(),!0):!1},upHandler(){this.selectedIndex=(this.selectedIndex+this.items.length-1)%this.items.length},downHandler(){this.selectedIndex=(this.selectedIndex+1)%this.items.length},enterHandler(){this.selectItem(this.selectedIndex)},selectItem(e){const t=this.items[e];t&&this.editor.commands.embedDocument(t)}}},Pp={class:"w-60 rounded-lg bg-surface-white p-1 text-base shadow-lg max-h-64 overflow-y-auto"},Up={key:0,class:"text-center text-ink-gray-6 text-sm py-2"},Fp=["onClick","onMouseover"],$p={class:"truncate max-w-56"},Hp={class:"text-xs text-ink-gray-6"},zp={key:1,class:"text-xs text-ink-gray-5 p-1"};function Vp(e,t,r,i,c,d){return j(),X("div",null,[G("div",Pp,[!r.items.length&&!r.loading?(j(),X("div",Up," No documents found ")):be("",!0),(j(!0),X(Ge,null,tt(r.items,(a,s)=>(j(),X("button",{key:s,class:ve(["flex flex-col items-start gap-0.5",[s===c.selectedIndex?"bg-surface-gray-2":"","w-full whitespace-nowrap rounded px-2 py-2 text-sm text-ink-gray-8"]]),onClick:o=>d.selectItem(s),onMouseover:o=>c.selectedIndex=s},[G("div",$p,Te(a.title),1),G("div",Hp," Edited "+Te(a.relativeModified),1)],42,Fp))),128)),r.loading?(j(),X("span",zp,"Loading...")):be("",!0)])])}const Kp=ie(Bp,[["render",Vp]]),Gp=No.create({name:"embed",addCommands(){return{embedDocument:e=>({editor:t})=>{t.commands.setIframe({src:`/drive/w/${e.name}/`,interactive:!0});const{state:r}=t,i=xe.props.range.from+1,c=i-2;if(c<0)return;const d=r.tr.delete(c,i);t.view.dispatch(d),Vn()}}},addProseMirrorPlugins(){const e=this.editor;return[new nt({props:{handleTextInput(t,r,i,c){const{state:d}=t,a=Math.max(0,r-1),s=d.doc.textBetween(a,r,"","")+c,o=d.doc.textBetween(a-1,r-1,"","");if(s==="[["&&(o==="["?Vn():(si=a,qp(t,r,e))),ct&&xe&&c!="[")return _t.value=d.doc.textBetween(si+2,i,"","")+c,!1},handleKeyDown(t,r){if(!ct)return!1;const i=ct&&xe&&_t.value;if(xe){const c=xe.ref.onKeyDown({event:r});if(c)return c}return r.key==="Escape"||r.key==="Backspace"&&!i?(Vn(),!0):(r.key==="Backspace"&&i&&(_t.value=_t.value.slice(0,-1)),!1)}}})]}});let ct,xe,si;const _t=Ue(null),Is=Le(()=>gi.data.sort((e,t)=>e.modified>t.modified?-1:1).filter(e=>e.name!==xo.currentRoute.value.params.entityName));async function qp(e,t,r){xe=new yh(Kp,{editor:r,props:{editor:r,range:{from:t,to:t},close,items:Is.value,loading:!0}}),ct=pi("body",{getReferenceClientRect:()=>{const i=e.coordsAtPos(t);return{top:i.top,left:i.left,width:0,height:i.bottom-i.top}},appendTo:()=>document.body,content:xe.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start"}),ct[0].show(),_t.value=""}function Vn(){ct[0].destroy(),xe.destroy(),xe=null,ct=null}De(_t,async e=>{xe&&xe.updateProps({loading:!0}),gi.fetch({only_parent:0,search:e},{onSuccess:()=>xe&&xe.updateProps({items:Is.value,loading:!1})})},{immediate:!0});const Wp={class:"lucide lucide-badge-check",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function Yp(e,t){return j(),X("svg",Wp,[...t[0]||(t[0]=[G("path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"},null,-1),G("path",{d:"m9 12 2 2 4-4"},null,-1)])])}const Zp=Ht({name:"lucide-badge-check",render:Yp}),jp={class:"lucide lucide-message-circle-code",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function Xp(e,t){return j(),X("svg",jp,[...t[0]||(t[0]=[G("path",{d:"M10 9.5 8 12l2 2.5"},null,-1),G("path",{d:"m14 9.5 2 2.5-2 2.5"},null,-1),G("path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22z"},null,-1)])])}const Qp=Ht({name:"lucide-message-circle-code",render:Xp}),Jp={class:"lucide lucide-message-circle-warning",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function eg(e,t){return j(),X("svg",Jp,[...t[0]||(t[0]=[G("path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z"},null,-1),G("path",{d:"M12 8v4"},null,-1),G("path",{d:"M12 16h.01"},null,-1)])])}const tg=Ht({name:"lucide-message-circle-warning",render:eg}),ng=["id","onClick"],rg={class:"w-8 flex justify-center"},ig={class:"w-full flex justify-between items-start label-group gap-1 text-sm"},sg={class:"flex gap-1"},og={class:"font-medium text-ink-gray-8 max-w-[70%] truncate"},ag={class:"text-ink-gray-6 truncate"},cg={class:"comment-content text-sm"},lg={class:"flex gap-3"},dg={key:0,class:"replies-count text-ink-gray-6 font-base text-xs p-3 pt-0"},ug={class:"text-large text-ink-gray-8 font-semibold w-80 px-3 py-2 bg-white dark:bg-black bg-opacity-70 fixed"},fg={__name:"FloatingComments",props:cn({entity:Object,editor:Object},{activeComment:{},activeCommentModifiers:{},comments:{},commentsModifiers:{},showComments:{},showCommentsModifiers:{}}),emits:cn(["save"],["update:activeComment","update:comments","update:showComments"]),setup(e,{emit:t}){const r=it(()=>st(()=>import("./CommentEditor-57ea18f6.js"),["assets/CommentEditor-57ea18f6.js","assets/index-875d8ccd.js","assets/index-b1218197.css","assets/Document-fe524da0.js","assets/ErrorPage-cd219075.js","assets/CommentEditor-2dd6282b.css"])),i=e,c=t,d=Ro(),a=Xe(e,"activeComment"),s=Xe(e,"comments"),o=Xe(e,"showComments"),f=Ue("scrollContainer"),g=sn({}),u=sn({}),h=sn({}),m=S=>{const T=s.value.find(D=>D.name==S);if(T)return T;for(const D of s.value){const K=D.replies.find(Z=>Z.name==S);if(K)return K}},_=mi("showResolved"),w=Le(()=>{const S=_.value?s.value:s.value.filter(T=>!T.resolved);return S.length||(o.value=!1),S});De(_,async S=>{await rn(),S?document.querySelectorAll("[data-resolved=true]").forEach(T=>T.classList.add("display")):document.querySelectorAll("[data-resolved=true]").forEach(T=>T.classList.remove("display"))}),De(a,S=>{document.querySelector("span[data-comment-id].active")?.classList?.remove?.("active"),F(),S&&rn(()=>{document.querySelector(`span[data-comment-id="${S}"]`).classList.add("active")})});const M=Kt({url:"drive.api.docs.create_comment",onSuccess:()=>{m(M.params.name).loading=!1,c("save")},onError:()=>{on({title:"Your comment did not go through. ",icon:tg})}}),R=Kt({url:"drive.api.docs.edit_comment",onSuccess:()=>{c("save")}}),B=Kt({url:"drive.api.docs.delete_comment",onSuccess:()=>{c("save")}}),b=Kt({url:"drive.api.docs.resolve_comment",onSuccess:()=>{c("save")}}),y=(S,T)=>{const D=ps();M.submit({entity_name:i.entity.name,parent_name:S.name,name:D,creation:new Date,content:g[S.name],is_reply:!0}),S.replies.push({name:D,content:g[S.name],owner:d.state.user.id,creation:new Date,loading:!0}),g[S.name]="",T.commands.setContent(""),F()},v=(S,T,D=!0)=>{D&&B.submit({name:S,entire:T}),i.editor.commands.unsetComment(S);for(const[K,Z]of Object.entries(s.value)){if(Z.name===S){s.value.splice(K,1);break}for(const[O,U]of Object.entries(Z.replies))if(U.name===S){Z.replies.splice(O,1);break}}F()},A=(S,T=!0)=>{b.submit({name:S.name,value:T}),i.editor.commands.resolveComment(S.name,T),S.resolved=T},C=S=>!S||!S.length||S.replace(/\s/g,"")=="<p></p>",k=S=>{const T=new Date,D=new Date(S),K=D.getDate()===T.getDate()&&D.getMonth()===T.getMonth()&&D.getFullYear()===T.getFullYear(),[Z,O]=_i(D).split(", ");return K?O:Z},F=ko(()=>{let S=0;rn(()=>{f.value.style.height=`max(${f.value.parentElement.scrollHeight}px, calc(100vh - 3rem))`;for(const T of w.value)try{const D=f.value.getBoundingClientRect().top,K=document.querySelector(`[data-comment-id="${T.name}"]`).getBoundingClientRect().top-D,Z=Math.max(K,S);T.top=Z,S=Z+u[T.name].offsetHeight+12}catch(D){console.log(D)}})},20);tr(F),De(()=>w.value.length,F),Ar(window,"resize",F),i.editor.on("update",()=>{const S=new Set;F(),i.editor.state.doc.descendants(T=>{T.marks.forEach(D=>{D.type.name==="comment"&&D.attrs.commentId&&S.add(D.attrs.commentId)})});for(const T of s.value)S.has(T.name)||v(T.name,!0)});const x=()=>{for(const S of s.value)S.new&&v(S.name,!0,!1)};return yn(x),Ar(window,"beforeunload",x),(S,T)=>{const D=Lo,K=Qp,Z=Zp,O=Mo("on-outside-click");return Qe((j(),X("div",{ref_key:"scrollContainer",ref:f,class:"relative hidden md:flex min-w-80 border-s-2 flex-col gap-8 justify-start self-stretch pb-5 bg-surface-white"},[(j(!0),X(Ge,null,tt(w.value,U=>Qe((j(),X("div",{key:U.name,id:"comment-"+U.name,ref_for:!0,ref:$=>{$?u[U.name]=$:delete u[U.name]},class:ve(["absolute rounded shadow w-52 md:w-72 comment-group scroll-m-24 bg-surface-white left-1/2 -translate-x-1/2 opacity-0 transition-[top] duration-100 ease-in-out",[a.value===U.name&&"shadow-xl ",U.top&&"opacity-100"]]),style:It(`top: ${U.top}px;`),onClick:$=>a.value=U.name},[Qe(G("div",{class:ve(["p-1.5 text-sm flex gap-1 border-b text-ink-gray-9",U.loading&&!U.edit&&"opacity-70"])},[!U.resolved&&(U.owner==S.$store.state.user.id||e.entity.write)?(j(),_e(oe(Tt),{key:0,disabled:U.loading,variant:"ghost",class:"!h-5 !text-xs !px-1.5 !rounded-sm",onClick:$=>A(U)},{prefix:Se(()=>[fe(D,{class:"size-3.5"})]),default:Se(()=>[T[1]||(T[1]=Gt(" Resolve ",-1))]),_:1},8,["disabled","onClick"])):be("",!0),U.resolved&&(U.owner==S.$store.state.user.id||e.entity.write)?(j(),_e(oe(Tt),{key:1,disabled:U.loading,variant:"ghost",class:"!h-5 !text-xs !px-1.5 !rounded-sm",onClick:$=>A(U,!1)},{prefix:Se(()=>[fe(K,{class:"size-3.5"})]),default:Se(()=>[T[2]||(T[2]=Gt(" Unresolve ",-1))]),_:1},8,["disabled","onClick"])):be("",!0),U.owner==S.$store.state.user.id||U.owner==="Guest"&&e.entity.write?(j(),_e(oe(Tt),{key:2,disabled:U.loading,variant:"ghost",class:"!h-5 !text-xs !px-1.5 !rounded-sm",onClick:$=>v(U.name,!0)},{prefix:Se(()=>[fe(oe(Nr),{class:"size-3.5"})]),default:Se(()=>[T[3]||(T[3]=Gt(" Delete ",-1))]),_:1},8,["disabled","onClick"])):be("",!0)],2),[[yt,a.value===U.name&&S.$store.state.user.id!=="Guest"&&!U.new&&(U.owner==S.$store.state.user.id||e.entity.write)]]),G("div",{class:ve(["flex flex-col gap-5 p-3",a.value!==U.name&&U.replies.length>0&&"pb-1.5"])},[(j(!0),X(Ge,null,tt(a.value===U.name?[U,...U.replies.toSorted(($,W)=>new Date($.creation)>new Date(W.creation)?1:-1)]:[U],($,W)=>(j(),X("div",{key:$.name,class:ve(["group w-full flex gap-3",$.loading&&!$.edit&&"opacity-70"])},[G("div",rg,[fe(oe(xr),{size:"xl",class:"bg-surface-white",label:S.$user($.owner)?.full_name||$.owner,image:S.$user($.owner)?.user_image},null,8,["label","image"])]),G("div",{class:ve(["grow flex flex-col",$.edit&&"gap-1"])},[G("div",ig,[G("div",sg,[G("label",og,Te(S.$user($.owner)?.full_name||$.owner),1),G("label",ag," · "+Te(k($.creation)),1)]),fe(oe(Io),{class:ve(["ml-auto opacity-0",a.value===U.name&&!$.edit&&!$.resolved&&U.owner==S.$store.state.user.id&&"opacity-100"]),options:oe(bi)([{label:"Edit",onClick:()=>$.edit=!0,cond:U.owner==S.$store.state.user.id},{label:"Delete",onClick:()=>v($.name,!1),cond:U.owner==S.$store.state.user.id&&W!==0}])},{default:Se(()=>[fe(oe(Tt),{disabled:a.value!==U.name||$.edit||$.resolved,class:ve(["!h-5 !text-xs !px-1.5 !rounded-sm opacity-0",a.value===U.name&&!$.edit&&!$.resolved&&U.owner==S.$store.state.user.id&&"opacity-100"]),variant:"ghost",icon:vn(oe(Oo),{class:"size-3"}),onClick:S.triggerRoot},null,8,["disabled","class","icon","onClick"])]),_:2},1032,["class","options"]),U.resolved?(j(),_e(Z,{key:0,class:"text-ink-gray-6 size-4"})):be("",!0)]),G("div",cg,[fe(oe(r),{modelValue:h[$.name],"onUpdate:modelValue":te=>h[$.name]=te,placeholder:"Edit",disabled:C(h[$.name])||h[$.name]==$.content,editable:$.edit===!0,content:$.content,onChange:oe(F),onSubmit:()=>{$.content=h[$.name],$.edit=!1,$.new?(oe(M).submit({entity_name:i.entity.name,content:$.content,name:$.name,is_reply:!1}),delete $.new):oe(R).submit($)},onCancel:te=>{$.new?v($.name,!1,!1):(te.commands.setContent($.content),$.edit=!1)}},null,8,["modelValue","onUpdate:modelValue","disabled","editable","content","onChange","onSubmit","onCancel"])])],2)],2))),128)),Qe(G("div",lg,[fe(oe(xr),{size:"xl",class:"self-center",label:S.$user(S.$store.state.user.id)?.full_name||S.$store.state.user.id,image:S.$user(S.$store.state.user.id)?.user_image},null,8,["label","image"]),fe(oe(r),{modelValue:g[U.name],"onUpdate:modelValue":$=>g[U.name]=$,placeholder:"Reply","is-empty":C(g[U.name]),onChange:oe(F),onSubmit:$=>y(U,$),onCancel:$=>{g[U.name]="",$.commands.setContent(""),$.commands.blur()}},null,8,["modelValue","onUpdate:modelValue","is-empty","onChange","onSubmit","onCancel"])],512),[[yt,a.value===U.name&&!U.edit&&!U.resolved]])],2),a.value!==U.name&&U.replies.length>0?(j(),X("div",dg,Te(U.replies.length)+" "+Te(U.replies.length===1?"reply":"replies"),1)):be("",!0)],14,ng)),[[O,$=>{a.value===U.name&&!$.target.getAttribute("data-comment-id")&&$.target.nodeName==="DIV"&&!U.new&&!$.target.classList?.contains?.("replies-count")&&(a.value=null)}]])),128)),G("div",ug,[T[4]||(T[4]=Gt(" Comments ",-1)),fe(oe(Tt),{icon:oe(Nr),variant:"ghost",class:"float-right",onClick:T[0]||(T[0]=U=>o.value=!1)},null,8,["icon"])])],512)),[[yt,o.value]])}}};const hg={class:"flex flex-col w-full"},pg={key:1,class:"bg-surface-gray-2 text-ink-gray-8 p-3 text-base flex justify-between items-center"},gg={class:"flex flex-col gap-1"},mg={key:0},bg={class:"font-medium"},_g={key:1},yg={class:"flex gap-2"},vg={id:"editorScrollContainer",class:"flex w-full overflow-y-auto"},Eg={__name:"TextEditor",props:cn({entity:Object,settings:Object,editable:Boolean,isFrappeDoc:Boolean,showResolved:Boolean,collabTurned:Boolean,users:Object,currentVersion:{required:!1,type:Object}},{rawContent:{},rawContentModifiers:{},yjsContent:{},yjsContentModifiers:{},showComments:{},showCommentsModifiers:{},current:{},currentModifiers:{},edited:{},editedModifiers:{}}),emits:cn(["newVersion","saveComment","saveDocument"],["update:rawContent","update:yjsContent","update:showComments","update:current","update:edited"]),setup(e,{expose:t,emit:r}){const i=Xe(e,"rawContent"),c=Xe(e,"yjsContent"),d=Xe(e,"showComments"),a=Xe(e,"current"),s=Xe(e,"edited"),o=e,f=r,g=mi("inIframe"),u=Ue([]),h=Ue([]),m=Ue(null),_=Ue("textEditor"),w=Le(()=>_.value?.editor);di("editor",w);const M=Le(()=>document.querySelector("#editorScrollContainer"));t({editor:w});const R=Rr(()=>f("saveDocument"),2e3);let B;De(()=>o.settings,(T,D)=>{if(T.versioning===D?.versioning&&B)return;const K=Math.max(.9,+T.versioning-1)*1e3;B=Rr(()=>{if(!A.value)return;const Z=kt(v),O=o.entity.versions[o.entity.versions.length-1],U=O?Mn(_a(O.snapshot)):ya;O!=null&&U.sv.set(O.clientID,U.sv.get(O.clientID)+1),va(U,Z)||f("newVersion",Br(Z),+o.settings.versioning)},K)}),De(()=>o.currentVersion,T=>{if(!T)return;on("Changing version");const{view:D}=w.value;D.dispatch(D.state.tr.setMeta(ue,{snapshot:Mn(T[1].snapshot),prevSnapshot:Mn(T[0].snapshot)}))});const b=[Dp,Ip,up.configure({onUpdate:T=>h.value=T,getIndex:dp,scrollParent:()=>M.value}),Tp.configure({types:["textStyle"]}),Gp,o.entity.comment&&!g&&Np.configure({onClick:()=>{S(w.value)}}),Op.configure({onCommentActivated:T=>{const D=u.value.find(K=>T===K.name)?.resolved;if(T&&(!D||showResolved)){m.value=T,d.value=!0;const K=document.querySelector(`span[data-comment-id="${T}"]`);K.offsetParent||K.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}}}),kp];let y,v;const A=Le(()=>o.settings?.collab);if(A.value){v=new Ei({gc:!0}),new Lh("fdoc-"+o.entity.name,v),c.value&&cr(v,c.value),y=new rp("fdoc-"+o.entity.name,v,{signaling:["wss://signal.frappe.cloud"]});const T=new Ea(v);T.setUserMapping(v,v.clientID,At.state.user.id);const D=[{light:"#ecd44433",dark:"#ecd444"},{light:"#ee635233",dark:"#ee6352"},{light:"#6eeb8333",dark:"#6eeb83"}];b.push(ip.configure({document:v,field:"default",ySyncOptions:{permanentUserData:T,colors:D}}),Lp.configure({provider:y,user:{name:At.state.user.fullName,id:At.state.user.id,avatar:At.state.user.imageURL,color:Do()}}))}const C=Le(()=>bi(["Paragraph",[{text:"H1",icon:gp,action:T=>T.chain().focus().toggleHeading({level:1}).run(),isActive:T=>T.isActive("heading",{level:1})},{text:"H2",icon:yp,action:T=>T.chain().focus().toggleHeading({level:2}).run(),isActive:T=>T.isActive("heading",{level:2})},{text:"H3",icon:Sp,action:T=>T.chain().focus().toggleHeading({level:3}).run(),isActive:T=>T.isActive("heading",{level:3})}],"Separator","Bold","Italic","Link","Strikethrough","Separator",["Bullet List","Numbered List","Task List"],"Separator",["Align Left","Align Center","Align Right"],...o.isFrappeDoc?["Separator",{label:"FontOptions",component:vn(it(()=>st(()=>import("./FontFamily-556d0b4c.js"),["assets/FontFamily-556d0b4c.js","assets/index-875d8ccd.js","assets/index-b1218197.css"])),{editor:w,font_size:o.settings.font_size,font_family:o.settings.font_family})},"FontColor","Separator",{label:"Comment",icon:Bo,action:S,isActive:()=>!1},"Image","Video","Iframe"]:[],"Blockquote","Code",["InsertTable","AddColumnBefore","AddColumnAfter","DeleteColumn","AddRowBefore","AddRowAfter","DeleteRow","MergeCells","SplitCell","ToggleHeaderColumn","ToggleHeaderRow","ToggleHeaderCell","DeleteTable"]])),k=Ue();if(De(k,T=>{!o.entity.write||A.value||(T.transaction(["content"]).objectStore("content").get(o.entity.name).onsuccess=D=>{D.target.result?.val?.length>20&&D.target.result.saved>new Date(o.entity.modified)&&(i.value=D.target.result.val)})}),o.entity.write){const T=window.indexedDB.open("Writer",1);T.onsuccess=D=>{k.value=D.target.result},T.onupgradeneeded=()=>{T.result.objectStoreNames.contains("content")||T.result.createObjectStore("content")}}const F=(T=!1)=>{const{$anchor:D}=w.value.view.state.selection;if(!(D.index(0)===1&&D.depth===1)){D.depth===1&&w.value.state.doc.childCount-1===D.index(0)&&M.value.scroll(0,M.value.scrollHeight);return}const K=w.value.state.doc.firstChild.textContent.replaceAll("#","").replaceAll("@","").trim();if(!o.entity.title.startsWith("Untitled Document")&&!T){K!==o.entity.title&&on({title:"Update title?",buttons:[{label:"Rename",onClick:()=>F(!0)}]});return}K.length!==0&&K.length&&Po.submit({entity_name:o.entity.name,new_title:K})},x=T=>{const D=[];return T.descendants((K,Z)=>{K.marks.forEach(O=>{O.type.name==="comment"&&O.attrs.commentId&&D.push({id:O.attrs.commentId,pos:Z})})}),D.sort((K,Z)=>K.pos-Z.pos)},S=T=>{d.value=!0;const D=ps();T.chain().focus().setComment(D).run();const K=x(T.state.doc),Z={name:D,owner:At.state.user.id,creation:new Date,content:"",edit:!0,new:!0,loading:!0,replies:[]};u.value=[...u.value,Z].toSorted((O,U)=>{const $=K.findIndex(te=>te.id===O.name),W=K.findIndex(te=>te.id===U.name);return $-W}),m.value=D};return Rn("p",T=>{T.metaKey&&(T.preventDefault(),w.value&&kr(w.value.getHTML()))}),qt.on("printFile",()=>{w.value&&kr(w.value.getHTML())}),qt.on("create-version",T=>{const D=kt(v);f("newVersion",Br(D),0,T)}),tr(()=>{if(o.entity.mime_type==="frappe_doc"){const T=x(w.value.state.doc);u.value=o.entity.comments.toSorted((D,K)=>{const Z=T.findIndex(U=>U.id===D.name),O=T.findIndex(U=>U.id===K.name);return Z-O})}}),yn(()=>{u.value.filter(T=>T.new).filter(({name:T})=>w.value.commands.unsetComment(T)),y&&(y.disconnect(),y.destroy())}),Rn("Enter",()=>F()),Rn("s",T=>{!T.metaKey||!T.shiftKey||(T.preventDefault(),f("saveDocument"),on({title:"Saving document"}))}),(T,D)=>{const K=We("Button"),Z=hh;return j(),X("div",hg,[w.value&&e.editable&&!e.settings.minimal&&!a.value?(j(),_e(oe(cs),{key:0,class:"w-full max-w-[100vw] overflow-x-auto border-b border-outline-gray-modals justify-start md:justify-center py-1.5 shrink-0",buttons:C.value},null,8,["buttons"])):be("",!0),a.value?(j(),X("div",pg,[G("div",gg,[a.value.manual?(j(),X("div",mg,[G("span",bg,Te(a.value.title),1)])):(j(),X("div",_g," This is a automatic snapshot of this document from "+Te(oe(_i)(a.value.title))+". ",1)),D[9]||(D[9]=G("div",{class:"text-xs text-ink-gray-5"}," Editing is disabled until you exit this preview. ",-1))]),G("div",yg,[fe(K,{variant:"ghost",label:"Exit",class:"hover:!bg-surface-gray-2 hover:underline",onClick:D[0]||(D[0]=O=>oe(qt).emit("clear-snapshot"))}),fe(K,{variant:"solid",label:"Restore",onClick:D[1]||(D[1]=O=>oe(qt).emit("restore-snapshot",a.value))})])])):be("",!0),G("div",vg,[G("div",{class:ve(["mx-auto cursor-text w-full flex justify-center h-full",a.value?"pb-15":""]),onClick:D[4]||(D[4]=O=>O.target.tagName==="DIV"&&_.value.editor?.chain?.().focus?.().run?.())},[!A.value||b.find(O=>O.name==="collaborationCursor")||!e.isFrappeDoc?(j(),_e(oe(mf),{key:b.length,ref_key:"textEditor",ref:_,class:"min-w-full h-full flex flex-col","editor-class":["prose-sm min-h-full mx-auto px-10 overflow-x-auto pt-4 md:pt-0",`text-[${e.settings?.font_size||15}px]`,`leading-[${e.settings?.line_height||1.5}]`,e.settings?.wide?"md:min-w-[100ch] md:max-w-[100ch]":"md:min-w-[48rem] md:max-w-[48rem]",a.value?"pb-24":""],content:A.value?void 0:i.value,editable:e.editable,"upload-function":O=>oe(ui)().upload(O,{params:{doc:e.entity.name},upload_endpoint:"/api/method/drive.api.files.upload_embed"}),mentions:e.users,placeholder:"Start writing here...","bubble-menu":e.settings.minimal&&C.value,extensions:b,autofocus:!0,onTransaction:D[2]||(D[2]=()=>{e.collabTurned&&oe(v)&&(c.value=Lt(oe(v)),f("saveDocument"))}),onChange:D[3]||(D[3]=O=>{O===i.value||a.value||(i.value=O,A.value&&(c.value=Lt(oe(v))),k.value&&k.value.transaction(["content"],"readwrite").objectStore("content").put({val:O,saved:new Date},o.entity.name),e.editable&&(s.value=!0,oe(R)(),oe(B)?.()))})},{editor:Se(({editor:O})=>[fe(oe(_h),{style:It({fontFamily:`var(--font-${e.settings?.font_family})`}),editor:O},null,8,["style","editor"])]),_:1},8,["editor-class","content","editable","upload-function","mentions","bubble-menu"])):be("",!0)],2),Qe(fe(Z,{editor:w.value,anchors:h.value,class:ve(e.editable?"top-24":"top-15")},null,8,["editor","anchors","class"]),[[yt,h.value.length>1]]),u.value.length?(j(),_e(fg,{key:0,"show-comments":d.value,"onUpdate:showComments":D[5]||(D[5]=O=>d.value=O),"active-comment":m.value,"onUpdate:activeComment":D[6]||(D[6]=O=>m.value=O),comments:u.value,"onUpdate:comments":D[7]||(D[7]=O=>u.value=O),entity:e.entity,editor:w.value,onSave:D[8]||(D[8]=O=>T.$emit("saveComment")),onAutosave:oe(R)},null,8,["show-comments","active-comment","comments","entity","editor","onAutosave"])):be("",!0)])])}}},Ag=Object.freeze(Object.defineProperty({__proto__:null,default:Eg},Symbol.toStringTag,{value:"Module"}));export{Ag as T,mf as _};
//# sourceMappingURL=TextEditor-5d61ce57.js.map
