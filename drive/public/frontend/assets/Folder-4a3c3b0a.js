import{_ as u}from"./GenericPage-4c66a3dd.js";import{z as l,f as i,ay as d,az as p,d as f,at as _,E as y,c as N,k as a,aA as g,au as C,av as h,o as v,aB as F}from"./index-a1f5a1ea.js";import"./ListView-26eae888.js";import"./ErrorPage-903cdc28.js";import"./folder-open-dot-c7bc0be9.js";const x={__name:"Folder",props:{entityName:String,slug:String},setup(n){const s=l(),t=n;s.commit("setCurrentFolder",{name:t.entityName});const o=i({...d,url:"drive.api.list.files",makeParams:e=>({...e,entity_name:t.entityName}),cache:["folder",t.entityName]});p(o,["folder",t.entityName]);const m=e=>{g.currentRoute.value.params.entityName===e.name&&(document.title="Folder - "+e.title,C(e),h(e.title))},c=f(()=>t.entityName),r=i({url:"drive.api.permissions.get_entity_with_permissions",transform(e){return _([e])[0]},onSuccess:m});return s.commit("setCurrentResource",r),y(c,e=>r.fetch({entity_name:e}),{immediate:!0}),(e,S)=>(v(),N(u,{verify:a(r),"get-entities":a(o),empty:{icon:a(F),title:"No files added yet"}},null,8,["verify","get-entities","empty"]))}};export{x as default};
//# sourceMappingURL=Folder-4a3c3b0a.js.map
