import{ab as C,o as s,g as b,h as d,aO as p,aQ as $,b as x,d as B,i as r,w as m,c as y,k as o,aB as h,n as u,C as E,aI as M,cg as c,aV as f,X as V}from"./index-8b68b9db.js";import{_ as S}from"./TextEditor-b48efc19.js";import"./Document-905e8218.js";import"./ErrorPage-8658e661.js";const L={class:"lucide lucide-message-circle-reply",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function N(e,n){return s(),b("svg",L,[...n[0]||(n[0]=[d("path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z"},null,-1),d("path",{d:"m10 15-3-3 3-3"},null,-1),d("path",{d:"M7 12h7a2 2 0 0 1 2 2v1"},null,-1)])])}const K=C({name:"lucide-message-circle-reply",render:N});const z={key:0,class:"self-end me-1 flex-shrink-0 flex gap-1 mb-1.5"},q={__name:"CommentEditor",props:p({placeholder:String,isEmpty:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},editable:{type:Boolean,default:!0},content:{type:String,default:""}},{modelValue:{type:String},modelModifiers:{}}),emits:p(["submit","cancel","change"],["update:modelValue"]),setup(e){const n=$(e,"modelValue"),g=x("textEditor"),i=B(()=>g.value?.editor);return(l,t)=>{const k=K,v=V;return s(),b("div",{class:"w-full",onKeydownCapture:[t[1]||(t[1]=c(f(a=>!e.disabled&&!e.isEmpty&&l.$emit("submit",i.value),["ctrl","stop"]),["enter"])),t[2]||(t[2]=c(f(a=>!e.disabled&&!e.isEmpty&&l.$emit("submit",i.value),["meta","stop"]),["enter"]))],onKeydown:t[3]||(t[3]=c(f(a=>l.$emit("cancel",i.value),["stop"]),["esc"]))},[r(o(S),{ref_key:"textEditor",ref:g,autofocus:!0,editable:e.editable,content:e.content,mentions:o(E).data,class:M(["editor flex",e.editable&&"border rounded"]),"editor-class":["text-p-sm min-w-2 flex-grow",e.editable&&"pl-2.5 py-1.5"],placeholder:e.placeholder,"bubble-menu":["Bold","Italic","Strikethrough","Separator","Code","Blockquote","Separator",["Bullet List","Numbered List"]],onChange:t[0]||(t[0]=a=>{l.$emit("change"),n.value=a})},{bottom:m(({editor:a})=>[e.editable?(s(),b("div",z,[e.isEmpty?u("",!0):(s(),y(o(h),{key:0,disabled:e.disabled,variant:"ghost",class:"!h-5 !w-5 !text-xs !rounded-sm",onClick:w=>l.$emit("submit",a)},{icon:m(()=>[r(k,{class:"size-3.5"})]),_:1},8,["disabled","onClick"])),e.isEmpty?u("",!0):(s(),y(o(h),{key:1,variant:"ghost",class:"!h-5 !w-5 !text-xs !rounded-sm",onClick:w=>l.$emit("cancel",a)},{icon:m(()=>[r(v,{class:"w-3.5"})]),_:1},8,["onClick"]))])):u("",!0)]),_:1},8,["editable","content","mentions","class","editor-class","placeholder"])],32)}}};export{q as default};
//# sourceMappingURL=CommentEditor-a5b85f6c.js.map
